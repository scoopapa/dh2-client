{
  "version": 3,
  "sources": ["../../../../data/mods/maadowrlostzone/moves.ts"],
  "sourcesContent": ["export const Moves: { [moveid: string]: ModdedMoveData } = {\r\n\taloevera: {\r\n\t\tnum: -1,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 100,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"All grounded Grass Pok\u00E9mon on the field have their Atk and SpA raised by 1 stage.\",\r\n\t\tname: \"Aloe Vera\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonAfterHit(target, source, move) {\r\n\t\t\tconst targets = [];\r\n\t\t\tfor (const side of this.sides) {\r\n\t\t\t\tfor (const pokemon of side.active) {\r\n\t\t\t\t\tif (pokemon && !pokemon.fainted && pokemon.hasType('Grass') && pokemon.isGrounded()) {\r\n\t\t\t\t\t\ttargets.push(pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!targets.length) return false;\r\n\t\r\n\t\t\tfor (const pokemon of targets) {\r\n\t\t\t\tthis.boost({atk: 1, spa: 1}, pokemon, source, move);\r\n\t\t\t\tthis.add('-message', `${pokemon.name}'s Attack and Special Attack were boosted by Aloe Vera!`);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Grass\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\t\r\n  // end\r\n\r\n  // start\r\n  clivejump: {\r\n\t\tnum: -2,\r\n\t\taccuracy: 95,\r\n\t\tbasePower: 85,\r\n\t\tcategory: \"Physical\",\r\n\t   \tshortDesc: \"Lowers target's Def by 1 stage, 2 in Tailwind.\",\r\n\t\tname: \"Clive Jump\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1},\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tonHit(target, source) {\r\n\t\t\t  // Check if Tailwind is active on the user's side\r\n\t\t\t  if (source.side.sideConditions['tailwind']) {\r\n\t\t\t\tthis.boost({def: -2}, target);\r\n\t\t\t  } else {\r\n\t\t\t\tthis.boost({def: -1}, target);\r\n\t\t\t  }\r\n\t\t\t},\r\n\t\t  },\r\n\t target: \"normal\",\r\n\t type: \"Rock\",\r\n    contestType: \"Cool\",\r\n\t},\r\n  // end\r\n\r\n  // start\r\n  coldrush: {\r\n\tnum: -3,\r\n\taccuracy: 100,\r\n\tbasePower: 120,\r\n\tcategory: \"Physical\",\r\n\tshortDesc: \"This move hits in two turns and sets Snow.\",\r\n\tname: \"Cold Rush\",\r\n\tpp: 10,\r\n\tpriority: 0,\r\n\tflags: {allyanim: 1, metronome: 1, futuremove: 1},\r\n\tignoreImmunity: true,\r\n\tonTryMove() {\r\n\t\tthis.attrLastMove('[still]');\r\n\t\treturn true;\r\n\t},\r\n\tonTry(source, target) {\r\n\t\tthis.add('-anim', source, 'Future Sight', target);\r\n\t\tif (!target.side.addSlotCondition(target, 'futuremove')) return false;\r\n\t\tObject.assign(target.side.slotConditions[target.position]['futuremove'], {\r\n\t\t\tduration: 3,\r\n\t\t\tmove: 'coldrush',\r\n\t\t\tsource: source,\r\n\t\t\tmoveData: {\r\n\t\t\t\tid: 'coldrush',\r\n\t\t\t\tname: \"Cold Rush\",\r\n\t\t\t\taccuracy: 100,\r\n\t\t\t\tbasePower: 120,\r\n\t\t\t\tcategory: \"Physical\",\r\n\t\t\t\tpriority: 0,\r\n\t\t\t\tflags: {allyanim: 1, metronome: 1, futuremove: 1},\r\n\t\t\t\tignoreImmunity: false,\r\n\t\t\t\tonAfterMoveSecondary(this: Battle) {\r\n\t\t\t\t\tthis.field.setWeather('snow');\r\n\t\t\t\t},\r\n\t\t\t\tonPrepareHit(this: Battle, target: Pokemon, source: Pokemon) {\r\n\t\t\t\t\tthis.add('-anim', source, 'Doom Desire', target);\r\n\t\t\t\t},\r\n\t\t\t\teffectType: 'Move',\r\n\t\t\t\ttype: 'Ice',\r\n\t\t\t},\r\n\t\t});\r\n\t\tthis.add('-start', source, 'move: Cold Rush');\r\n\t\treturn this.NOT_FAIL;\r\n\t},\r\n\tsecondary: null,\r\n\ttarget: \"normal\",\r\n\ttype: \"Ice\",\r\n\tcontestType: \"Cool\",\r\n},\r\n  // end\r\n\r\n  // start\r\n  colourmegone: {\r\n    num: -4,\r\n    accuracy: 100,\r\n    basePower: 60,\r\n    category: \"Physical\",\r\n    shortDesc: \"User's primary type changes to an ally's primary type before attacking.\",\r\n    name: \"Colour Me Gone\",\r\n    pp: 10,\r\n    priority: 1,\r\n    flags: {contact: 1, protect: 1, mirror: 1, metronome: 1},\r\n    \r\n    onModifyType(move, pokemon, target) {\r\n        let newType = null;\r\n        \r\n        // Find an ally with a different primary type\r\n        for (const ally of pokemon.side.active) {\r\n            if (ally && !ally.fainted && ally !== pokemon) {\r\n                if (ally.types[0] !== pokemon.types[0] && ally.types[0] !== pokemon.types[1]) {\r\n                    newType = ally.types[0];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // If a new type is found, change the user's primary type and the move's type\r\n        if (newType) {\r\n            pokemon.setType(newType);\r\n            this.add('-start', pokemon, 'typechange', newType);\r\n            move.type = newType;\r\n\r\n\t\t}\r\n\t\t\r\n\t\t// Set the move's type to match the user's current primary type\r\n        move.type = pokemon.types[0];\r\n    },\r\n    \r\n    onTryMove(pokemon, target, move) {\r\n        this.attrLastMove('[still]');\r\n    },\r\n    \r\n    onHit(target, source, move) {\r\n        // The actual damage-dealing part of the move\r\n        // This will run after the type change\r\n    },\r\n\r\n    target: \"normal\",\r\n    type: \"Normal\",\r\n    contestType: \"Cool\",\r\n},\r\n\t  \r\n  // end\r\n\r\n  // start\r\n  cuttingedge: {\r\n\t\tnum: -5,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 85,\r\n\t\tcategory: \"Physical\",\r\n\t   shortDesc: \"This move does 50% more damage in Grassy Terrain.\",\r\n\t\tname: \"Cutting Edge\",\r\n\t\tpp: 15,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1, slicing: 1},\r\n\t\tsecondary: null,\r\n\t\tonBasePower(basePower, source) {\r\n\t\t\tif (this.field.isTerrain('grassyterrain')) {\r\n\t\t\t\tthis.debug('cuttingedge grassy terrain boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Ground\",\r\n\t   contestType: \"Cool\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n   dispersion: {\r\n\t\tnum: -6,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 90,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Type varies based on the user's primary type. Hits foes.\",\r\n\t\tname: \"Dispersion\",\r\n\t\tpp: 15,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, dance: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Silver Wind\", target);\r\n\t\t},\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tlet type = pokemon.types[0];\r\n\t\t\tif (type === \"Bird\") type = \"???\";\r\n\t\t\tmove.type = type;\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tenragedassault: {\r\n\t\tnum: -7,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tbasePowerCallback(pokemon) {\r\n\t\t\treturn Math.min(350, 50 + 50 * pokemon.timesAttacked);\r\n\t\t},\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Works like Rage Fist but isn't a punch move.\",\r\n\t\tname: \"Enraged Assault\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tentanglement: {\r\n\t\tnum: -8,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 80,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Sets Sticky Web in Electric Terrain.\",\r\n\t\tname: \"Entanglement\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonAfterHit(target, source, move) {\r\n\t\t\tif (!move.hasSheerForce && source.hp && (this.field.isTerrain('electricterrain'))) {\r\n\t\t\t\tfor (const side of source.side.foeSidesWithConditions()) {\r\n\t\t\t\t\tside.addSideCondition('stickyweb');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterSubDamage(damage, target, source, move) {\r\n\t\t\tif (!move.hasSheerForce && source.hp && (this.field.isTerrain('electricterrain'))) {\r\n\t\t\t\tfor (const side of source.side.foeSidesWithConditions()) {\r\n\t\t\t\t\tside.addSideCondition('stickyweb');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: {}, // Sheer Force-boosted\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tenzymaticbite: {\r\n\t\tnum: -9,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 85,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Recovers half of the damage done to the target, 3/4 in Psychic Terrain.\",\r\n\t\tname: \"Enzymatic Bite\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, heal: 1, metronome: 1, bite: 1},\r\n\t\tdrain: [1, 2],\r\n\t\tonModifyMove(move, source, target) {\r\n\t\t\tif (this.field.isTerrain('psychicterrain')) move.drain = [3, 4];\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Poison\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tfrostbite: {\r\n\t\tnum: -10,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Causes 1/8 residual damage to the target every turn.\",\r\n\t\tname: \"Frost Bite\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, bite: 1},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-start', pokemon, 'Frost Bite');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 13,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 8);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Frost Bite');\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tvolatileStatus: 'frostbite',\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Ice\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t// end\r\n\r\n\t// start: yet to consider Instruct due to list\r\n\tgigavolt: {\r\n\t\tnum: -11,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 140,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Causes paralysis if user gets interrupted.\",\r\n\t\tname: \"Giga Volt\",\r\n\t\tpp: 5,\r\n\t\tpriority: -3,\r\n\t\tflags: {contact: 1, protect: 1, failmefirst: 1, nosleeptalk: 1, noassist: 1, failcopycat: 1, failinstruct: 1},\r\n\t\tpriorityChargeCallback(pokemon) {\r\n\t\t\tpokemon.addVolatile('gigavolt');\r\n\t\t},\r\n\t\tbeforeMoveCallback(pokemon) {\r\n\t\t\tif (pokemon.volatiles['gigavolt']?.lostFocus) {\r\n\t\t\t\tthis.add('cant', pokemon, 'Giga Volt', 'Giga Volt');\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-singleturn', pokemon, 'move: Giga Volt');\r\n\t\t\t},\r\n\t\t\tonHit(pokemon, source, move) {\r\n\t\t\t\tif (move.category !== 'Status') {\r\n\t\t\t\t\t\tthis.effectState.lostFocus = true;\r\n\t\t\t\t\t\tif (!source.hasType('Ground')) {  \r\n\t\t\t\t\t\t\tsource.trySetStatus('par', pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\t\tif (status.id === 'flinch') return null;\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Electric\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tgolddigger: {\r\n\t\tnum: -12,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 100,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Removes target's Steel-type.\",\r\n\t\tname: \"Golddigger\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (target.hasType('Steel')) {\r\n\t\t\t\ttarget.setType(target.getTypes(true).map(type => type === \"Steel\" ? \"???\" : type));\r\n\t\t\t\tthis.add('-start', target, 'typechange', target.types.join('/'), '[from] move: Golddigger');\r\n\r\n\t\t\t\t// Apply the Steel Denial volatile only if the target is Aegislash-Ma'adowr to ensure Steel-type is removed even if it changes its form\r\n\t\t\t\tif (target.baseSpecies.name === 'Aegislash-Ma\\'adowr' && target.species.name !== 'Aegislash-Blade-Ma\\'adowr') {\r\n\t\t\t\t\ttarget.addVolatile('steeldenial');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\t\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Dragon\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\thoneydew: {\r\n\t\tnum: -13,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"User and ally recover 25% of their HP. If they're Bug-type, they also have their offensive stats increased.\",\r\n\t\tname: \"Honey Dew\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {snatch: 1, heal: 1, bypasssub: 1, metronome: 1},\r\n\t\tonHit(pokemon) {\r\n\t\t\t// Attempt to heal the Pok\u00E9mon and store whether healing was successful\r\n\t\t\tconst healedAmount = this.heal(this.modify(pokemon.maxhp, 0.25));\r\n\t\t\tconst success = typeof healedAmount === 'number' && healedAmount > 0;\r\n\t\t\t// If the Pok\u00E9mon is Bug-type and was healed, boost its offensive stats\r\n\t\t\tif (pokemon.hasType('Bug') && success) {\r\n\t\t\t\tthis.boost({atk: 1, spa: 1}, pokemon, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* onHit(pokemon) {\r\n\t\t\tconst success = !!this.heal(this.modify(pokemon.maxhp, 0.25));\r\n\t\t\tif (pokemon.hasType('Bug')) {\r\n\t\t\t\tthis.boost({atk: 1, spa: 1}, pokemon, pokemon) || success;\r\n\t\t\t}\r\n\t\t}, */ // original code where Bug Pkm would receive the boost regardless of whether their HP was full or not\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allies\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n   // end\r\n\r\n\t// start\r\n\ticechain: {\r\n\t\tnum: -14,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 80,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Traps target for 4-5 turns and causes 1/8 residual damage.\",\r\n\t\tname: \"Ice Chain\",\r\n\t\tpp: 15,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1},\r\n\t\tvolatileStatus: 'partiallytrapped',\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Ice\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\thasamiwaza: {\r\n\t\tnum: -15,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 140,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Causes Intimidate if user gets interrupted.\",\r\n\t\tname: \"Hasami-waza\",\r\n\t\tpp: 5,\r\n\t\tpriority: -3,\r\n\t\tflags: {contact: 1, protect: 1, failmefirst: 1, nosleeptalk: 1, noassist: 1, failcopycat: 1, failinstruct: 1},\r\n\t\tpriorityChargeCallback(pokemon) {\r\n\t\t\tpokemon.addVolatile('hasamiwaza');\r\n\t\t},\r\n\t\tbeforeMoveCallback(pokemon) {\r\n\t\t\tif (pokemon.volatiles['hasamiwaza']?.lostFocus) {\r\n\t\t\t\tthis.add('cant', pokemon, 'Hasami-waza', 'Hasami-waza');\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-singleturn', pokemon, 'move: Hasami-waza');\r\n\t\t\t},\r\n\t\t\tonHit(pokemon, source, move) {\r\n\t\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\t\tif (move.category !== 'Status') {\r\n\t\t\t\t\t\tthis.effectState.lostFocus = true && this.boost({atk: -1}, target, pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\t\tif (status.id === 'flinch') return null;\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tlightningswing: {\r\n\t\tnum: -16,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 60,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Recovers 1/2 of the damage dealt to the target(s).\",\r\n\t\tname: \"Lightning Swing\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, heal: 1, metronome: 1},\r\n\t\tdrain: [1, 2],\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacent\",\r\n\t\ttype: \"Electric\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tlunardust: {\r\n\t\tnum: -17,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 120,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Clears terrain and can't be used twice.\",\r\n\t\tname: \"Lunar Dust\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1, cantusetwice: 1},\r\n\t\tonAfterHit(target, source) {\r\n\t\t\tif (source.hp) {\r\n\t\t\t\tthis.field.clearTerrain();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterSubDamage(damage, target, source) {\r\n\t\t\tif (source.hp) {\r\n\t\t\t\tthis.field.clearTerrain();\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Rock\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tlunarstorm: {\r\n\t\tnum: -18,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 120,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Recovers 50% of the damage dealt to the target and needs to recharge afterwards.\",\r\n\t\tname: \"Lunar Storm\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {recharge: 1, protect: 1, mirror: 1, heal: 1, metronome: 1},\r\n\t\tdrain: [1, 2],\r\n\t\tself: {\r\n\t\t\tvolatileStatus: 'mustrecharge',\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Rock\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t// end\r\n\r\n   // start\r\n\tmotioncap: {\r\n\t\tnum: -19,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 80,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Steals positive stats.\",\r\n\t\tname: \"Motion Cap\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, bypasssub: 1},\r\n\t\tstealsBoosts: true,\r\n\t\t// Boost stealing implemented in scripts.js\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Fighting\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\trecalibration: {\r\n\t\tnum: -20,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"Boost acc and another stat based on target's best stat.\",\r\n\t\tname: \"Recalibration\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {bypasssub: 1, allyanim: 1, metronome: 1},\r\n\t\tonHit(target, source) {\r\n\t\t\tif (!target) return;\r\n\t\t\tconst bestStat = target.getBestStat(false, true) as keyof BoostsTable;\r\n\t\t\tconst boosts: Partial<BoostsTable> = {accuracy: 1};\r\n\t\t\tboosts[bestStat] = 2;\r\n\t\t\tthis.boost(boosts, source);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Electric\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tsandpit: {\r\n\t\tnum: -21,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 85,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Traps target for 4-5 turns and lowers its Spe by 1 stage.\",\r\n\t\tname: \"Sand Pit\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonTryImmunity(target) {\r\n\t\t\treturn this.dex.getImmunity('trapped', target);\r\n\t\t},\r\n\t\tvolatileStatus: 'sandpit',\r\n\t\tcondition: {\r\n\t\t\tonStart(pokemon, source) {\r\n\t\t\t\tthis.add('-start', pokemon, 'move: Sandpit', '[of] ' + source);\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 14,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tconst source = this.effectState.source;\r\n\t\t\t\tif (source && (!source.isActive || source.hp <= 0 || !source.activeTurns)) {\r\n\t\t\t\t\tdelete pokemon.volatiles['sandpit'];\r\n\t\t\t\t\tthis.add('-end', pokemon, 'Sandpit', '[partiallytrapped]', '[silent]');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.boost({spe: -1}, pokemon, source, this.dex.getActiveMove('sandpit'));\r\n\t\t\t},\r\n\t\t\tonTrapPokemon(pokemon) {\r\n\t\t\t\tif (this.effectState.source && this.effectState.source.isActive) pokemon.tryTrap();\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Ground\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tsensorycues: {\r\n\t\tnum: -22,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\t// Calculate the number of negative stat boosts on the target\r\n\t\t\tlet negativeBoosts = 0;\r\n\t\t\tconst boostKeys: Array<keyof BoostsTable> = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion']; // Define the valid keys\r\n\t\r\n\t\t\tfor (const stat of boostKeys) {\r\n\t\t\t\tif (target.boosts[stat] < 0) {\r\n\t\t\t\t\tnegativeBoosts += Math.abs(target.boosts[stat]); // Count the absolute value of negative boosts\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// Calculate power based on the number of negative boosts\r\n\t\t\tlet power = 50 + 50 * negativeBoosts;\r\n\t\t\tif (power > 2150) power = 2150; // Cap the power at 2150\r\n\t\t\tthis.debug('BP: ' + power);\r\n\t\t\treturn power;\r\n\t\t},\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Gets more powerful the more negative stat drops the target has.\",\r\n\t\tname: \"Sensory Cues\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tshortcircuit: {\r\n\t\tnum: -23,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 80,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Recovers half of the damage done to the target, burns in Acidic Terrain.\",\r\n\t\tname: \"Short Circuit\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, heal: 1, metronome: 1, bite: 1},\r\n\t\tdrain: [1, 2],\r\n\t\tsecondary: {chance: 100,\r\n\t\t\tonHit(target, source, move) {\r\n\t\t\t\tif (target.hasAbility('shielddust') || target.hasItem('covertcloak')) return;\r\n\t\t\t\tif (this.field.isTerrain('acidicterrain')) {\r\n\t\t\t\ttarget.trySetStatus('brn', source, move);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Electric\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tsoothingsong: {\r\n\t\tnum: -24,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 90,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Inflicts target with a Torment effect.\",\r\n\t\tname: \"Soothing Song\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, sound: 1, bypasssub: 1, metronome: 1},\r\n\t\tonHit(target, source) {\r\n\t\t\t// Check if the target has the Soundproof ability\r\n\t\t\tif (target.hasAbility('soundproof')) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Soundproof');\r\n\t\t\t\treturn null; // Prevent the Torment effect\r\n\t\t\t}\r\n\t\r\n\t\t\t// Apply the Torment effect if the target does not have Soundproof\r\n\t\t\ttarget.addVolatile('torment');\r\n\t\t},\r\n//\t\tvolatileStatus: 'torment',\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Grass\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tsubdued: {\r\n\t\tnum: -25,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 90,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Inflicts target with a torment effect.\",\r\n\t\tname: \"Subdued\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tvolatileStatus: 'torment',\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tsunbathing: {\r\n\t\tnum: -26,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"User and ally recover 25% of their HP and no longer have negative stat boosts.\",\r\n\t\tname: \"Sun Bathing\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {snatch: 1, heal: 1, bypasssub: 1, metronome: 1},\r\n\t\tonHit(pokemon) {\r\n\t\t\t// Healing for the user\r\n\t\t\tif (pokemon.hp < pokemon.maxhp) {\r\n\t\t\t\tconst healAmount = pokemon.maxhp / 4;\r\n\t\t\t\tpokemon.heal(healAmount);\r\n\t\t\t\tthis.add('-heal', pokemon, pokemon.getHealth, healAmount);\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// Clear negative stat boosts for the user\r\n\t\t\tlet userBoosts: BoostsTable = pokemon.boosts;\r\n\t\t\tlet clearedUserBoosts = false; // Flag to track if any user boosts were cleared\r\n\t\t\tfor (const stat in userBoosts) {\r\n\t\t\t\tif (userBoosts[stat as keyof BoostsTable] < 0) {\r\n\t\t\t\t\tuserBoosts[stat as keyof BoostsTable] = 0;\r\n\t\t\t\t\tclearedUserBoosts = true; // Set flag if any boost was reset\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Notify about the clearing of user's negative boosts\r\n\t\t\tif (clearedUserBoosts) {\r\n\t\t\t\tpokemon.clearBoosts();\r\n\t\t\t\tthis.add('-clearboost', pokemon);\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// Access the ally (assuming the ally is the other Pok\u00E9mon in the same team)\r\n\t\t\tconst ally = pokemon.side.active.find(p => p !== pokemon); // Adjust as needed based on your game's structure\r\n\t\t\r\n\t\t\t// Clear negative stat boosts for the ally\r\n\t\t\tif (ally) {\r\n\t\t\t\tlet allyBoosts: BoostsTable = ally.boosts;\r\n\t\t\t\tlet clearedAllyBoosts = false; // Flag to track if any ally boosts were cleared\r\n\t\t\t\tfor (const stat in allyBoosts) {\r\n\t\t\t\t\tif (allyBoosts[stat as keyof BoostsTable] < 0) {\r\n\t\t\t\t\t\tallyBoosts[stat as keyof BoostsTable] = 0;\r\n\t\t\t\t\t\tclearedAllyBoosts = true; // Set flag if any boost was reset\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Notify about the clearing of ally's negative boosts\r\n\t\t\t\tif (clearedAllyBoosts) {\r\n\t\t\t\t\tally.clearBoosts();\r\n\t\t\t\t\tthis.add('-clearboost', ally);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn true; \r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allies\",\r\n\t\ttype: \"Fire\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tterraform: {\r\n\t\tnum: -27,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 100,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"All grounded Ground Pok\u00E9mon on the field have their Def and SpD raised by 1 stage.\",\r\n\t\tname: \"Terraform\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonAfterHit(target, source, move) {\r\n\t\t\tconst targets = [];\r\n\t\t\tfor (const side of this.sides) {\r\n\t\t\t\tfor (const pokemon of side.active) {\r\n\t\t\t\t\tif (pokemon && !pokemon.fainted && pokemon.hasType('Ground') && pokemon.isGrounded()) {\r\n\t\t\t\t\t\ttargets.push(pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!targets.length) return false;\r\n\t\r\n\t\t\tfor (const pokemon of targets) {\r\n\t\t\t\tthis.boost({def: 1, spd: 1}, pokemon, source, move);\r\n\t\t\t\tthis.add('-message', `${pokemon.name}'s Defense and Special Defense were boosted by Terraform!`);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Ground\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t\r\n\t// end\r\n\r\n\t// start\r\n\tthunderousroar: {\r\n\t\tnum: -28,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"Sets Electric Terrain and switches out.\",\r\n\t\tname: \"Thunderous Roar\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {sound: 1},\r\n\t\t// TODO show prepare message before the \"POKEMON used MOVE!\" message\r\n\t\t// This happens even before sleep shows its \"POKEMON is fast asleep.\" message\r\n\t\tterrain: 'electricterrain',\r\n\t\tselfSwitch: true,\r\n\t\tsecondary: null,\r\n\t\ttarget: \"all\",\r\n\t\ttype: \"Electric\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\ttimecompressor: {\r\n\t\tnum: -29,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"Sets Trick Room two turns later.\",\r\n\t\tname: \"Time Compressor\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {metronome: 1},\r\n\t//\tsideCondition: 'timecrystals',\r\n\t\tonTry(pokemon) {\r\n\t\t\tif (!pokemon.side.sideConditions['timecrystals']) {\r\n\t\t\t\tpokemon.side.addSideCondition('timecrystals');\r\n\t\t\t\tthis.add('-message', 'Time crystals started to glow.');\r\n\t\t\t\tthis.add('-anim', pokemon, 'Flash');\t\r\n\t\t\t} else {\r\n\t\t\t\treturn false; // If Timedistortion is already active, fail the move\r\n\t\t\t}\r\n\t\t},\t\t\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allySide\",\r\n\t\ttype: \"Rock\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tvoltomator: {\r\n\t\tnum: -30,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 20,\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\tconst bp = move.basePower + 20 * pokemon.positiveBoosts();\r\n\t\t\tthis.debug('BP: ' + bp);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Power Trip clone.\",\r\n\t\tname: \"Voltomator\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Electric\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t//Start\r\n\twondermirror: {\r\n\t\tnum: -31,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"Changes user's type to the type of the last move it was hit by.\",\r\n\t\tname: \"Wonder Mirror\",\r\n\t\tpp: 10,\r\n\t\tpriority: 4,\r\n\t\tstallingMove: true,\r\n\t\tvolatileStatus: 'wondermirror',\t\r\n\t\tflags: {noassist: 1, failcopycat: 1, failinstruct: 1},\r\n\t\tonPrepareHit(pokemon) {\r\n\t\t\treturn !!this.queue.willAct() && this.runEvent('StallMove', pokemon);\r\n\t\t},\r\n\t\tonHit(pokemon) {\r\n\t\t\tpokemon.addVolatile('stall');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-singleturn', target, 'move: Wonder Mirror');\r\n\t\t\t},\r\n\t\t\tonTryHitPriority: 3,\r\n\t\t\tonTryHit(target, source, move) {\r\n\t\t\t\tthis.add('-activate', target, 'move: Wonder Mirror');\r\n\t\t\t\t// Change the user's type to the type of the incoming move\r\n\t\t\t\tconst newType = move.type;\r\n\t\t\t\ttarget.setType(newType);\r\n\t\t\t\tthis.add('-start', target, 'typechange', newType);\r\n\t\t\t\treturn this.NOT_FAIL;\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"self\",\r\n\t\ttype: \"Psychic\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t// end\r\n\r\n   // start\r\n   acidicterrain: {\r\n\t\tnum: -32,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"Sets terrain that boosts Poison moves and makes grounded Steel Pkm susceptible to offensive Poison moves.\",\r\n\t\tname: \"Acidic Terrain\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {nonsky: 1, metronome: 1},\r\n\t\tterrain: 'acidicterrain',\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tdurationCallback(source, effect) {\r\n\t\t\t\tif (source?.hasItem('terrainextender')) {\r\n\t\t\t\t\treturn 8;\r\n\t\t\t\t}\r\n\t\t\t\treturn 5;\r\n\t\t\t},\r\n\t\t\tonBasePowerPriority: 6,\r\n\t\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Poison' && attacker.isGrounded() && !attacker.isSemiInvulnerable()) {\r\n\t\t\t\t\tthis.debug('acidic terrain boost');\r\n\t\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifyMovePriority: -5,\r\n\t\t\tonModifyMove(move, source, target) {\r\n\t\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\r\n\t\t\t\tif (move.ignoreImmunity !== true) {\r\n\t\t\t\t\tmove.ignoreImmunity['Poison'] = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonTryHit(target, source, move) {\r\n\t\t\t\tif (move.type === 'Poison') {\r\n\t\t\t\t\tif ((!target.isGrounded() || target.isSemiInvulnerable()) && !this.dex.getImmunity('Poison', target)) {\r\n\t\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t\t\tthis.hint(`Only targets that are affected by terrain lose their immunity to Poison.`);\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonFieldStart(field, source, effect) {\r\n\t\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\t\tthis.add('-fieldstart', 'move: Acidic Terrain', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t\t\t\tthis.add('-message', \"Poison-type moves used by grounded Pok\u00E9mon will have their power increased.\");\r\n\t\t\t\t\tthis.add('-message', \"Grounded Steel-type Pok\u00E9mon will also lose their immunity to Poison-type moves.\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-fieldstart', 'move: Acidic Terrain');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonFieldResidualOrder: 27,\r\n\t\t\tonFieldResidualSubOrder: 7,\r\n\t\t\tonFieldEnd() {\r\n\t\t\t\tthis.add('-fieldend', 'move: Acidic Terrain');\r\n\t\t\t},\r\n \t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"all\",\r\n\t\ttype: \"Poison\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n   // end\r\n\r\n\t// start\r\n\toilspill: {\r\n\t\tnum: -33,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 90,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Dual Poison & Water move that poisons in Acidic terrain.\",\r\n\t\tname: \"Oil Spill\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonEffectiveness(typeMod, target, type, move) {\r\n\t\t\treturn typeMod + this.dex.getEffectiveness('Water', type);\r\n\t\t},\r\n\t\tsecondary: {chance: 100,\r\n\t\t\tonHit(target, source, move) {\r\n\t\t\t\tif (target.hasAbility('shielddust') || target.hasItem('covertcloak')) return;\r\n\t\t\t\tif (this.field.isTerrain('acidicterrain')) {\r\n\t\t\t\ttarget.trySetStatus('psn', source);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Poison\",\r\n\t\tcontestType: \"Tough\",\r\n\t\t// Test: Animation\r\n\t\tonPrepareHit(target, source) {\r\n\t\t\t// Play the Muddy Water animation (using Surf's animation with a color change)\r\n\t\t\tthis.add('-anim', source, 'Muddy Water', target);\t\r\n\t\t\t// Optionally, play another animation\r\n\t\t//\tthis.add('-anim', source, 'Toxic', target);\r\n\t\t},\r\n\t\t// test animation\r\n\t},\r\n\t// end\r\n\r\n\t// start: damage info in conditions.ts\r\n\tincandescentflame: {\r\n\t\tnum: -34,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 85,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Burns and suffers no power loss in Rain.\",\r\n\t\tname: \"Incandescent Flame\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, defrost: 1, metronome: 1},\r\n\t\t/*onBasePower(basePower, source) {\r\n\t\t\tif (['raindance', 'primordialsea'].includes(source.effectiveWeather()) && !source.hasItem('utilityumbrella')) {\r\n\t\t\t\tthis.debug('rain Incandescent Flame boost');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},*/\r\n\t\tsecondary: {chance: 100,\r\n\t\t\tonHit(target, source, move) {\r\n\t\t\t\tif (target.hasAbility('shielddust') || target.hasItem('covertcloak')) return;\r\n\t\t\t\tif (['raindance', 'primordialsea'].includes(source.effectiveWeather())) {\r\n\t\t\t\ttarget.trySetStatus('brn', source, move);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Fire\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t// end\r\n\r\n\t// start: damage info in conditions.ts\r\n\teyeofthesun: {\r\n\t\tnum: -35,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 130,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Skips in Sun and sets Wind Blessing, reducing super-effective damage for the team.\",\r\n\t\tname: \"Eye of the Sun\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {charge: 1, protect: 1, metronome: 1, mirror: 1}, \r\n\t\tonTryMove(attacker, defender, move) {\r\n\t\t\tif (attacker.removeVolatile(move.id)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.add('-prepare', attacker, 'Tailwind'); // originally: move.name instead of 'Tailwind'\r\n\t\t\tif (!attacker.side.sideConditions['windblessing']) {\r\n\t\t\t\tattacker.side.addSideCondition('windblessing');\r\n\t\t\t}\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(attacker.effectiveWeather())) {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.add('-anim', attacker, 'Oblivion Wing', defender); // originally: this.addMove,  and instead of Oblivion Wing, it was move.name\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.runEvent('ChargeMove', attacker, defender, move)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tattacker.addVolatile('twoturnmove', defender);\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\thasSheerForce: true,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Flying\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\treboot: {\r\n\t\tnum: -38,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Reboot\",\r\n\t\tpp: 5,\r\n\t\tpriority: -8,\r\n\t\tflags: {heal: 1},\r\n\t\tshortDesc: \"Field: Removes effects, heals, and recovers items.\",\r\n\t\tonHitField(target, source, move) {\r\n\t\t\t// Clear all terrain and weather\r\n\t\t\tthis.field.clearTerrain();\r\n\t\t\tthis.field.clearWeather();\r\n\t\t\t// Clear all pseudoweather effects\r\n\t\t\tfor (const pseudoweather in this.field.pseudoWeather) {\r\n\t\t\t//\tthis.add('-end', pseudoweather.charAt(0).toUpperCase() + pseudoweather.slice(1), '[from] move: Reboot');\r\n\t\t\t\tthis.add('-fieldend', this.dex.conditions.get(pseudoweather).name); // new\r\n\t\t\t\tdelete this.field.pseudoWeather[pseudoweather]; // Remove each pseudoweather effect\r\n\t\t\t}\r\n\r\n\t\t\t// Clear all side conditions\r\n\t\t\tfor (const side of this.sides) {\r\n\t\t\t\tfor (const condition in side.sideConditions) {\r\n\t\t\t\t\tthis.add('-sideend', side, this.dex.conditions.get(condition).name); // new: add visual cue for removing side condition\r\n\t\t\t\t\tside.removeSideCondition(condition);\r\n\t\t\t//\t\tthis.add('-end', condition.charAt(0).toUpperCase() + condition.slice(1), '[from] move: Reboot');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// Re-enter all Pok\u00E9mon\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!pokemon.fainted) {\r\n\t\t\t\t\t// Cancel any pending moves or actions\r\n\t\t\t\t\tthis.queue.cancelMove(pokemon);\r\n\t\t\t\t\tthis.queue.cancelAction(pokemon);\r\n\t\t\t\t\t// Visual effect for re-entering\r\n\t\t\t\t\tthis.add('-anim', pokemon, 'Teleport', pokemon);\r\n\r\n\t\t\t\t\t// Clear all volatile effects in a general way\r\n\t\t\t\t\tfor (const volatile in pokemon.volatiles) {\r\n\t\t\t\t\t\tdelete pokemon.volatiles[volatile]; // Remove each volatile effect\r\n\t\t\t\t\t\tthis.add('-end', pokemon, volatile.charAt(0).toUpperCase() + volatile.slice(1), '[from] move: Reboot');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpokemon.clearBoosts();\r\n\t\t\t\t\tthis.add('-clearboost', pokemon);\r\n\t\r\n\t\t\t\t\t// Heal HP, cure status, restore PP\r\n\t\t\t\t\tpokemon.heal(pokemon.maxhp - pokemon.hp);\r\n\t\t\t\t\tpokemon.cureStatus();\r\n\t\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\t\tif (moveSlot.move !== 'Reboot') {\r\n\t\t\t\t\t\t\tmoveSlot.pp = moveSlot.maxpp;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Recover held item if it had one\r\n\t\t\t\t\tif (pokemon.lastItem) {\r\n\t\t\t\t\t\tpokemon.setItem(pokemon.lastItem);\r\n\t\t\t\t\t\tpokemon.lastItem = '';\r\n\t\t\t\t\t\tthis.add('-item', pokemon, pokemon.getItem(), '[from] move: Reboot');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Trigger ability as if Pok\u00E9mon just entered the field\r\n\t\t\t\t//\tthis.add('-ability', pokemon, pokemon.ability);\r\n\t\t\t\t\tthis.runEvent('SwitchIn', pokemon);\r\n\t\t\r\n\t\t\t\t\t// Reduce Reboot's PP to 0 for non-Porygon-Z-Ma'adowr users\r\n\t\t\t\t\tif (source.baseSpecies.baseSpecies !== 'Porygon-Z-Ma\\'adowr') {\r\n\t\t\t\t\t\tconst moveSlot = source.moveSlots.find(move => move.move === 'Reboot');\r\n\t\t\t\t\t\tif (moveSlot) {\r\n\t\t\t\t\t\t\tmoveSlot.pp = 0;\r\n\t\t\t\t\t\t//\tthis.add('-message', `${source.name}'s Reboot PP has been reduced to 0!`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// Trigger switch-in effects\r\n\t\t\t\t\tthis.add('-heal', pokemon, pokemon.getHealth, '[silent]');\r\n\t\t\t\t//\tthis.runEvent('SwitchIn', pokemon); // it's somewhere up\r\n\t\t\t\t\tthis.runEvent('AfterSwitchIn', pokemon); // Trigger any after-switch-in effects\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\t// Special effect for Porygon-Z-Ma'adowr\r\n\t\t\tif (source.baseSpecies.baseSpecies === 'Porygon-Z-Ma\\'adowr') {\r\n\t\t\t\t// Swap Attack and Special Attack\r\n\t\t\t\tconst newatk = source.storedStats.spa;\r\n\t\t\t\tconst newspa = source.storedStats.atk;\r\n\t\t\t\tsource.storedStats.atk = newatk;\r\n\t\t\t\tsource.storedStats.spa = newspa;\r\n\t\r\n\t\t\t\t// Swap Defense and Special Defense\r\n\t\t\t\tconst newdef = source.storedStats.spd;\r\n\t\t\t\tconst newspd = source.storedStats.def;\r\n\t\t\t\tsource.storedStats.def = newdef;\r\n\t\t\t\tsource.storedStats.spd = newspd;\t\t\t\r\n\t\r\n\t\t\t\tthis.add('-message', `${source.name}'s offensive and defensive base stats have been swapped. Unexpectedly!`);\r\n\t\t\t\tthis.add('-anim', source, 'confuseray', source); // Example animation\r\n\t\t\t}\r\n\t\t\tthis.add('-message', 'All Pok\u00E9mon had their stat changes removed and are fully restored!');\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"all\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tascension: {\r\n\t\tnum: -36,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"Life Dew + Mental Herb effect.\",\r\n\t\tname: \"Ascension\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {snatch: 1, heal: 1, bypasssub: 1, metronome: 1},\t\t\r\n\t\tonHit(pokemon) {\r\n\t\t\t// Healing for the user\r\n\t\t\tif (pokemon.hp < pokemon.maxhp) {\r\n\t\t\t\tconst healAmount = pokemon.maxhp / 4;\r\n\t\t\t\tpokemon.heal(healAmount);\r\n\t\t\t\tthis.add('-heal', pokemon, pokemon.getHealth, healAmount);\r\n\t\t\t}\r\n\r\n\t\t\tconst conditions = ['attract', 'taunt', 'encore', 'torment', 'disable', 'healblock'];\r\n\t\t\t\tfor (const firstCondition of conditions) {\r\n\t\t\t\t\tif (pokemon.volatiles[firstCondition]) {\r\n\t\t\t\t\t\tfor (const secondCondition of conditions) {\r\n\t\t\t\t\t\t\tpokemon.removeVolatile(secondCondition);\r\n\t\t\t\t\t\t\tif (firstCondition === 'attract' && secondCondition === 'attract') {\r\n\t\t\t\t\t\t\t\tthis.add('-end', pokemon, 'move: Attract', '[from] move: Ascension');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t// Access the ally (assuming the ally is the other Pok\u00E9mon in the same team)\r\n\t\t\tconst ally = pokemon.side.active.find(p => p !== pokemon);\r\n\t\t\r\n\t\t\t// Clear mental effects for the ally\r\n\t\t\tif (ally) {\r\n\t\t\t\tconst conditions = ['attract', 'taunt', 'encore', 'torment', 'disable', 'healblock'];\r\n\t\t\t\tfor (const firstCondition of conditions) {\r\n\t\t\t\t\tif (ally.volatiles[firstCondition]) {\r\n\t\t\t\t\t\tfor (const secondCondition of conditions) {\r\n\t\t\t\t\t\t\tally.removeVolatile(secondCondition);\r\n\t\t\t\t\t\t\tif (firstCondition === 'attract' && secondCondition === 'attract') {\r\n\t\t\t\t\t\t\t\tthis.add('-end', ally, 'move: Attract', '[from] move: Ascension');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\t\t\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allies\",\r\n\t\ttype: \"Grass\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t// end\r\n\r\n\t// start:\r\n\treactivepoison: {\r\n\t\tnum: -37,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Special\",\r\n\t\tname: \"Reactive Poison\", \r\n\t\tpp: 20,  \r\n\t\tpriority: 0, \r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tbeforeTurnCallback(pokemon) {\r\n\t\t\t//\tconsole.log(`Reactive Poison beforeTurnCallback - Checking targets for ${pokemon.name}`);\r\n\t\t\t\tfor (const target of pokemon.side.foe.active) {\r\n\t\t\t\t\tif (target && !target.fainted && (target.status === 'psn' || target.status === 'tox')) {\r\n\t\t\t\t\t\ttarget.addVolatile('reactivepoisontarget', pokemon);\r\n\t\t\t//\t\t\tconsole.log(`Reactive Poison - Added 'reactivepoisontarget' volatile to ${target.name}`);\r\n\t\t\t\t\t\tthis.add('-message', `${pokemon.name} is eyeing ${target.name} for a swift strike!`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\r\n\t\t\tonModifyPriority(priority, source, target) {\r\n\t\t\t//\tconsole.log(`Reactive Poison onModifyPriority - Checking priority for ${source.name} against ${target?.name}`);\r\n\t\t\t\t// Check if any opponent has the 'reactivepoisontarget' volatile\r\n\t\t\t\tfor (const foe of source.side.foe.active) {\r\n\t\t\t\t\tif (foe && foe.volatiles['reactivepoisontarget']) {\r\n\t\t\t//\t\t\tconsole.log(`Reactive Poison - Priority increased to ${priority + 1} against ${foe.name}`);\r\n\t\t\t\t\t\treturn priority + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t//\tconsole.log(`Reactive Poison - Priority unchanged: ${priority}`);\r\n\t\t\t\treturn priority;\r\n\t\t\t},\r\n\t\t\r\n\t\t\tonPrepareHit(target, source, move) {\r\n\t\t\t//\tconsole.log(`Reactive Poison onPrepareHit - Preparing hit from ${source.name} to ${target.name}`);\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tif (target.volatiles['reactivepoisontarget']) {\r\n\t\t\t//\t\tconsole.log(`Reactive Poison - Target has 'reactivepoisontarget' volatile, showing Focus Energy animation`);\r\n\t\t\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-anim', source, \"Venoshock\", target);\r\n\t\t\t},\r\n\t\t\r\n\t\t\tcondition: {\r\n\t\t\t\tduration: 1,\r\n\t\t\t\tonStart(pokemon, source) {\r\n\t\t\t//\t\tconsole.log(`Reactive Poison - Volatile 'reactivepoisontarget' started on ${pokemon.name}`);\r\n\t\t\t\t\tthis.debug(`Reactive Poison - Volatile 'reactivepoisontarget' started on ${pokemon.name}`);\r\n\t\t\t\t},\r\n\t\t\t//\tonEnd(pokemon) {\r\n\t\t\t//\t\tconsole.log(`Reactive Poison - Volatile 'reactivepoisontarget' ended on ${pokemon.name}`);\r\n\t\t\t//\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Poison\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n\r\n\t// start\r\n\temi: {\r\n\t\tnum: -40,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"Protect + Charge if contact.\",\r\n\t\tname: \"EMI\",\r\n\t\tpp: 10,\r\n\t\tpriority: 4,\r\n\t\tflags: {noassist: 1, failcopycat: 1},\r\n\t\tstallingMove: true,\r\n\t\tvolatileStatus: 'emi',\t\t\r\n\t\tonPrepareHit(pokemon) {\r\n\t\t\treturn !!this.queue.willAct() && this.runEvent('StallMove', pokemon);\r\n\t\t},\r\n\t\tonHit(pokemon) {\r\n\t\t\tpokemon.addVolatile('stall');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-singleturn', target, 'move: Protect');\r\n\t\t\t},\r\n\t\t\tonTryHitPriority: 3,\r\n\t\t\tonTryHit(target, source, move) {\r\n\t\t\t\tif (!move.flags['protect']) {\r\n\t\t\t\t\tif (['gmaxoneblow', 'gmaxrapidflow'].includes(move.id)) return;\r\n\t\t\t\t\tif (move.isZ || move.isMax) target.getMoveHitData(move).zBrokeProtect = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (move.smartTarget) {\r\n\t\t\t\t\tmove.smartTarget = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', target, 'move: Protect');\r\n\t\t\t\t}\r\n\t\t\t\tconst lockedmove = source.getVolatile('lockedmove');\r\n\t\t\t\tif (lockedmove) {\r\n\t\t\t\t\t// Outrage counter is reset\r\n\t\t\t\t\tif (source.volatiles['lockedmove'].duration === 2) {\r\n\t\t\t\t\t\tdelete source.volatiles['lockedmove'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (this.checkMoveMakesContact(move, source, target)) {\r\n\t\t\t\t\tthis.boost({spd: 1}, target);\r\n\t\t\t\t\tif (!target.volatiles['charge']) {\r\n\t\t\t\t\t\ttarget.addVolatile('charge');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this.NOT_FAIL;\r\n\t\t\t},\r\n\t\t\tonHit(target, source, move) {\r\n\t\t\t\tif (move.isZOrMaxPowered && this.checkMoveMakesContact(move, source, target)) {\r\n\t\t\t\t\tthis.boost({spd: 1}, target);\r\n\t\t\t\t\tif (!target.volatiles['charge']) {\r\n\t\t\t\t\t\ttarget.addVolatile('charge');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"self\",\r\n\t\ttype: \"Electric\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\t// start\r\n\tenhancement: {\r\n\t\tnum: -41,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"User and ally recover 25% of their HP. If they're Rock-type, they also have their defensive stats increased.\",\r\n\t\tname: \"Enhancement\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {snatch: 1, heal: 1, bypasssub: 1, metronome: 1},\r\n\t\tonHit(pokemon) {\r\n\t\t\t// Attempt to heal the Pok\u00E9mon and store whether healing was successful\r\n\t\t\tconst healedAmount = this.heal(this.modify(pokemon.maxhp, 0.25));\r\n\t\t\tconst success = typeof healedAmount === 'number' && healedAmount > 0;\r\n\t\t\t// If the Pok\u00E9mon is Rock-type and was healed, boost its defensive stats\r\n\t\t\tif (pokemon.hasType('Rock') && success) {\r\n\t\t\t\tthis.boost({def: 1, spd: 1}, pokemon, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allies\",\r\n\t\ttype: \"Rock\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n   // end\r\n   // start: yet to implement Lansat Berry\r\n   saute: {\r\n    num: -42,\r\n    accuracy: true,\r\n    basePower: 0,\r\n    category: \"Status\",\r\n    name: \"Saute\",\r\n    pp: 5,\r\n    priority: 0,\r\n    flags: {bypasssub: 1, metronome: 1},\r\n    onHitField(target, source, move) {\r\n        const targets: Pokemon[] = [];\r\n        for (const pokemon of this.getAllActive()) {\r\n            // Check if the Pok\u00E9mon is on the user's side\r\n            if (pokemon.side === source.side) {\r\n                if (this.runEvent('Invulnerability', pokemon, source, move) === false) {\r\n                    this.add('-miss', source, pokemon);\r\n                } else if (this.runEvent('TryHit', pokemon, source, move) && pokemon.getItem().isBerry) {\r\n                    targets.push(pokemon);\r\n                }\r\n            }\r\n        }\r\n        this.add('-fieldactivate', 'move: Saute');\r\n        if (!targets.length) {\r\n            this.add('-fail', source, 'move: Saute');\r\n            this.attrLastMove('[still]');\r\n            return this.NOT_FAIL;\r\n        }\r\n        for (const pokemon of targets) {\r\n            const item = pokemon.getItem();\r\n            if (item.isBerry) {\r\n                // Add volatile if a Pok\u00E9mon on user's side has one of these berries\r\n                if (['figyberry', 'wikiberry', 'magoberry', 'aguavberry', 'iapapaberry', 'sitrusberry','oranberry', 'leppaberry', 'liechiberry', 'ganlonberry', 'salacberry', 'petayaberry', 'apicotberry', 'starfberry'].includes(item.id)) {\r\n\t\t\t\t\tpokemon.addVolatile('sauteing'); // Add the 'sauteing' volatile status\r\n                    }                \r\n                pokemon.eatItem(true);\r\n            }\r\n        }\r\n    },\r\n    secondary: null,\r\n    target: \"all\",\r\n    type: \"Fire\",\r\n},\r\n// end\r\n\r\n\t// start\r\n\tblockage: {\r\n\t\tnum: -43,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"King's Shield with Disable instead.\",\r\n\t\tname: \"Blockage\",\r\n\t\tpp: 10,\r\n\t\tpriority: 4,\r\n\t\tflags: {noassist: 1, failcopycat: 1, failinstruct: 1},\r\n\t\tstallingMove: true,\r\n\t\tvolatileStatus: 'blockage',\r\n\t\tonPrepareHit(pokemon) {\r\n\t\t\treturn !!this.queue.willAct() && this.runEvent('StallMove', pokemon);\r\n\t\t},\r\n\t\tonHit(pokemon) {\r\n\t\t\tpokemon.addVolatile('stall');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-singleturn', target, 'move: Blockage');\r\n\t\t\t},\r\n\t\t\tonTryHitPriority: 3,\r\n\t\t\tonTryHit(target, source, move) {\r\n\t\t\t\tif (move.category !== 'Status') {\r\n\t\t\t\t\tthis.add('-activate', target, 'move: Blockage');\r\n\t\t\t\t\t// Disable the damaging move\r\n\t\t\t\t\tsource.addVolatile('disable');\r\n\t\t\t\t\treturn this.NOT_FAIL;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"self\",\r\n\t\ttype: \"Rock\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tpincerattack: {\r\n\t\tnum: -44, \r\n\t\taccuracy: 100,\r\n\t\tbasePower: 80,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Combo attack: Double damage for second attacker.\",\r\n\t\tname: \"Pincer Attack\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1},\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\t// Change the move type based on the user\r\n\t\t\tif (pokemon.species.name === 'Escavalier') {\r\n\t\t\t\tmove.type = 'Bug'; // Change to Bug type if Escavalier is the user\r\n\t\t\t} else if (pokemon.species.name === 'Grapplin') {\r\n\t\t\t\tmove.type = 'Fighting'; // Change to Fighting type if Grapplin is the user\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePower(basePower, pokemon) {\r\n\t\t\t// Check if Grapplin used this move first this turn\r\n\t\t\tif (this.lastSuccessfulMoveThisTurn === 'pincerattack' && pokemon.species.name === 'Escavalier') {\r\n\t\t\t\tthis.debug('double power');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t} else if (this.lastSuccessfulMoveThisTurn === 'pincerattack' && pokemon.species.name === 'Grapplin') {\r\n\t\t\t\tthis.debug('double power');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t//\tonModifyMove(move, pokemon) {\r\n\t//\t\tif (this.lastSuccessfulMoveThisTurn === 'pincerattack' && pokemon.species.name === 'Grapplin') move.drain = [1, 2];\r\n\t//\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t// end\r\n\r\n\t// start: Exhume from Dark Volatile\r\n\texhume: {\r\n\t\tnum: -45,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: 'Status',\r\n\t\tshortDesc: \"Executes first move of last fainted ally. Best stat boost.\",\r\n\t\tname: 'Exhume',\r\n\t\tpp: 8,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, failencore: 1, failmefirst: 1, noassist: 1, failcopycat: 1, failmimic: 1},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\t// Find the last fainted Dark-type Pok\u00E9mon on the user's team\r\n\t\t\tconst faintedDarkTypes = source.side.pokemon.filter(p => p.fainted && p.hasType('Dark'));\r\n\t\t\tconst lastFaintedDark = faintedDarkTypes[faintedDarkTypes.length - 1];\r\n\t  \r\n\t\t\tif (!lastFaintedDark) {\r\n\t\t\t  this.add('-fail', source, 'move: Exhume');\r\n\t\t\t  return null;\r\n\t\t\t}\r\n\r\n\t\t\t// Determine the best stat to boost\r\n\t\t\tconst stats: Array<StatIDExceptHP> = ['atk', 'def', 'spa', 'spd', 'spe']; // List of stats to consider\r\n\t\t\tlet bestStat: StatIDExceptHP = stats[0]; // Initialize with the first stat\r\n\t\t\tlet highestValue = lastFaintedDark.getStat(bestStat); // Get the initial highest value\r\n\t\r\n\t\t\tfor (const stat of stats) {\r\n\t\t\t\tconst currentValue = lastFaintedDark.getStat(stat);\r\n\t\t\t\tif (currentValue > highestValue) {\r\n\t\t\t\t\thighestValue = currentValue;\r\n\t\t\t\t\tbestStat = stat; // Update bestStat to the current highest stat\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.add('-anim', source, 'Moonlight'); // originally: target, after Moonlight\r\n\t\t\t// Apply +1 to the best stat\r\n\t\t\tthis.boost({[bestStat]: 1}, source);\r\n\t  \r\n\t\t\t// Use the first move of the last fainted Dark-type Pok\u00E9mon\r\n\t\t\tconst firstMove = lastFaintedDark.moveSlots[0]; // Get the first move slot\r\n\t  \r\n\t\t\tif (!firstMove) {\r\n\t\t\t  this.add('-fail', source, 'move: Exhume');\r\n\t\t\t  return null;\r\n\t\t\t}\r\n\r\n\t\t\t// Use the move as if it were the user's move\r\n\t\t\tconst moveData = this.dex.moves.get(firstMove.id);\r\n\t\t\tthis.add('-message', `${source.name} exhumes ${lastFaintedDark.name}'s ${moveData.name}!`);\t\r\n\r\n\r\n\t\t\t// Distinguish how to execute the move based on its target type\r\n\t\t\tswitch (moveData.target) {\r\n    \t\t\tcase 'self':\r\n        \t\t\tthis.actions.useMove(moveData.id, source, source); // Affects only the user\r\n       \t\t\tbreak;\r\n    \t\t\tcase 'allySide':\r\n        \t\t\tthis.actions.useMove(moveData.id, source, source.side.pokemon[0]); // Affects an ally\r\n        \t\tbreak;\r\n\t\t\t\tcase 'allyTeam':\r\n      \t\t\t\t// Affects the entire team, e.g., for moves like Aromatherapy\r\n        \t\t\tthis.actions.useMove(moveData.id, source, null); // Null can be used for moves that affect the entire team\r\n        \t\tbreak;\r\n    \t\t\tcase 'normal':\r\n        \t\t\t// List available foes\r\n        \t\t\tconst targets = source.side.foe.active.filter(target => target && !target.fainted);\r\n        \t\t\tif (targets.length > 0) {\r\n            \t\t// Randomly select a foe\r\n            \t\tconst randomTarget = targets[Math.floor(Math.random() * targets.length)];\r\n            \t\tthis.actions.useMove(moveData.id, source, randomTarget);\r\n        \t\t\t} else {\r\n           \t\t\t\tthis.add('-fail', source, 'move: Exhume'); // No available foes\r\n        \t\t\t}\r\n        \t\tbreak;\r\n\t\t\t\t// case any is important because without it, user will use distance moves against itself\r\n\t\t\t\tcase 'any':\r\n\t\t\t\t\tconst anyTarget = source.side.foe.active.filter(target => target && !target.fainted);\r\n\t\t\t\t\tif (anyTarget.length > 0) {\r\n\t\t\t\t\t\tconst randomTarget = anyTarget[Math.floor(Math.random() * anyTarget.length)];\r\n\t\t\t\t\t\tthis.actions.useMove(moveData.id, source, randomTarget);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.add('-fail', source, 'move: Exhume');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t/*case 'allAdjacent':\r\n        \t\t\t// Affects all adjacent Pok\u00E9mon (both allies and foes)\r\n        \t\t\tconst adjacentTargets = source.side.active.filter(target => target && !target.fainted);\r\n        \t\t\tfor (const target of adjacentTargets) {\r\n            \t\t\tthis.actions.useMove(moveData.id, source, target);\r\n        \t\t\t}\r\n        \t\tbreak;\r\n    \t\t\tcase 'allAdjacentFoes':\r\n        \t\t\t// Affects all adjacent foes\r\n        \t\t\tconst adjacentFoes = source.side.foe.active.filter(target => target && !target.fainted);\r\n        \t\t\tfor (const target of adjacentFoes) {\r\n            \t\t\tthis.actions.useMove(moveData.id, source, target);\r\n        \t\t\t}\r\n        \t\tbreak;\r\n    \t\t\tcase 'all':\r\n        \t\t\tthis.actions.useMove(moveData.id, source, null); // Affects everyone; null can be used for moves that don't require a target\r\n        \t\tbreak;**/\r\n\t\t\t\tdefault:\r\n       \t\t\t \t// Default case; use the original target if no specific case matches\r\n        \t\t\tthis.actions.useMove(moveData.id, source, target);\r\n        \t\tbreak;\r\n\t\t\t}\t\t\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: 'self',\r\n\t\ttype: 'Dark',\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t// end\r\n\r\n\t// start:\r\n\tsuperkinesis: {\r\n\t\tnum: -46,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 130,\r\n\t\tcategory: \"Special\",\r\n\t\tname: \"Superkinesis\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1},\r\n\t\tshortDesc: \"Lowers user's best stat by 2.\",\r\n\t\tonHit(target, source) {\r\n\t\t\tif (!target) return;\r\n\t\t\tconst bestStat = source.getBestStat(false, true) as keyof BoostsTable;\r\n\t\t\tconst boosts: Partial<BoostsTable> = {};\r\n\t\t\tboosts[bestStat] = -2;\r\n\t\t\tthis.boost(boosts, source);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Psychic\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\treverberation: {\r\n\t\tnum: -47,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 80,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Reverberation\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, sound: 1, bypasssub: 1, metronome: 1},\r\n\t\tshortDesc: \"Mini Earthquake follow-up at 60 BP.\",\r\n\t\tonAfterMove(source) {\r\n\t\t\tsource.addVolatile('quakingboom');\r\n\t\t\tthis.actions.useMove('earthquake', source);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Electric\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\tearthquake: {\r\n\t\tinherit: true,\r\n\t\tonModifyMove(move, source, target) {\r\n\t\t\tif (source && source.volatiles['quakingboom']) {\r\n\t\t\t\tmove.basePower = 60;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterMove(target, source) {\r\n\t\t\t// This function is called for each target hit by Earthquake\r\n\t\t\t// Check if the target is still alive\r\n\t\t\tif (target && target.hp > 0) {\r\n\t\t\t\t// Check how many active Pok\u00E9mon are still alive\r\n\t\t\t\tconst allTargets = this.getAllActive().filter(p => p && p.hp > 0);\r\n\t\t\t\t// If this is the last target being hit, remove the volatile\r\n\t\t\t\tif (allTargets.length === 1) {\r\n\t\t\t\t\tdelete source.volatiles['quakingboom'];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\t// start: For New Project\r\n\tparanoia: {\r\n\t\tnum: -100,  \r\n\t\taccuracy: 95,  \r\n\t\tbasePower: 0,  \r\n\t\tdamageCallback(pokemon, target) {\r\n\t\t\treturn this.clampIntRange(Math.floor(target.getUndynamaxedHP() / 4), 1);\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Psychic\", target);\r\n\t\t},\r\n\t\tonHit(target, source) {\r\n\t\t\tif (!target) return;\t\t\r\n\t\t\t// Determine the best stat of the target\r\n\t\t\tconst bestStat = target.getBestStat(false, true) as keyof BoostsTable;\r\n\t\r\n\t\t\t// Create boosts object to lower the best stat\r\n\t\t\tconst boosts: Partial<BoostsTable> = {};\r\n\t\t\tboosts[bestStat] = -1;\r\n\t\t\tthis.boost(boosts, target);\r\n\t\t},\r\n\t\t/*onHit(target, source) {\r\n\t\t\tif (!target) return;\r\n\t\r\n\t\t\t// Check for items that prevent stat lowering\r\n\t\t\tif (target.hasItem(['covertcloak', 'clearamulet'])) return;\r\n\t\r\n\t\t\t// Check for abilities that prevent all stat lowering\r\n\t\t\tif (target.hasAbility(['clearbody', 'fullmetalbody'])) return;\r\n\t\r\n\t\t\t// Check for Mist side condition\r\n\t\t\tif (target.side.sideConditions['mist']) return;\r\n\t\r\n\t\t\t// Determine the best stat of the target\r\n\t\t\tconst bestStat = target.getBestStat(false, true) as keyof BoostsTable;\r\n\t\r\n\t\t\t// Check for specific ability immunities\r\n\t\t\tif ((bestStat === 'atk' && target.hasAbility('hypercutter')) ||\r\n\t\t\t\t(bestStat === 'spd' && target.hasAbility('bigpecks'))) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Create boosts object to lower the best stat\r\n\t\t\tconst boosts: Partial<BoostsTable> = {};\r\n\t\t\tboosts[bestStat] = -1;\r\n\t\t\tthis.boost(boosts, target);\r\n\t\t},*/\r\n\t\tshortDesc: \"Quarters targets' HP + lowers best stat.\",\r\n\t\tname: \"Paranoia\",  \r\n\t\tcategory: \"Special\",\r\n\t\tpp: 10,  \r\n\t\tpriority: 0,  \r\n\t\tflags: {protect: 1, mirror: 1},\r\n\t\tsecondary: {},  \r\n\t\ttarget: \"allAdjacentFoes\",  \r\n\t\ttype: \"Bug\",  \r\n\t\tcontestType: \"Clever\", \r\n\t},\r\n\t//\r\n\tpyrethrum: {\r\n\t\tnum: -101,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 70,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Effective against Bug.\",\r\n\t\tname: \"Pyrethrum\",\r\n\t\tpp: 20,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonEffectiveness(typeMod, target, type) {\r\n\t\t\tif (type === 'Bug') return 1;\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Seed Flare\", target);\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tchance: 10,\r\n\t\t\tstatus: 'par',\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Grass\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n\tanguishcry: {\r\n\t\tnum: -102,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 65,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Double damage if user's HP <= 50.\",\r\n\t\tname: \"Anguish Cry\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, sound: 1, bypasssub: 1, metronome: 1},\r\n\t\tonBasePower(basePower, pokemon, target) {\r\n\t\t\tif (pokemon.hp * 2 <= pokemon.maxhp) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Growl\", target);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Ghost\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n\tunicorndance: {\r\n\t\tnum: -103,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"25% healing for user's side + switches out.\",\r\n\t\tname: \"Unicorn Dance\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {snatch: 1, heal: 1, sound: 1, bypasssub: 1},\r\n\t\tonPrepareHit(source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Moonlight\");\r\n\t\t},\r\n\t\theal: [1, 4],\r\n\t\tselfSwitch: true,\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allies\",\r\n\t\ttype: \"Water\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tchanneling: {\r\n\t\tnum: -104,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 80,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Psychic Terrain: Psychic or Fighting.\",\r\n\t\tname: \"Channeling\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1, punch: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\tthis.add('-anim', source, \"Comet Punch\", target);\r\n\t\t},\t\r\n\t\t// Modify the move's type based on target's types and conditions\r\n\t\tonModifyType(move, pokemon, target) {\r\n\r\n\t\t\tconst hasDark = target.hasType('Dark');\r\n\t\t\tconst hasGhost = target.hasType('Ghost');\r\n\t\t\tconst hasSteel = target.hasType('Steel');\r\n\t\t\tconst hasPsychic = target.hasType('Psychic');\r\n\t\t\tconst hasPoison = target.hasType('Poison');\r\n\t\t\tconst hasFighting = target.hasType('Fighting');\r\n\t\t\tconst hasNormal = target.hasType('Normal');\r\n\t\t\tconst hasRock = target.hasType('Rock');\r\n\t\t\tconst isRingTarget = target.hasItem('ringtarget');\r\n\t\t\tconst hasForesight = target.volatiles['foresight'];\r\n\t\t\tconst hasMiracleEye = target.volatiles['miracleeye'];\r\n\t\t\tconst hasThirdEye = pokemon.volatiles['thirdeyesystem'];\r\n\r\n\t\t\tif (this.field.isTerrain('psychicterrain')) {\r\n\r\n\t\t\t\tif (hasDark && !hasGhost && !isRingTarget && !hasForesight && !hasMiracleEye && !hasThirdEye) {\r\n\t\t\t\t\tmove.type = 'Fighting';\r\n\t\t\t\t\tthis.add('-message', `${pokemon.name}'s Channeling switched to Fighting type!`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (hasDark && hasGhost && (isRingTarget || hasForesight || hasMiracleEye || hasThirdEye || pokemon.hasAbility('scrappy'))) {\r\n\t\t\t\t\tmove.type = 'Fighting';\r\n\t\t\t\t\tthis.add('-message', `${pokemon.name}'s Channeling switched to Fighting type!`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (hasNormal && hasGhost && (isRingTarget || hasForesight || hasMiracleEye || hasThirdEye || pokemon.hasAbility('scrappy'))) {\r\n\t\t\t\t\tmove.type = 'Fighting';\r\n\t\t\t\t\tthis.add('-message', `${pokemon.name}'s Channeling switched to Fighting type!`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (hasRock && hasGhost && (isRingTarget || hasForesight || hasMiracleEye || hasThirdEye || pokemon.hasAbility('scrappy'))) {\r\n\t\t\t\t\tmove.type = 'Fighting';\r\n\t\t\t\t\tthis.add('-message', `${pokemon.name}'s Channeling switched to Fighting type!`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (hasPsychic && (target.hasType('Ice') || target.hasType('Rock') || target.hasType('Normal') || target.hasType('Steel'))) {\r\n\t\t\t\t\tmove.type = 'Fighting';\r\n\t\t\t\t\tthis.add('-message', `${pokemon.name}'s Channeling switched to Fighting type!`);\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tif (hasSteel && !hasPoison && !hasFighting && !hasGhost) {\r\n\t\t\t\t\tmove.type = 'Fighting';\r\n\t\t\t\t\tthis.add('-message', `${pokemon.name}'s Channeling switched to Fighting type!`);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (hasDark && hasPoison && (hasMiracleEye || isRingTarget || hasThirdEye)) {\r\n\t\t\t\t\tmove.type = 'Psychic';\r\n\t\t\t\t//\t\tthis.add('-message', `${pokemon.name}'s Channeling switched to Psychic type!`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (hasDark && hasFighting && (hasMiracleEye || isRingTarget || hasThirdEye)) {\r\n\t\t\t\t\tmove.type = 'Psychic';\r\n\t\t\t\t//\t\tthis.add('-message', `${pokemon.name}'s Channeling switched to Psychic type!`);\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif (hasSteel && hasGhost && (hasForesight || isRingTarget || hasThirdEye || pokemon.hasAbility('scrappy'))) {\r\n\t\t\t\t\tmove.type = 'Fighting';\r\n\t\t\t\t\tthis.add('-message', `${pokemon.name}'s Channeling switched to Fighting type!`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t//\tmultihit: 2,\r\n\t//\tsmartTarget: true,\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Psychic\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t//\r\n\tdevour: {\r\n\t\tnum: -105,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Traps user + target; pseudo Leech Seed.\",\r\n\t\tname: \"Devour\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1, bite: 1},\r\n\t\tvolatileStatus: 'devour',\r\n\t\tcondition: {\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'move: Devour');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 8,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tconst sourceSlot = pokemon.volatiles['devour'].sourceSlot;\r\n\t\t\t\tconst source = this.getAtSlot(sourceSlot);\r\n\t\t\t\tif (!source || source.fainted || source.hp <= 0) {\r\n\t\t\t\t\tthis.debug('Source fainted - ending Devour');\r\n\t\t\t\t\tthis.add('-end', pokemon, 'devour');\r\n\t\t\t\t\tpokemon.removeVolatile('devour');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst damage = this.damage(pokemon.baseMaxhp / 8, pokemon, source);\r\n\t\t\t\tif (damage) {\r\n\t\t\t\t\tthis.heal(damage, source, pokemon);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} performed a ritual!`);\r\n\t\t\tthis.add('-anim', source, \"Nasty Plot\");\r\n\t\t\tthis.add('-anim', source, \"Crunch\", target);\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tsource.addVolatile('trapped', target, move, 'trapper');\r\n\t\t\ttarget.addVolatile('trapped', source, move, 'trapper');\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Dark\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tacidicbreath: {\r\n\t\tnum: -106,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 120,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Skips in Acidic Terrain. Burns target.\",\r\n\t\tname: \"Acidic Breath\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {charge: 1, protect: 1, mirror: 1, metronome: 1, nosleeptalk: 1, failinstruct: 1},\r\n\t\tonTryMove(attacker, defender, move) {\r\n\t\t\tif (attacker.removeVolatile(move.id)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.add('-prepare', attacker, 'Charge');\r\n\t\t\tif (this.field.isTerrain('acidicterrain')) {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.addMove('-anim', attacker, 'Acid Downpour', defender);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.runEvent('ChargeMove', attacker, defender, move)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tattacker.addVolatile('twoturnmove', defender);\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tstatus: 'brn',\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Poison\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tbiterelay: {\r\n\t\tnum: -107,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 75,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"2x damage if user has non sleep status + Psycho Shift.\",\r\n\t\tname: \"Bite Relay\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1, bite: 1},\r\n\t\tonBasePower(basePower, pokemon) {\r\n\t\t\tif (pokemon.status && pokemon.status !== 'slp') {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\t// Ensure user is statused and not asleep\r\n\t\t\tif (source.status && source.status !== 'slp') {\r\n\t\t\t\t// If the target already has a status condition, can't overwrite\r\n\t\t\t\tif (target.status) {\r\n\t\t\t\t\tthis.add('-fail', source, 'move: Bite Relay', '[from] status already present on target');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tconst statusToTransfer = source.status;\r\n\t\r\n\t\t\t\t// Clear status on user\r\n\t\t\t\tsource.cureStatus();\r\n\t\r\n\t\t\t\t// Try to apply that status to target\r\n\t\t\t\tconst success = target.setStatus(statusToTransfer, source);\r\n\t\t\t\tif (success) {\r\n\t\t\t\t\tthis.add('-message', `${source.name} passed its ${this.dex.conditions.get(statusToTransfer).name} to ${target.name}!`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Psychic Fangs\", target);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Psychic\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\tcosmicripples: {\r\n\t\tnum: -108,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 50,\r\n\t\tbasePowerCallback(pokemon) {\r\n\t\t\treturn Math.min(200, 50 + 50 * pokemon.timesAttacked);\r\n\t\t},\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"+50 per hit; spread; -4 prio.\",\r\n\t\tname: \"Cosmic Ripples\",\r\n\t\tpp: 5,\r\n\t\tpriority: -4,\r\n\t\tflags: {protect: 1, mirror: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Flash\", target);\r\n\t\t\tthis.add('-anim', source, \"Mind Blown\", target);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Fighting\",\r\n\t},\r\n\ttrivoltcascade: {\r\n\t\tnum: -109,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 30,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"30% to brn, par, frz. Each hit can miss.\",\r\n\t\tname: \"Tri-Volt Cascade\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Tri Attack\", target);\r\n\t\t},\r\n\t//\tcritRatio: 2,\r\n\t\tsecondary: {\r\n\t\t\tchance: 30,\r\n\t\t\tonHit(target, source) {\r\n\t\t\t\tconst result = this.random(3);\r\n\t\t\t\tif (result === 0) {\r\n\t\t\t\t\ttarget.trySetStatus('brn', source);\r\n\t\t\t\t} else if (result === 1) {\r\n\t\t\t\t\ttarget.trySetStatus('par', source);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget.trySetStatus('frz', source);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Electric\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t// code from Multiverse but modified for this project\r\n\tdarkmatter: {\r\n\t\tnum: -110,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\tconst yourSide = pokemon.side;\r\n\t\t\tconst targetSide = target.side;\r\n\t\t\tlet allLayers = 0;\r\n\t\t\tif (yourSide.getSideCondition('stealthrock')) allLayers++;\r\n\t\t\tif (yourSide.getSideCondition('stickyweb')) allLayers++;\r\n\t\t\tif (yourSide.sideConditions['spikes']) {\r\n\t\t\t\tallLayers += yourSide.sideConditions['spikes'].layers;\r\n\t\t\t}\r\n\t\t\tif (yourSide.sideConditions['toxicspikes']) {\r\n\t\t\t\tallLayers += yourSide.sideConditions['toxicspikes'].layers;\r\n\t\t\t}\r\n\t\t\tif (targetSide.getSideCondition('stealthrock')) allLayers++;\r\n\t\t\tif (targetSide.getSideCondition('stickyweb')) allLayers++;\r\n\t\t\tif (targetSide.sideConditions['spikes']) {\r\n\t\t\t\tallLayers += targetSide.sideConditions['spikes'].layers;\r\n\t\t\t}\r\n\t\t\tif (targetSide.sideConditions['toxicspikes']) {\r\n\t\t\t\tallLayers += targetSide.sideConditions['toxicspikes'].layers;\r\n\t\t\t}\r\n\t\t\tthis.debug('Dark Matter damage boost');\r\n\t\t\treturn Math.min(850, 50 + 50 * allLayers); // 400, 80, 20\r\n\t\t},\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"+50 for each hazard on the field.\",\r\n\t\tname: \"Dark Matter\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Seismic Toss\", target);\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tconst yourSide = source.side;\r\n\t\t\tconst targetSide = target.side;\r\n\t\t\tlet allLayers = 0;\r\n\t\t\tif (yourSide.getSideCondition('stealthrock')) allLayers++;\r\n\t\t\tif (yourSide.getSideCondition('stickyweb')) allLayers++;\r\n\t\t\tif (yourSide.sideConditions['spikes']) {\r\n\t\t\t\tallLayers += yourSide.sideConditions['spikes'].layers;\r\n\t\t\t}\r\n\t\t\tif (yourSide.sideConditions['toxicspikes']) {\r\n\t\t\t\tallLayers += yourSide.sideConditions['toxicspikes'].layers;\r\n\t\t\t}\r\n\t\t\tif (targetSide.getSideCondition('stealthrock')) allLayers++;\r\n\t\t\tif (targetSide.getSideCondition('stickyweb')) allLayers++;\r\n\t\t\tif (targetSide.sideConditions['spikes']) {\r\n\t\t\t\tallLayers += targetSide.sideConditions['spikes'].layers;\r\n\t\t\t}\r\n\t\t\tif (targetSide.sideConditions['toxicspikes']) {\r\n\t\t\t\tallLayers += targetSide.sideConditions['toxicspikes'].layers;\r\n\t\t\t}\r\n\t\t\tconst bp = Math.min(850, 50 + 50 * allLayers); // 400, 80, 20\r\n\t\t\tthis.add('-message', `Dark Matter currently has a BP of ${bp}!`);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Dark\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\tdivination: {\r\n\t\tnum: -111,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Divination\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {snatch: 1, metronome: 1},\r\n\t\tsideCondition: 'divination',\r\n\t\t/*onTry(pokemon) {\r\n\t\t\tif (!pokemon.side.sideConditions['divination']) {\r\n\t\t\t\tpokemon.side.addSideCondition('divination');\r\n\t\t\t\tthis.add('-message', 'The user follows the move patterns.');\r\n\t\t\t\tthis.add('-anim', pokemon, 'Future Sight');\t\r\n\t\t\t} else {\r\n\t\t\t\treturn false; // If Divination is already active, fail the move\r\n\t\t\t}\r\n\t\t},*/\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allySide\",\r\n\t\ttype: \"Psychic\",\r\n\t\tcontestType: \"Clever\",\r\n\t\tdesc: \"In two turns, Pok\u00E9mon on the user's side become unaffected by any move for one turn.\",\r\n\t\tshortDesc: \"In 2 turns, user'side: move immunity.\",\r\n\t},\r\n\tdragoff: {\r\n\t\tnum: -112,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 150,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Explosion effect.\",\r\n\t\tname: \"Drag Off\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1, noparentalbond: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} prepared to drag off everyone!`);\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t//\tthis.add('-anim', source, \"Destiny Bond\", target);\r\n\t\t},\r\n\t\tselfdestruct: \"always\",\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacent\",\r\n\t\ttype: \"Ghost\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n\tdrainingstab: {\r\n\t\tnum: -113,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 70,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Weakens target, boosts user.\",\r\n\t\tname: \"Draining Stab\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Poison Jab\", target);\r\n\t\t},\r\n\t\t/*onHit(target, source) {\r\n\t\t\t// Attempt to suppress the target's ability\r\n\t\t\tif (!target.getAbility().flags['cantsuppress']) {\r\n\t\t\t\ttarget.addVolatile('gastroacid'); // Suppress target's ability\r\n\r\n\t\t\t\t// Check if suppression was successful\r\n            \tconst oldAbility = source.setAbility(target.getAbility());\r\n            \tif (oldAbility) {\r\n                \tthis.add('-ability', source, source.getAbility().name, '[from] move: Draining Stab', '[of] ' + target);\r\n            \t}\r\n\t\t\t}\r\n\t\t},*/\r\n\t\tonHit(target, source) {\r\n\t\t\tif (!target) return;        \r\n\t\t\t// Determine the best stat of the target\r\n\t\t\tconst bestStat = target.getBestStat(false, true) as keyof BoostsTable;\r\n\t\r\n\t\t\t// Create boosts object to lower the best stat\r\n\t\t\tconst targetBoosts: Partial<BoostsTable> = {};\r\n\t\t\ttargetBoosts[bestStat] = -1;\r\n\t\t\t\r\n\t\t\t// Apply the stat drop to the target\r\n\t\t\tconst success = this.boost(targetBoosts, target, source, null, false, true);\r\n\t\t\t\r\n\t\t\t// If the stat drop was successful, boost the same stat for the user\r\n\t\t\tif (success) {\r\n\t\t\t\tconst sourceBoosts: Partial<BoostsTable> = {};\r\n\t\t\t\tsourceBoosts[bestStat] = 1;\r\n\t\t\t\tthis.boost(sourceBoosts, source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t//\r\n\tduststorm: {\r\n\t\tnum: -114,\r\n\t\taccuracy: 80,\r\n\t\tbasePower: 95,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"1/8 chip damage if wind effect.\",\r\n\t\tname: \"Dust Storm\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1, wind: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} prepared a dust storm!`);\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\tthis.add('-anim', source, \"Diamond Storm\", target);\r\n\t\t},\r\n\t\tonAfterHit(target, source) {\r\n\t\t\tif ((target.side.sideConditions['tailwind'] || target.side.sideConditions['windblessing'] || this.field.isWeather('sandstorm')) && !target.side.sideConditions['duststorm']) {\r\n\t\t\t\ttarget.side.addSideCondition('duststorm');\r\n\t\t\t\tthis.add('-sidestart', target.side, 'move: Dust Storm', '[from] move: Dust Storm');\r\n\t\t\t}\r\n\t\t},\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Rock\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n    etherealscales: {\r\n\t\tnum: -115,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 90,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Inflicts targets with Torment.\",\r\n\t\tname: \"Ethereal Scales\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Moonlight\");\r\n\t\t\tthis.add('-anim', source, \"Clanging Scales\", target);\r\n\t\t},\r\n\t\tonHit(target, source) {\r\n\t\t\t// Check if the target has the Soundproof ability\r\n\t\t\tif (target.hasAbility('overcoat') || target.hasItem('safetygoggles') || target.hasType('Grass')) {\r\n\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\treturn null; // Prevent the Torment effect\r\n\t\t\t}\t\r\n\t\t\t// Apply the Torment effect if the target does not have Overcoat or Safety Goggles or is not Grass\r\n\t\t\ttarget.addVolatile('torment');\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Ghost\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t//\r\n\texhumation: {\r\n\t\tnum: -116,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: 'Status',\r\n\t\tshortDesc: \"Executes first move of last fainted Pok\u00E9mon. Best stat boost.\",\r\n\t\tname: 'Exhumation',\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\t// Find the last fainted Pok\u00E9mon on the user's team\r\n\t\t\tconst faintedPokemon = source.side.pokemon.filter(p => p.fainted);\r\n\t\t\tconst lastFainted = faintedPokemon[faintedPokemon.length - 1];\r\n\t\r\n\t\t\tif (!lastFainted) {\r\n\t\t\t\tthis.add('-fail', source, 'move: Exhumation');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Determine the best stat to boost\r\n\t\t\tconst stats: Array<StatIDExceptHP> = ['atk', 'def', 'spa', 'spd', 'spe']; // List of stats to consider\r\n\t\t\tlet bestStat: StatIDExceptHP = stats[0]; // Initialize with the first stat\r\n\t\t\tlet highestValue = lastFainted.getStat(bestStat); // Get the initial highest value\r\n\t\r\n\t\t\tfor (const stat of stats) {\r\n\t\t\t\tconst currentValue = lastFainted.getStat(stat);\r\n\t\t\t\tif (currentValue > highestValue) {\r\n\t\t\t\t\thighestValue = currentValue;\r\n\t\t\t\t\tbestStat = stat; // Update bestStat to the current highest stat\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.add('-anim', source, 'Moonlight'); // Animation for the move\r\n\t\t\t// Apply +1 to the best stat\r\n\t\t\tthis.boost({[bestStat]: 1}, source);\r\n\t\r\n\t\t\t// Use the first move of the last fainted Pok\u00E9mon\r\n\t\t\tconst firstMove = lastFainted.moveSlots[0]; // Get the first move slot\r\n\t\r\n\t\t\tif (!firstMove) {\r\n\t\t\t\tthis.add('-fail', source, 'move: Exhumation');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Use the move as if it were the user's move\r\n\t\t\tconst moveData = this.dex.moves.get(firstMove.id);\r\n\t\t\tthis.add('-message', `${source.name} exhumes ${lastFainted.name}'s ${moveData.name}!`);\r\n\t\r\n\t\t\t// Distinguish how to execute the move based on its target type\r\n\t\t\tswitch (moveData.target) {\r\n\t\t\t\tcase 'self':\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, source); // Affects only the user\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'allySide':\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, source.side.pokemon[0]); // Affects an ally\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'allyTeam':\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, null); // Affects entire team\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'normal':\r\n\t\t\t\t\tconst targets = source.side.foe.active.filter(target => target && !target.fainted);\r\n\t\t\t\t\tif (targets.length > 0) {\r\n\t\t\t\t\t\tconst randomTarget = targets[Math.floor(Math.random() * targets.length)];\r\n\t\t\t\t\t\tthis.actions.useMove(moveData.id, source, randomTarget);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.add('-fail', source, 'move: Exhumation'); // No available foes\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// case any is important because without it, user will use distance moves against itself\r\n\t\t\t\tcase 'any':\r\n\t\t\t\t\tconst anyTarget = source.side.foe.active.filter(target => target && !target.fainted);\r\n\t\t\t\t\tif (anyTarget.length > 0) {\r\n\t\t\t\t\t\tconst randomTarget = anyTarget[Math.floor(Math.random() * anyTarget.length)];\r\n\t\t\t\t\t\tthis.actions.useMove(moveData.id, source, randomTarget);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.add('-fail', source, 'move: Exhumation');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\t\r\n\t\t\t\t// And this might be the reason why sth like Stellar Fission is used twice in some instances...\r\n\t\t\t\t/*case 'allAdjacent':\r\n\t\t\t\t\tconst adjacentTargets = source.side.active.filter(target => target && !target.fainted);\r\n\t\t\t\t\tfor (const target of adjacentTargets) {\r\n\t\t\t\t\t\tthis.actions.useMove(moveData.id, source, target);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;*/\r\n\t\t\t\t// this might be the reason why sth like Hyper Voice is used twice against foes...\r\n\t\t\t\t/*case 'allAdjacentFoes':\r\n\t\t\t\t\tconst adjacentFoes = source.side.foe.active.filter(target => target && !target.fainted);\r\n\t\t\t\t\tfor (const target of adjacentFoes) {\r\n\t\t\t\t\t\tthis.actions.useMove(moveData.id, source, target);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;*/\r\n\t\t\t\t/*case 'all':\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, null); // Affects everyone; null can be used for moves that don't require a target\r\n\t\t\t\t\tbreak;*/\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, target); // Default case; use original target if no specific case matches\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: 'self',\r\n\t\ttype: 'Ghost',\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tfeathershower: {\r\n\t\tnum: -117,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"If healed (25%), raises best stat.\",\r\n\t\tname: \"Feather Shower\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {snatch: 1, heal: 1, bypasssub: 1, metronome: 1},\r\n\t\tonHit(target) {\r\n\t\t\t// Attempt to heal the target and store whether healing was successful\r\n\t\t\tconst healedAmount = this.heal(this.modify(target.maxhp, 0.25));\r\n\t\t\tconst success = typeof healedAmount === 'number' && healedAmount > 0;\r\n\t\r\n\t\t\t// If healing was successful, boost the best stat of the healed target\r\n\t\t\tif (success) {\t\r\n\t\t\t\tconst bestStat = target.getBestStat(false, true) as keyof BoostsTable;\r\n\t\t\t\tconst boosts: Partial<BoostsTable> = {};\r\n\t\t\t\tboosts[bestStat] = 1;\r\n\t\t\t\tthis.boost(boosts, target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allies\",\r\n\t\ttype: \"Ice\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t//\r\n\tmomentum: {\r\n\t\tnum: -118,\r\n\t\taccuracy: 95,\r\n\t\tbasePower: 80,\r\n\t\tcategory: \"Physical\",\r\n\t    shortDesc: \"If first strike, ally afterwards.\",\r\n\t\tname: \"Momentum\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1, slicing: 1},\r\n\t\tonPrepareHit(pokemon, target, move) {\r\n\t\t\t// Check if the user has any ally\r\n\t\t\tconst hasAlly = target.side.active.some(ally => ally !== target && !ally.fainted);\r\n\t\t\tif (!hasAlly) return; // Ensure there is at least one ally present\r\n\r\n\t\t\t// Check if the move is not a status move\r\n\t\t\tif (move.category !== 'Status') {\r\n\t\t\t\t// Loop through the action queue\r\n\t\t\t\tfor (const action of this.queue.list as MoveAction[]) {\r\n\t\t\t\t\t// Check if the action is valid\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!action.move || !action.pokemon?.isActive ||\r\n\t\t\t\t\t\taction.pokemon.fainted || action.maxMove || action.zmove\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tcontinue; // Skip invalid actions\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t// Check if the action belongs specifically to the ally\r\n\t\t\t\t\tif (action.pokemon.isAlly(target)) {\r\n\t\t\t\t\t\tthis.queue.prioritizeAction(action, move); // Prioritize the action\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.add('-waiting', target, action.pokemon); // Notify that user is waiting\r\n\t\t\t\t\t\tbreak; // Exit the loop but not the function, meaning ally's move should be able to do damage now\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t    contestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tfivestarpunch: {\r\n\t\tnum: -119,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 30,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Hits 5 times. Fail if miss.\",\r\n\t\tname: \"Five Star Punch\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, punch: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Flash\", target);\r\n\t\t\tthis.add('-anim', source, \"Meteor Mash\", target);\r\n\t\t},\r\n\t\tcritRatio: 2,\r\n\t\tmultihit: 5,\r\n\t\tmultiaccuracy: true,\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Electric\",\r\n\t},\r\n\tfrostshield: {\r\n\t\tnum: -120,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"Reduces damage for team + 1/8 contact damage. Effect halfed next turn. Must recharge.\",\r\n\t\tname: \"Frost Shield\",\r\n\t\tpp: 5,\r\n\t\tpriority: 3,\r\n\t\tflags: {recharge: 1, snatch: 1, metronome: 1},\r\n\t\tsideCondition: 'frostshield',\r\n\t\tcondition: {\r\n\t\t\tduration: 2,\r\n\t\t\tonSideStart(side, source) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Frost Shield');\r\n\t\t\t},\r\n\t\t\tonDamagingHitOrder: 1,\r\n\t\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\t\tif (this.checkMoveMakesContact(move, source, target, true)) {\r\n\t\t\t\t\tconst damageMultiplier = (this.effectState.duration === 2) ? 8 : 16;\r\n\t\t\t\t\tthis.damage(source.baseMaxhp / damageMultiplier, source, target);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonAnyModifyDamage(damage, source, target, move) {\r\n\t\t\t\tif (target !== source && this.effectState.target.hasAlly(target) && (this.getCategory(move) === 'Special' || this.getCategory(move) === 'Physical')) {\r\n\t\t\t\t\tthis.debug('Frost Shield weaken');\r\n\t\t\t\t\treturn this.chainModify(this.effectState.duration === 2 ? 0.5 : 0.75);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSideResidualOrder: 26,\r\n\t\t\tonSideEnd(side) {\r\n\t\t\t\tthis.add('-sideend', side, 'move: Frost Shield');\r\n\t\t\t},\r\n\t\t},\r\n\t\tself: {\r\n\t\t\tvolatileStatus: 'mustrecharge',\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allySide\",\r\n\t\ttype: \"Ice\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n\thuntersvolley: {\r\n\t\tnum: -121,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 40,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Hits twice + 1 crit ratio.\",\r\n\t\tname: \"Hunter's Volley\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} prepared to shoot!`);\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\tthis.add('-anim', source, \"Thousand Arrows\", target);\r\n\t\t},\r\n\t\tcritRatio: 2,\r\n\t\tmultihit: 2,\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tlightningblade: {\r\n\t\tnum: -122,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 120,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Skips in Psychic Terrain. +1 SpD.\",\r\n\t\tname: \"Lightning Blade\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {charge: 1, protect: 1, mirror: 1, metronome: 1, slicing: 1},\r\n\t\tonTryMove(attacker, defender, move) {\r\n\t\t\tif (attacker.removeVolatile(move.id)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.add('-prepare', attacker, 'Charge');\r\n\t\t\tthis.boost({spd: 1}, attacker, attacker, move);\r\n\t\t\tif (this.field.isTerrain('psychicterrain')) {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.addMove('-anim', attacker, 'Bolt Strike', defender);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.runEvent('ChargeMove', attacker, defender, move)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tattacker.addVolatile('twoturnmove', defender);\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\thasSheerForce: true,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Electric\",\r\n\t},\r\n\tmoongraze: {\r\n\t\tnum: -123,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 100,\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\tlet bp = move.basePower;\r\n\t\t\tconst rolloutData = pokemon.volatiles['moongraze'];\r\n\t\t\tif (rolloutData?.hitCount) {\r\n\t\t\t\tbp *= Math.pow(2, rolloutData.contactHitCount);\r\n\t\t\t}\r\n\t\t\tif (rolloutData && pokemon.status !== 'slp') {\r\n\t\t\t\trolloutData.hitCount++;\r\n\t\t\t\trolloutData.contactHitCount++;\r\n\t\t\t\tif (rolloutData.hitCount < 3) {\r\n\t\t\t\t\trolloutData.duration = 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (pokemon.volatiles['defensecurl']) {\r\n\t\t\t\tbp *= 2;\r\n\t\t\t}\r\n\t\t\tthis.debug(\"BP: \" + bp);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Rollout effect.\",\r\n\t\tname: \"Moon Graze\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, mirror: 1, metronome: 1, failinstruct: 1, noparentalbond: 1},\r\n\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\tif (pokemon.volatiles['moongraze'] || pokemon.status === 'slp' || !target) return;\r\n\t\t\tpokemon.addVolatile('moongraze');\r\n\t\t\t// @ts-ignore\r\n\t\t\t// TS thinks pokemon.volatiles['rollout'] doesn't exist because of the condition on the return above\r\n\t\t\t// but it does exist now because addVolatile created it\r\n\t\t\tpokemon.volatiles['moongraze'].targetSlot = move.sourceEffect ? pokemon.lastMoveTargetLoc : pokemon.getLocOf(target);\r\n\t\t},\r\n\t\tonAfterMove(source, target, move) {\r\n\t\t\tconst rolloutData = source.volatiles[\"moongraze\"];\r\n\t\t\tif (\r\n\t\t\t\trolloutData &&\r\n\t\t\t\trolloutData.hitCount === 3 &&\r\n\t\t\t\trolloutData.contactHitCount < 3\r\n\t\t\t\t// this conditions can only be met in gen7 and gen8dlc1\r\n\t\t\t\t// see `disguise` and `iceface` abilities in the resp mod folders\r\n\t\t\t) {\r\n\t\t\t\tsource.addVolatile(\"moongrazestorage\");\r\n\t\t\t\tsource.volatiles[\"moongrazestorage\"].contactHitCount =\r\n\t\t\t\t\trolloutData.contactHitCount;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonLockMove: 'moongraze',\r\n\t\t\tonStart() {\r\n\t\t\t\tthis.effectState.hitCount = 0;\r\n\t\t\t\tthis.effectState.contactHitCount = 0;\r\n\t\t\t},\r\n\t\t\tonResidual(target) {\r\n\t\t\t\tif (target.lastMove && target.lastMove.id === 'struggle') {\r\n\t\t\t\t\t// don't lock\r\n\t\t\t\t\tdelete target.volatiles['moongraze'];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Fairy\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\tplantpathogens: {\r\n\t\tnum: -124,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tshortDesc: \"Residual hazard: 1/8 for each stat drop.\",\r\n\t\tname: \"Plant Pathogens\",\r\n\t\tpp: 20,\r\n\t\tpriority: 0,\r\n\t\tflags: {reflectable: 1, metronome: 1},\r\n\t\tsideCondition: 'plantpathogens',\r\n\t\tcondition: {\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Plant Pathogens');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tif (pokemon && pokemon.boosts) {\r\n\t\t\t\t\t// Calculate the number of negative stat boosts on the Pok\u00E9mon\r\n\t\t\t\t\tlet negativeBoosts = 0;\r\n\t\t\t\t\tconst boostKeys: Array<keyof BoostsTable> = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion']; // Define the valid keys\r\n\t\r\n\t\t\t\t\tfor (const stat of boostKeys) {\r\n\t\t\t\t\t\tif (pokemon.boosts[stat] < 0) {\r\n\t\t\t\t\t\t\tnegativeBoosts += Math.abs(pokemon.boosts[stat]); // Count the absolute value of negative boosts\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t// Apply HP loss for each negative boost\r\n\t\t\t\t\tif (negativeBoosts > 0) {\r\n\t\t\t\t\t\tconst damage = Math.floor((pokemon.maxhp / 8) * negativeBoosts); // Calculate total damage based on negative boosts\r\n\t\t\t\t\t\tthis.damage(damage, pokemon); // Apply damage\r\n\t\t\t\t\t\tthis.add('-message', `${pokemon.name} is affected by Plant Pathogens!`); // originally: this.add('-message', `${pokemon.name} is affected by Plant Pathogens and lost ${damage} HP!`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Worry Seed\", target);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"foeSide\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\tplaquefang: {\r\n\t\tnum: -125,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 80,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Poisons the target if the user is statused.\",\r\n\t\tname: \"Plaque Fang\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Poison Fang\", target);\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tonHit(target, source, move) {\r\n\t\t\t\tif (source.status && source.status !== 'slp') {\r\n\t\t\t\t\ttarget.trySetStatus('psn', source, move);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Poison\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t//\r\n\tprismbeam: {\r\n\t\tnum: -126,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 90,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Physical or special against target.\",\r\n\t\tname: \"Prism Beam\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tif (!source.isAlly(target)) {\r\n\t\t\t\tthis.attrLastMove('[anim] Photon Geyser ' + move.category);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\tif (!target) return;\r\n\t\t\tconst atk = pokemon.getStat('atk', false, true);\r\n\t\t\tconst spa = pokemon.getStat('spa', false, true);\r\n\t\t\tconst def = target.getStat('def', false, true);\r\n\t\t\tconst spd = target.getStat('spd', false, true);\r\n\t\t\tconst physical = Math.floor(Math.floor(Math.floor(Math.floor(2 * pokemon.level / 5 + 2) * 90 * atk) / def) / 50);\r\n\t\t\tconst special = Math.floor(Math.floor(Math.floor(Math.floor(2 * pokemon.level / 5 + 2) * 90 * spa) / spd) / 50);\r\n\t\t\tif (physical > special || (physical === special && this.random(2) === 0)) {\r\n\t\t\t\tmove.category = 'Physical';\r\n\t\t\t\tmove.flags.contact = 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (!source.isAlly(target)) this.hint(move.category + \" Prism Beam\");\r\n\t\t},\r\n\t\tonAfterSubDamage(damage, target, source, move) {\r\n\t\t\tif (!source.isAlly(target)) this.hint(move.category + \" Prism Beam\");\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Fairy\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t//\r\n\tpurifyingflame: {\r\n\t\tnum: -127,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\t// Calculate the number of negative stat boosts on the user\r\n\t\t\tlet negativeBoosts = 0;\r\n\t\t\tconst boostKeys: Array<keyof BoostsTable> = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion']; // Define the valid keys\r\n\t\r\n\t\t\tfor (const stat of boostKeys) {\r\n\t\t\t\tif (pokemon.boosts[stat] < 0) {\r\n\t\t\t\t\tnegativeBoosts += Math.abs(pokemon.boosts[stat]); // Count the absolute value of negative boosts\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// Calculate power based on the number of negative boosts\r\n\t\t\tlet power = 50 + 50 * negativeBoosts;\r\n\t\t\tif (power > 2150) power = 2150; // Cap the power at 2150\r\n\t\t\tthis.debug('BP: ' + power);\r\n\t\t\treturn power;\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} prepared to unleash its fire!`);\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\tthis.add('-anim', source, \"Overheat\", target);\r\n\t\t},\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Gets more powerful the more negative stat drops the user has.\",\r\n\t\tname: \"Purifying Flame\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonAfterMoveSecondarySelf(pokemon) {\r\n\t\t\t// Clear negative stat boosts for the user\r\n\t\t\tlet userBoosts: BoostsTable = pokemon.boosts;\r\n\t\t\tlet clearedUserBoosts = false; // Flag to track if any user boosts were cleared\r\n\t\t\tfor (const stat in userBoosts) {\r\n\t\t\t\tif (userBoosts[stat as keyof BoostsTable] < 0) {\r\n\t\t\t\t\tuserBoosts[stat as keyof BoostsTable] = 0;\r\n\t\t\t\t\tclearedUserBoosts = true; // Set flag if any boost was reset\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Notify about the clearing of user's negative boosts\r\n\t\t\tif (clearedUserBoosts) {\r\n\t\t\t\tpokemon.clearBoosts();\r\n\t\t\t\tthis.add('-clearboost', pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Fire\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t//\r\n\trocktumble: {\r\n\t\tnum: -128,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 140,\r\n\t\t/*basePowerCallback(pokemon, target, move) {\r\n\t\t\tconst damagedByTarget = pokemon.attackedBy.some(\r\n\t\t\t\tp => p.source === target && p.damage > 0 && p.thisTurn\r\n\t\t\t);\r\n\t\t\tif (damagedByTarget) {\r\n\t\t\t\tthis.debug('BP doubled for getting hit by ' + target);\r\n\t\t\t\treturn move.basePower * 2;\r\n\t\t\t}\r\n\t\t\treturn move.basePower;\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Avalanche\", target);\r\n\t\t},*/\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"If hit, damage opponent's Pok\u00E9mon.\",\r\n\t\tname: \"Rock Tumble\",\r\n\t\tpp: 5,\r\n\t\tpriority: -3,\r\n\t\tflags: {contact: 1, protect: 1, failmefirst: 1, nosleeptalk: 1, noassist: 1, failcopycat: 1, failinstruct: 1},\r\n\t\tpriorityChargeCallback(pokemon) {\r\n\t\t\tpokemon.addVolatile('rocktumble');\r\n\t\t},\r\n\t\tonTryMove(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['rocktumble']?.gotHit) {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.add('cant', pokemon, 'Rock Tumble', 'Rock Tumble');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-singleturn', pokemon, 'move: Rock Tumble');\r\n\t\t\t},\r\n\t\t\tonHit(pokemon, source, move) {\r\n\t\t\t\tif (!pokemon.isAlly(source)) {\r\n\t\t\t\t\tthis.effectState.gotHit = true;\r\n\t\t\t\t\tconst action = this.queue.willMove(pokemon);\r\n\t\t\t\t\tif (action) {\r\n\t\t\t\t\t\tthis.queue.prioritizeAction(action);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Rock\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n\tsandgeyser: {\r\n\t\tnum: -129,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 150,\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\tconst bp = move.basePower * pokemon.hp / pokemon.maxhp;\r\n\t\t\tthis.debug('BP: ' + bp);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Sandstorm\");\r\n\t\t\tthis.add('-anim', source, \"Sandsear Storm\", target);\r\n\t\t},\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Eruption clone.\",\r\n\t\tname: \"Sand Geyser\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Ground\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tschadenfreude: {\r\n\t\tnum: -130,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\t// Calculate the number of negative stat boosts on the target\r\n\t\t\tlet negativeBoosts = 0;\r\n\t\t\tconst boostKeys: Array<keyof BoostsTable> = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion']; // Define the valid keys\r\n\t\r\n\t\t\tfor (const stat of boostKeys) {\r\n\t\t\t\tif (target.boosts[stat] < 0) {\r\n\t\t\t\t\tnegativeBoosts += Math.abs(target.boosts[stat]); // Count the absolute value of negative boosts\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// Calculate power based on the number of negative boosts\r\n\t\t\tlet power = 50 + 50 * negativeBoosts;\r\n\t\t\tif (power > 2150) power = 2150; // Cap the power at 2150\r\n\t\t\tthis.debug('BP: ' + power);\r\n\t\t\treturn power;\r\n\t\t},\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"+50 more - target's stat drops. Form change.\",\r\n\t\tname: \"Schadenfreude\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tswitch (pokemon.species.name) {\r\n\t\t\tcase 'Grinsegrin':\r\n\t\t\t\tmove.type = 'Dark';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Grinsegrin-Alternate':\r\n\t\t\t\tmove.type = 'Ghost';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} prepared to change its form!`);\r\n\t\t\tthis.add('-anim', source, \"Nasty Plot\");\r\n\t\t\tthis.add('-anim', source, \"Scary Face\", target);\r\n\t\t},\r\n\t\tonHit(target, pokemon, move) {\r\n\t\t\tif (pokemon.baseSpecies.baseSpecies === 'Grinsegrin' && !pokemon.transformed) {\r\n\t\t\t\tmove.willChangeForme = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterMoveSecondarySelf(pokemon, target, move) {\r\n\t\t\tif (move.willChangeForme) {\r\n\t\t\t\tconst grinsegrinForme = pokemon.species.id === 'grinsegrinalternate' ? '' : '-Alternate';\r\n\t\t\t\tpokemon.formeChange('Grinsegrin' + grinsegrinForme, this.effect, false, '[msg]');\r\n\t\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.getTypes(true).join('/'), '[silent]'); // new line to update type\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t//\r\n\tseasonalantlers: {\r\n\t\tnum: -131,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 90,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Form: Weather or Tailwind.\",\r\n\t\tname: \"Seasonal Antlers\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1},\t\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tswitch (pokemon.species.name) {\r\n\t\t\t\tcase 'Sawsbuck':\r\n\t\t\t\tcase 'Sawsbuck-Mega':\r\n\t\t\t\t\tmove.type = 'Fire'; // Change to Fire type\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Sawsbuck-Summer':\r\n\t\t\t\tcase 'Sawsbuck-Summer-Mega':\r\n\t\t\t\t\tmove.type = 'Water'; // Change to Water type\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Sawsbuck-Autumn':\r\n\t\t\t\tcase 'Sawsbuck-Autumn-Mega':\r\n\t\t\t\t\tmove.type = 'Electric'; // Change to Electric type\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Sawsbuck-Winter':\r\n\t\t\t\tcase 'Sawsbuck-Winter-Mega':\r\n\t\t\t\t\tmove.type = 'Ice'; // Change to Ice type\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Horn Leech\", target);\r\n\t\t},\r\n\t\tonAfterHit(target, source) {\r\n\t\t\tswitch (source.species.name) {\r\n\t\t\t\tcase 'Sawsbuck':\r\n\t\t\t\tcase 'Sawsbuck-Mega':\r\n\t\t\t\t\tthis.field.setWeather('sunnyday');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Sawsbuck-Summer':\r\n\t\t\t\tcase 'Sawsbuck-Summer-Mega':\r\n\t\t\t\t\tthis.field.setWeather('raindance');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Sawsbuck-Autumn':\r\n\t\t\t\tcase 'Sawsbuck-Autumn-Mega':\r\n\t\t\t\t\tsource.side.addSideCondition('tailwind');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Sawsbuck-Winter':\r\n\t\t\t\tcase 'Sawsbuck-Winter-Mega':\r\n\t\t\t\t\tthis.field.setWeather('snow');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\t\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t// Sun Graze is untested since I haven't implemented a VGC Restricted format yet.\r\n\tsungraze: {\r\n\t\tnum: -132,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 100,\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\tlet bp = move.basePower;\r\n\t\t\tconst rolloutData = pokemon.volatiles['sungraze'];\r\n\t\t\tif (rolloutData?.hitCount) {\r\n\t\t\t\tbp *= Math.pow(2, rolloutData.contactHitCount);\r\n\t\t\t}\r\n\t\t\tif (rolloutData && pokemon.status !== 'slp') {\r\n\t\t\t\trolloutData.hitCount++;\r\n\t\t\t\trolloutData.contactHitCount++;\r\n\t\t\t\tif (rolloutData.hitCount < 3) {\r\n\t\t\t\t\trolloutData.duration = 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (pokemon.volatiles['defensecurl']) {\r\n\t\t\t\tbp *= 2;\r\n\t\t\t}\r\n\t\t\tthis.debug(\"BP: \" + bp);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Rollout effect.\",\r\n\t\tname: \"Sun Graze\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1, failinstruct: 1, noparentalbond: 1},\r\n\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\tif (pokemon.volatiles['sungraze'] || pokemon.status === 'slp' || !target) return;\r\n\t\t\tpokemon.addVolatile('sungraze');\r\n\t\t\t// @ts-ignore\r\n\t\t\t// TS thinks pokemon.volatiles['rollout'] doesn't exist because of the condition on the return above\r\n\t\t\t// but it does exist now because addVolatile created it\r\n\t\t\tpokemon.volatiles['sungraze'].targetSlot = move.sourceEffect ? pokemon.lastMoveTargetLoc : pokemon.getLocOf(target);\r\n\t\t},\r\n\t\tonAfterMove(source, target, move) {\r\n\t\t\tconst rolloutData = source.volatiles[\"sungraze\"];\r\n\t\t\tif (\r\n\t\t\t\trolloutData &&\r\n\t\t\t\trolloutData.hitCount === 3 &&\r\n\t\t\t\trolloutData.contactHitCount < 3\r\n\t\t\t\t// this conditions can only be met in gen7 and gen8dlc1\r\n\t\t\t\t// see `disguise` and `iceface` abilities in the resp mod folders\r\n\t\t\t) {\r\n\t\t\t\tsource.addVolatile(\"sungrazestorage\");\r\n\t\t\t\tsource.volatiles[\"sungrazestorage\"].contactHitCount =\r\n\t\t\t\t\trolloutData.contactHitCount;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonLockMove: 'sungraze',\r\n\t\t\tonStart() {\r\n\t\t\t\tthis.effectState.hitCount = 0;\r\n\t\t\t\tthis.effectState.contactHitCount = 0;\r\n\t\t\t},\r\n\t\t\tonResidual(target) {\r\n\t\t\t\tif (target.lastMove && target.lastMove.id === 'struggle') {\r\n\t\t\t\t\t// don't lock\r\n\t\t\t\t\tdelete target.volatiles['sungraze'];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Fire\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\ttandemshock: {\r\n\t\tnum: -133,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 65,\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\tif (target.hurtThisTurn) {\r\n\t\t\t\tthis.debug('BP doubled on damaged target');\r\n\t\t\t\treturn move.basePower * 2;\r\n\t\t\t}\r\n\t\t\treturn move.basePower;\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Charge\");\r\n\t\t\tthis.add('-anim', source, \"Assurance\", target);\r\n\t\t},\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Assurance effect.\",\r\n\t\tname: \"Tandem Shock\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Electric\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t//\r\n\ttidalabyss: {\r\n\t\tnum: -134,\r\n\t\taccuracy: 85,\r\n\t\tbasePower: 100,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Spread Magma Storm.\",\r\n\t\tname: \"Tidal Abyss\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tvolatileStatus: 'partiallytrapped',\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Rock\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\tjetbite: {\r\n\t\tnum: -135,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 60,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"0.1 prio if target's HP: 50% or below.\",\r\n\t\tname: \"Jet Bite\", \r\n\t\tpp: 5,  \r\n\t\tpriority: 0, \r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1, bite: 1},\r\n\t\tbeforeTurnCallback(pokemon) {\r\n\t\t//\tconsole.log(`Jet Bite beforeTurnCallback - Checking targets for ${pokemon.name}`);\r\n\t\t\tfor (const target of pokemon.side.foe.active) {\r\n\t\t\t\tif (target && !target.fainted && target.hp <= target.maxhp / 2) {\r\n\t\t\t\t\ttarget.addVolatile('jetbitetarget', pokemon);\r\n\t\t//\t\t\tconsole.log(`Jet Bite - Added 'jetbitetarget' volatile to ${target.name}`);\r\n\t\t\t\t\tthis.add('-message', `${pokemon.name} is eyeing ${target.name} for a swift strike!`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\r\n\t\tonModifyPriority(priority, source, target) {\r\n\t\t//\tconsole.log(`Jet Bite onModifyPriority - Checking priority for ${source.name} against ${target?.name}`);\r\n\t\t\t// Check if any opponent has the 'jetbitetarget' volatile\r\n\t\t\tfor (const foe of source.side.foe.active) {\r\n\t\t\t\tif (foe && foe.volatiles['jetbitetarget']) {\r\n\t\t//\t\t\tconsole.log(`Jet Bite - Priority increased to ${priority + 0.1} against ${foe.name}`);\r\n\t\t\t\t\treturn priority + 0.1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t//\tconsole.log(`Jet Bite - Priority unchanged: ${priority}`);\r\n\t\t\treturn priority;\r\n\t\t},\r\n\t\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t//\tconsole.log(`Jet Bite onPrepareHit - Preparing hit from ${source.name} to ${target.name}`);\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tif (target.volatiles['jetbitetarget']) {\r\n\t\t//\t\tconsole.log(`Jet Bite - Target has 'jetbitetarget' volatile, showing Focus Energy animation`);\r\n\t\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\t}\r\n\t\t\tthis.add('-anim', source, \"Aqua Jet\", target);\r\n\t\t},\r\n\t\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(pokemon, source) {\r\n\t\t//\t\tconsole.log(`Jet Bite - Volatile 'jetbitetarget' started on ${pokemon.name}`);\r\n\t\t\t\tthis.debug(`Jet Bite - Volatile 'jetbitetarget' started on ${pokemon.name}`);\r\n\t\t\t},\r\n\t\t//\tonEnd(pokemon) {\r\n\t\t//\t\tconsole.log(`Jet Bite - Volatile 'jetbitetarget' ended on ${pokemon.name}`);\r\n\t\t//\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Water\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\tcorrosivesilt: {\r\n\t\tnum: -136,\r\n\t\taccuracy: 95,\r\n\t\tbasePower: 90,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Terrain to Acidic; Poison/Ground.\",\r\n\t\tname: \"Corrosive Silt\",\r\n\t\tpp: 10,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonEffectiveness(typeMod, target, type, move) {\r\n\t\t\treturn typeMod + this.dex.getEffectiveness('Ground', type);\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Sludge Wave\", target);\r\n\t\t},\r\n\t\t// Change terrain if it matches specific types\r\n\t\tonAfterHit(target, source) {\t\t\t\r\n\t\t\t// Check if the current terrain is one of the specified types\r\n\t\t\tif (['grassyterrain', 'electricterrain', 'mistyterrain', 'psychicterrain'].includes(this.field.terrain)) {\r\n\t\t\t\tthis.add('-message', `${source.name} transformed the terrain into Acidic Terrain!`);\r\n\t\t\t\tthis.field.setTerrain('acidicterrain'); // Change to Acidic Terrain\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterSubDamage(damage, target, source) {\r\n\t\t\t// Check if the current terrain is one of the specified types\r\n\t\t\tif (['grassyterrain', 'electricterrain', 'mistyterrain', 'psychicterrain'].includes(this.field.terrain)) {\r\n\t\t\t\tthis.add('-message', `${source.name} transformed the terrain into Acidic Terrain!`);\r\n\t\t\t\tthis.field.setTerrain('acidicterrain'); // Change to Acidic Terrain\r\n\t\t\t}\r\n\t\t},\r\n\t\tpriority: 0,\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Poison\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\tequilibrium: {\r\n\t\tnum: -137,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Special or physical, opposite in follow-up.\",\r\n\t\tname: \"Equilibrium\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (pokemon.getStat('atk', false, true) > pokemon.getStat('spa', false, true)) move.category = 'Physical';\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\tthis.add('-anim', source, \"Psycho Boost\", target);\r\n\t\t},\r\n\t\tonAfterMoveSecondarySelf(source, target, move) {\r\n\t\t\tif (move.category === 'Physical') {\r\n\t\t\t\tthis.boost({atk: -1}, source);\r\n\t\t\t\t\tthis.actions.useMove('equilibrium2', source, target);\r\n\t\t\t} else {\r\n\t\t\t\tthis.boost({spa: -1}, source);\r\n\t\t\t\t\tthis.actions.useMove('equilibrium3', source, target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Dragon\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\tequilibrium2: {\r\n\t\tnum: -1037,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Special version.\",\r\n\t\tname: \"Equilibrium\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\tthis.add('-anim', source, \"Psycho Boost\", target);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Dragon\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\tequilibrium3: {\r\n\t\tnum: -1038,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Physical version.\",\r\n\t\tname: \"Equilibrium\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\tthis.add('-anim', source, \"Psycho Boost\", target);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Dragon\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\tstellarfusion: {\r\n\t\tnum: -138,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 150,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Type dependent; hits all others; recharge.\",\r\n\t\tname: \"Stellar Fusion\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {recharge: 1, protect: 1, mirror: 1},\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tlet type = pokemon.types[0];\r\n\t\t\tif (type === \"Bird\") type = \"???\";\r\n\t\t\tmove.type = type;\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (pokemon.getStat('atk', false, true) > pokemon.getStat('spa', false, true)) move.category = 'Physical';\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Flash\", target);\r\n\t\t\tthis.add('-anim', source, \"Mind Blown\", target);\r\n\t\t},\r\n\t\tself: {\r\n\t\t\tvolatileStatus: 'mustrecharge',\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacent\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t// No Pok\u00E9mon is able to learn this move. So, it can only be summoned through Divination\r\n\taugury: {\r\n\t\tnum: -139,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Augury\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {failencore: 1, failmefirst: 1, noassist: 1, failcopycat: 1, failmimic: 1},\r\n\t\tsideCondition: 'augury',\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonSideStart(side, source) {\r\n\t\t\t\tthis.add('-sidestart', side, 'Augury');\r\n\t\t\t},\r\n\t\t\tonModifyAccuracyPriority: 10,\r\n\t\t\tonModifyAccuracy(accuracy, target, source, move) {\r\n\t\t\t\tthis.debug('Augury - setting accuracy to 0');\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tonSideResidualOrder: 26,\r\n\t\t//\tonSideResidualSubOrder: 5,\r\n\t\t\tonSideEnd(side) {\r\n\t\t\t\tthis.add('-sideend', side, 'Augury');\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allySide\",\r\n\t\ttype: \"Psychic\",\r\n\t\tcontestType: \"Clever\",\r\n\t\tdesc: \"This turn, Pok\u00E9mon on user's side become invulnerable to moves, including those from themselves, like Life Dew.\",\r\n\t\tshortDesc: \"Invulnerable this turn.\",\r\n\t},\r\n\tbrainage: {\r\n\t\tnum: -140,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Traps user + target; pseudo Leech Seed.\",\r\n\t\tname: \"Brainage\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1},\r\n\t\tvolatileStatus: 'brainage',\r\n\t\tcondition: {\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'move: Brainage');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 8,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tconst sourceSlot = pokemon.volatiles['brainage'].sourceSlot;\r\n\t\t\t\tconst source = this.getAtSlot(sourceSlot);\r\n\t\t\t\tif (!source || source.fainted || source.hp <= 0) {\r\n\t\t\t\t\tthis.debug('Source fainted - ending Brainage');\r\n\t\t\t\t\tthis.add('-end', pokemon, 'brainage');\r\n\t\t\t\t\tpokemon.removeVolatile('brainage');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst damage = this.damage(pokemon.baseMaxhp / 8, pokemon, source);\r\n\t\t\t\tif (damage) {\r\n\t\t\t\t\tthis.heal(damage, source, pokemon);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} is delighted!`);\r\n\t\t\tthis.add('-anim', source, \"Nasty Plot\");\r\n\t\t\tthis.add('-anim', source, \"Dream Eater\", target);\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tsource.addVolatile('trapped', target, move, 'trapper');\r\n\t\t\ttarget.addVolatile('trapped', source, move, 'trapper');\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Psychic\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\tcursedwrath: {\r\n\t\tnum: -141,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 60,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\t// Calculate the number of negative stat boosts on the user\r\n\t\t\tlet negativeBoosts = 0;\r\n\t\t\tconst boostKeys: Array<keyof BoostsTable> = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion']; // Define the valid keys\r\n\t\r\n\t\t\tfor (const stat of boostKeys) {\r\n\t\t\t\tif (pokemon.boosts[stat] < 0) {\r\n\t\t\t\t\tnegativeBoosts += Math.abs(pokemon.boosts[stat]); // Count the absolute value of negative boosts\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// Calculate power based on the number of negative boosts\r\n\t\t\tlet power = 60 + 20 * negativeBoosts;\r\n\t\t\tif (power > 900) power = 900; // Cap the power at 900\r\n\t\t\tthis.debug('BP: ' + power);\r\n\t\t\treturn power;\r\n\t\t},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} is about to unleash its wrath!`);\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\tthis.add('-anim', source, \"Outrage\", target);\r\n\t\t},\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"More powerful the more negative stat drops the user has.\",\r\n\t\tname: \"Cursed Wrath\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Ghost\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\tcavein: {\r\n\t\tnum: -142,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 120,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"-1 Spe if interrupted.\",\r\n\t\tname: \"Cave-in\",\r\n\t\tpp: 5,\r\n\t\tpriority: -3,\r\n\t\tflags: {protect: 1, failmefirst: 1, nosleeptalk: 1, noassist: 1, failcopycat: 1, failinstruct: 1},\r\n\t\tpriorityChargeCallback(pokemon) {\r\n\t\t\tpokemon.addVolatile('cavein');\r\n\t\t},\r\n\t\tbeforeMoveCallback(pokemon) {\r\n\t\t\tif (pokemon.volatiles['cavein']?.lostFocus) {\r\n\t\t\t\tthis.add('cant', pokemon, 'Cave-in', 'Cave-in');\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-singleturn', pokemon, 'move: Cave-in');\r\n\t\t\t},\r\n\t\t\tonHit(pokemon, source, move) {\r\n\t\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\t\tif (move.category !== 'Status') {\r\n\t\t\t\t\t\tthis.effectState.lostFocus = true && this.boost({spe: -1}, target, pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\t\tif (status.id === 'flinch') return null;\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Ground\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\tinvocation: {\r\n\t\tnum: -143,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: 'Status',\r\n\t\tshortDesc: \"Executes first move of last unfainted Pok\u00E9mon. Best stat boost.\",\r\n\t\tname: 'Invocation',\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\t// Find the last unfainted Pok\u00E9mon on the user's team\r\n\t\t\tconst unfaintedPokemon = source.side.pokemon.filter(p => !p.fainted && p !== source); // added p !== source for edge case\r\n\t\t\tconst lastUnfainted = unfaintedPokemon[unfaintedPokemon.length - 1];\r\n\t\r\n\t\t\tif (!lastUnfainted || lastUnfainted === source) {\r\n\t\t\t\tthis.add('-fail', source, 'move: Invocation');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Determine the best stat to boost\r\n\t\t\tconst stats: Array<StatIDExceptHP> = ['atk', 'def', 'spa', 'spd', 'spe'];\r\n\t\t\tlet bestStat: StatIDExceptHP = stats[0];\r\n\t\t\tlet highestValue = lastUnfainted.getStat(bestStat);\r\n\t\r\n\t\t\tfor (const stat of stats) {\r\n\t\t\t\tconst currentValue = lastUnfainted.getStat(stat);\r\n\t\t\t\tif (currentValue > highestValue) {\r\n\t\t\t\t\thighestValue = currentValue;\r\n\t\t\t\t\tbestStat = stat;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.add('-anim', source, 'Calm Mind'); // Animation for the move\r\n\t\t\t// Apply +1 to the best stat\r\n\t\t\tthis.boost({[bestStat]: 1}, source);\r\n\t\r\n\t\t\t// Use the first move of the last unfainted Pok\u00E9mon\r\n\t\t\tconst firstMove = lastUnfainted.moveSlots[0];\r\n\t\r\n\t\t\tif (!firstMove) {\r\n\t\t\t\tthis.add('-fail', source, 'move: Invocation');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Use the move as if it were the user's move\r\n\t\t\tconst moveData = this.dex.moves.get(firstMove.id);\r\n\t\t\tthis.add('-message', `${source.name} invokes ${lastUnfainted.name}'s ${moveData.name}!`);\r\n\t\r\n\t\t\t// Distinguish how to execute the move based on its target type\r\n\t\t\tswitch (moveData.target) {\r\n\t\t\t\tcase 'self':\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, source);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'allySide':\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, source.side.pokemon[0]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'allyTeam':\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, null);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'normal':\r\n\t\t\t\t\tconst targets = source.side.foe.active.filter(target => target && !target.fainted);\r\n\t\t\t\t\tif (targets.length > 0) {\r\n\t\t\t\t\t\tconst randomTarget = targets[Math.floor(Math.random() * targets.length)];\r\n\t\t\t\t\t\tthis.actions.useMove(moveData.id, source, randomTarget);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.add('-fail', source, 'move: Invocation');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// case any is important because without it, user will use distance moves against itself\r\n\t\t\t\tcase 'any':\r\n\t\t\t\t\tconst anyTarget = source.side.foe.active.filter(target => target && !target.fainted);\r\n\t\t\t\t\tif (anyTarget.length > 0) {\r\n\t\t\t\t\t\tconst randomTarget = anyTarget[Math.floor(Math.random() * anyTarget.length)];\r\n\t\t\t\t\t\tthis.actions.useMove(moveData.id, source, randomTarget);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.add('-fail', source, 'move: Invocation');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t/*case 'allAdjacent':\r\n\t\t\t\t\tconst adjacentTargets = source.side.active.filter(target => target && !target.fainted);\r\n\t\t\t\t\tfor (const target of adjacentTargets) {\r\n\t\t\t\t\t\tthis.actions.useMove(moveData.id, source, target);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;              \r\n\t\t\t\tcase 'all':\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, null);\r\n\t\t\t\t\tbreak;*/\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis.actions.useMove(moveData.id, source, target);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: 'self',\r\n\t\ttype: 'Grass',\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\trampage: {\r\n\t\tnum: -144,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tbasePowerCallback(pokemon) {\r\n\t\t\treturn Math.min(350, 50 + 50 * pokemon.timesAttacked);\r\n\t\t},\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Like Rage Fist but no punch move.\",\r\n\t\tname: \"Rampage\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} is on a rampage!`);\r\n\t\t\tthis.add('-anim', source, \"Focus Energy\");\r\n\t\t\tthis.add('-anim', source, \"Outrage\", target);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tpassageoftime: {\r\n\t\tnum: -145,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 120,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"User and target recharge.\",\r\n\t\tname: \"Passage of Time\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {recharge: 1, protect: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} is about to distort time!`);\r\n\t\t\tthis.add('-anim', source, \"Sandstorm\", target);\r\n\t\t},\r\n\t\tself: {\r\n\t\t\tvolatileStatus: 'mustrecharge',\r\n\t\t},\r\n\t\tvolatileStatus: 'mustrecharge',\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Rock\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tbridgeassembly: {\r\n\t\tnum: -146,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 90,\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Sand: +1 SpD; Sun: +1 Def.\",\r\n\t\tname: \"Bridge Assembly\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} assembles its body!`);\r\n\t\t\tthis.add('-anim', source, \"Core Enforcer\", target);\r\n\t\t},\r\n\t\tonAfterMove(attacker, defender, move) {\r\n\t\t\tif (this.field.isWeather('sandstorm')) {\r\n\t\t\t\tthis.boost({spd: 1}, attacker, attacker, move);\r\n\t\t\t} else if (this.field.isWeather(['sunnyday', 'desolateland'])) {\r\n\t\t\t\tthis.boost({def: 1}, attacker, attacker, move);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Dragon\",\r\n\t},\r\n\t//\r\n\tmindbend: {\r\n\t\tnum: -147,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 0,\r\n\t\tbasePowerCallback(pokemon) {\r\n\t\t\tconst ratio = Math.max(Math.floor(pokemon.hp * 48 / pokemon.maxhp), 1);\r\n\t\t\tlet bp;\r\n\t\t\tif (ratio < 2) {\r\n\t\t\t\tbp = 200;\r\n\t\t\t} else if (ratio < 5) {\r\n\t\t\t\tbp = 150;\r\n\t\t\t} else if (ratio < 10) {\r\n\t\t\t\tbp = 100;\r\n\t\t\t} else if (ratio < 17) {\r\n\t\t\t\tbp = 80;\r\n\t\t\t} else if (ratio < 33) {\r\n\t\t\t\tbp = 40;\r\n\t\t\t} else {\r\n\t\t\t\tbp = 20;\r\n\t\t\t}\r\n\t\t\tthis.debug('BP: ' + bp);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t\tcategory: \"Special\",\r\n\t\tshortDesc: \"Psychic type Reversal.\",\r\n\t\tname: \"Mind Bend\",\r\n\t\tpp: 15,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} bends reality!`);\r\n\t\t\tthis.add('-anim', source, \"Genesis Supernova\", target);\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Psychic\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\t//\r\n\tspringbloom: {\r\n\t\tnum: -148,  \r\n\t\taccuracy: 95,  \r\n\t\tbasePower: 50,  \r\n\t\tshortDesc: \"Lowers targets' Spe by 1, 2 in Sun.\",\r\n\t\tname: \"Spring Bloom\",  \r\n\t\tcategory: \"Special\",\r\n\t\tpp: 10,  \r\n\t\tpriority: 0,  \r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n        \tthis.attrLastMove('[still]');\r\n        \tthis.add('-anim', source, \"Bloom Doom\", target);\r\n    \t},\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tonHit(target, source) {\r\n\t\t\t  // Check if Tailwind is active on the user's side\r\n\t\t\t\tif (this.field.isWeather(['sunnyday', 'desolateland'])) {\r\n\t\t\t\t\tthis.boost({spe: -2}, target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({spe: -1}, target);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"allAdjacentFoes\",  \r\n\t\ttype: \"Grass\",  \r\n\t\tcontestType: \"Beautiful\", \r\n\t},\r\n\t//\r\n\texcavation: {\r\n\t\tnum: -149,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Excavation\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tshortDesc: \"+50 damage for each recovered item.\",\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\t// Recount recovered items\r\n\t\t\tconst targets = this.getAllActive().filter(pokemon => \r\n\t\t\t\tpokemon && !pokemon.fainted && !pokemon.item // Only Pok\u00E9mon without items\r\n\t\t\t);\r\n\t\t\r\n\t\t\tlet recoveredCount = 0; // Local variable to track recovered items\r\n\t\t\r\n\t\t\tfor (const pokemon of targets) {\r\n\t\t\t\tif (this.actions.useMove('Recycle', pokemon)) {\r\n\t\t\t\t\trecoveredCount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// Calculate new base power based on the recount\r\n\t\t\tconst newBasePower = this.clampIntRange(move.basePower + (50 * recoveredCount), 0, 200);\r\n\t\t\t\r\n\t\t//\tconsole.log(`Excavation: Base power calculated as ${newBasePower} (Recovered items: ${recoveredCount}).`);\r\n\t\t\treturn newBasePower;\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Ground\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n\thazardstinger: {\r\n\t\tnum: -151,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 120,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"User and target recharge.\",\r\n\t\tname: \"Hazard Stinger\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {recharge: 1, contact: 1, protect: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-message', `${source.name} is about to stun the target!`);\r\n\t\t\tthis.add('-anim', source, \"Fell Stinger\", target);\r\n\t\t},\r\n\t\tself: {\r\n\t\t\tvolatileStatus: 'mustrecharge',\r\n\t\t},\r\n\t\tvolatileStatus: 'mustrecharge',\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n\tnebulasnare: {\r\n\t\tnum: -152,\r\n\t\taccuracy: 85,\r\n\t\tbasePower: 100,\r\n\t\tcategory: \"Physical\",\r\n\t\tshortDesc: \"Sets Toxic Spikes after hitting foes.\",\r\n\t\tname: \"Nebula Snare\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, metronome: 1},\r\n\t\tonPrepareHit(target, source, move) {\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\tthis.add('-anim', source, \"Aurora Veil\");\r\n\t\t\tthis.add('-anim', source, \"String Shot\", target);\r\n\t\t},\r\n\t\tonAfterHit(target, source, move) {\r\n\t\t\tif (!move.hasSheerForce && source.hp) {\r\n\t\t\t\tfor (const side of source.side.foeSidesWithConditions()) {\r\n\t\t\t\t\tside.addSideCondition('toxicspikes');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterSubDamage(damage, target, source, move) {\r\n\t\t\tif (!move.hasSheerForce && source.hp) {\r\n\t\t\t\tfor (const side of source.side.foeSidesWithConditions()) {\r\n\t\t\t\t\tside.addSideCondition('toxicspikes');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: {}, // Sheer Force-boosted\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Bug\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tcamouflage: {\r\n\t\tinherit: true,\r\n\t\tonHit(target) {\r\n\t\t\tlet newType = 'Normal';\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tnewType = 'Electric';\r\n\t\t\t} else if (this.field.isTerrain('grassyterrain')) {\r\n\t\t\t\tnewType = 'Grass';\r\n\t\t\t} else if (this.field.isTerrain('mistyterrain')) {\r\n\t\t\t\tnewType = 'Fairy';\r\n\t\t\t} else if (this.field.isTerrain('psychicterrain')) {\r\n\t\t\t\tnewType = 'Psychic';\r\n\t\t\t} else if (this.field.isTerrain('acidicterrain')) {\r\n\t\t\t\tnewType = 'Poison';\r\n\t\t\t}\r\n\r\n\t\t\tif (target.getTypes().join() === newType || !target.setType(newType)) return false;\r\n\t\t\tthis.add('-start', target, 'typechange', newType);\r\n\t\t},\r\n\t},\r\n\tnaturepower: {\r\n\t\tinherit: true,\r\n\t\tonTryHit(target, pokemon) {\r\n\t\t\tlet move = 'triattack';\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tmove = 'thunderbolt';\r\n\t\t\t} else if (this.field.isTerrain('grassyterrain')) {\r\n\t\t\t\tmove = 'energyball';\r\n\t\t\t} else if (this.field.isTerrain('mistyterrain')) {\r\n\t\t\t\tmove = 'moonblast';\r\n\t\t\t} else if (this.field.isTerrain('psychicterrain')) {\r\n\t\t\t\tmove = 'psychic';\r\n\t\t\t} else if (this.field.isTerrain('acidicterrain')) {\r\n\t\t\t\tmove = 'sludgebomb';\r\n\t\t\t}\r\n\t\t\tthis.actions.useMove(move, pokemon, target);\r\n\t\t\treturn null;\r\n\t\t},\r\n\t},\r\n\tsecretpower: {\r\n\t\tinherit: true,\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (this.field.isTerrain('')) return;\r\n\t\t\tmove.secondaries = [];\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tmove.secondaries.push({\r\n\t\t\t\t\tchance: 30,\r\n\t\t\t\t\tstatus: 'par',\r\n\t\t\t\t});\r\n\t\t\t} else if (this.field.isTerrain('grassyterrain')) {\r\n\t\t\t\tmove.secondaries.push({\r\n\t\t\t\t\tchance: 30,\r\n\t\t\t\t\tstatus: 'slp',\r\n\t\t\t\t});\r\n\t\t\t} else if (this.field.isTerrain('mistyterrain')) {\r\n\t\t\t\tmove.secondaries.push({\r\n\t\t\t\t\tchance: 30,\r\n\t\t\t\t\tboosts: {\r\n\t\t\t\t\t\tspa: -1,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t} else if (this.field.isTerrain('psychicterrain')) {\r\n\t\t\t\tmove.secondaries.push({\r\n\t\t\t\t\tchance: 30,\r\n\t\t\t\t\tboosts: {\r\n\t\t\t\t\t\tspe: -1,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t} else if (this.field.isTerrain('acidicterrain')) {\r\n\t\t\t\tmove.secondaries.push({\r\n\t\t\t\t\tchance: 30,\r\n\t\t\t\t\tstatus: 'psn',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tterrainpulse: {\r\n\t\tnum: 805,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Special\",\r\n\t\tname: \"Terrain Pulse\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, mirror: 1, pulse: 1},\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (!pokemon.isGrounded() || this.field.isTerrain('')) return;\r\n\t\t\tswitch (this.field.terrain) {\r\n\t\t\tcase 'electricterrain':\r\n\t\t\t\tmove.type = 'Electric';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'grassyterrain':\r\n\t\t\t\tmove.type = 'Grass';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'mistyterrain':\r\n\t\t\t\tmove.type = 'Fairy';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'psychicterrain':\r\n\t\t\t\tmove.type = 'Psychic';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'acidicterrain':\r\n\t\t\t\tmove.type = 'Poison';\r\n\t\t\t\tbreak;\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (this.field.isTerrain('')) return; // Down-to-Earth\r\n\t\t\tif (this.field.terrain && pokemon.isGrounded()) {\r\n\t\t\t\tmove.basePower *= 2;\r\n\t\t\t\tthis.debug('BP doubled in Terrain');\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Normal\",\r\n\t},\r\n\tweatherball: {\r\n\t\tinherit: true,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tswitch (pokemon.effectiveWeather()) {\r\n\t\t\tcase 'sunnyday':\r\n\t\t\tcase 'desolateland':\r\n\t\t\t\tmove.type = 'Fire';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'raindance':\r\n\t\t\tcase 'primordialsea':\r\n\t\t\t\tmove.type = 'Water';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'sandstorm':\r\n\t\t\t\tmove.type = 'Rock';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'desertgales':\r\n\t\t\t\tmove.type = 'Ground';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'hail':\r\n\t\t//\tcase 'diamonddust':\r\n\t\t\tcase 'snow':\r\n\t\t\t\tmove.type = 'Ice';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tswitch (pokemon.effectiveWeather()) {\r\n\t\t\tcase 'sunnyday':\r\n\t\t\tcase 'desolateland':\r\n\t\t\t\tmove.basePower *= 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'raindance':\r\n\t\t\tcase 'primordialsea':\r\n\t\t\t\tmove.basePower *= 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'sandstorm':\r\n\t\t\tcase 'desertgales':\r\n\t\t\t\tmove.basePower *= 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'hail':\r\n\t\t//\tcase 'diamonddust':\r\n\t\t\tcase 'snow':\r\n\t\t\t\tmove.basePower *= 2;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.debug('BP: ' + move.basePower);\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\twaterpulse: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 75,\r\n\t},\r\n\t// end\r\n   // start:\r\n\telectroball: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\tlet ratio = Math.floor(pokemon.getStat('spe') / target.getStat('spe') * 10) / 10;\r\n\t\t\tif (!isFinite(ratio)) ratio = 0;\r\n\t\t\tlet bp = 40;\r\n\t\t\tif (ratio >= 1) bp = 60;\r\n\t\t\tif (ratio >= 1.5) bp = 80;\r\n\t\t\tif (ratio >= 2) bp = 100;\r\n\t\t\tif (ratio >= 3) bp = 120;\r\n\t\t\tif (ratio >= 4) bp = 150;\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t},\t\t\r\n\t// end\r\n\r\n\t// start: Avalanche buff\r\n\tavalanche: {\r\n\t\tnum: 419,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 60,\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\tconst damagedByTarget = pokemon.attackedBy.some(\r\n\t\t\t\tp => p.source === target && p.damage > 0 && p.thisTurn\r\n\t\t\t);\r\n\t\t\tif (damagedByTarget) {\r\n\t\t\t\tthis.debug('BP doubled for getting hit by ' + target);\r\n\t\t\t\treturn move.basePower * 2;\r\n\t\t\t}\r\n\t\t\treturn move.basePower;\r\n\t\t},\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Avalanche\",\r\n\t\tpp: 10,\r\n\t\tpriority: -4,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Ice\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\thypnosis: {\r\n\t\tnum: 95,\r\n\t\taccuracy: 55,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Hypnosis\",\r\n\t\tpp: 20,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, reflectable: 1, mirror: 1, metronome: 1},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target.hasType('Psychic')) {\r\n\t\t\t\tthis.add('-immune', target, '[from] type: Psychic');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tstatus: 'slp',\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Psychic\",\r\n\t\tzMove: {boost: {spe: 1}},\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\t// end\r\n\r\n\t// start: modifying Soak for Aegislash-Light to account for form change, letting it stay mono Water\r\n\tsoak: {\r\n\t\tnum: 487,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Soak\",\r\n\t\tpp: 20,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, reflectable: 1, mirror: 1, allyanim: 1, metronome: 1},\r\n\t\tonHit(target) {\r\n\t\t\tif (target.getTypes().join() === 'Water' || !target.setType('Water')) {\r\n\t\t\t\t// Soak should animate even when it fails.\r\n\t\t\t\t// Returning false would suppress the animation.\r\n\t\t\t\tthis.add('-fail', target);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tthis.add('-start', target, 'typechange', 'Water');\r\n\t\t\t\r\n\t\t\t// Apply soaktypedenial volatile if the target is Aegislash-Light or Grinsegrin\r\n\t\t\tif (target.species.name === 'Aegislash-Light' || target.species.name === 'Aegislash-Blade-Light' ||\r\n\t\t\t\ttarget.species.name === 'Grinsegrin' || target.species.name === 'Grinsegrin-Alternate') {\r\n\t\t\t\ttarget.addVolatile('soaktypedenial');\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Water\",\r\n\t\tzMove: {boost: {spa: 1}},\r\n\t\tcontestType: \"Cute\",\r\n\t},\r\n\t// end\r\n\r\n\t// Endless Dream field\r\n\twakeupslap: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\tif (target.status === 'slp' || target.hasAbility('comatose') || this.field.getPseudoWeather('endlessdream')) return move.basePower * 2;\r\n\t\t\treturn move.basePower;\r\n\t\t},\r\n\t},\r\n\tdreameater: {\r\n\t\tinherit: true,\r\n\t\tonTryImmunity(target, source) {\r\n\t\t\treturn target.status === 'slp' || target.hasAbility('comatose') || this.field.getPseudoWeather('endlessdream');\r\n\t\t},\r\n\t},\r\n\tnightmare: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tif (pokemon.status !== 'slp' && !pokemon.hasAbility('comatose') && !this.field.getPseudoWeather('endlessdream')) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-start', pokemon, 'Nightmare');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 9,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 4);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsleeptalk: {\r\n\t\tinherit: true,\r\n\t\tonTry(source) {\r\n\t\t\tlet usable = false;\r\n\t\t\tfor (const opponent of source.adjacentFoes()) {\r\n\t\t\t\tif (this.field.getPseudoWeather('endlessdream')) {\r\n\t\t\t\t\tusable = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn source.status === 'slp' || source.hasAbility('comatose') || usable;\r\n\t\t},\r\n\t},\r\n\trapidspin: {\r\n\t\tnum: 229,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 50,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Rapid Spin\",\r\n\t\tpp: 40,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1},\r\n\t\tonAfterHit(target, pokemon, move) {\r\n\t\t\tif (!move.hasSheerForce) {\r\n\t\t\t\tif (pokemon.hp && pokemon.removeVolatile('leechseed')) {\r\n\t\t\t\t\tthis.add('-end', pokemon, 'Leech Seed', '[from] move: Rapid Spin', '[of] ' + pokemon);\r\n\t\t\t\t}\r\n\t\t\t\tconst sideConditions = ['spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge'];\r\n\t\t\t\tfor (const condition of sideConditions) {\r\n\t\t\t\t\tif (pokemon.hp && pokemon.side.removeSideCondition(condition)) {\r\n\t\t\t\t\t\tthis.add('-sideend', pokemon.side, this.dex.conditions.get(condition).name, '[from] move: Rapid Spin', '[of] ' + pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.hp && pokemon.volatiles['partiallytrapped']) {\r\n\t\t\t\t\tpokemon.removeVolatile('partiallytrapped');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterSubDamage(damage, target, pokemon, move) {\r\n\t\t\tif (!move.hasSheerForce) {\r\n\t\t\t\tif (pokemon.hp && pokemon.removeVolatile('leechseed')) {\r\n\t\t\t\t\tthis.add('-end', pokemon, 'Leech Seed', '[from] move: Rapid Spin', '[of] ' + pokemon);\r\n\t\t\t\t}\r\n\t\t\t\tconst sideConditions = ['spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge', 'plantpathogens'];\r\n\t\t\t\tfor (const condition of sideConditions) {\r\n\t\t\t\t\tif (pokemon.hp && pokemon.side.removeSideCondition(condition)) {\r\n\t\t\t\t\t\tthis.add('-sideend', pokemon.side, this.dex.conditions.get(condition).name, '[from] move: Rapid Spin', '[of] ' + pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.hp && pokemon.volatiles['partiallytrapped']) {\r\n\t\t\t\t\tpokemon.removeVolatile('partiallytrapped');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tself: {\r\n\t\t\t\tboosts: {\r\n\t\t\t\t\tspe: 1,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\tmortalspin: {\r\n\t\tnum: 866,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 30,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Mortal Spin\",\r\n\t\tpp: 15,\r\n\t\tpriority: 0,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1},\r\n\t\tonAfterHit(target, pokemon, move) {\r\n\t\t\tif (!move.hasSheerForce) {\r\n\t\t\t\tif (pokemon.hp && pokemon.removeVolatile('leechseed')) {\r\n\t\t\t\t\tthis.add('-end', pokemon, 'Leech Seed', '[from] move: Mortal Spin', '[of] ' + pokemon);\r\n\t\t\t\t}\r\n\t\t\t\tconst sideConditions = ['spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge'];\r\n\t\t\t\tfor (const condition of sideConditions) {\r\n\t\t\t\t\tif (pokemon.hp && pokemon.side.removeSideCondition(condition)) {\r\n\t\t\t\t\t\tthis.add('-sideend', pokemon.side, this.dex.conditions.get(condition).name, '[from] move: Mortal Spin', '[of] ' + pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.hp && pokemon.volatiles['partiallytrapped']) {\r\n\t\t\t\t\tpokemon.removeVolatile('partiallytrapped');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterSubDamage(damage, target, pokemon, move) {\r\n\t\t\tif (!move.hasSheerForce) {\r\n\t\t\t\tif (pokemon.hp && pokemon.removeVolatile('leechseed')) {\r\n\t\t\t\t\tthis.add('-end', pokemon, 'Leech Seed', '[from] move: Mortal Spin', '[of] ' + pokemon);\r\n\t\t\t\t}\r\n\t\t\t\tconst sideConditions = ['spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge', 'plantpathogens'];\r\n\t\t\t\tfor (const condition of sideConditions) {\r\n\t\t\t\t\tif (pokemon.hp && pokemon.side.removeSideCondition(condition)) {\r\n\t\t\t\t\t\tthis.add('-sideend', pokemon.side, this.dex.conditions.get(condition).name, '[from] move: Mortal Spin', '[of] ' + pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.hp && pokemon.volatiles['partiallytrapped']) {\r\n\t\t\t\t\tpokemon.removeVolatile('partiallytrapped');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tstatus: 'psn',\r\n\t\t},\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Poison\",\r\n\t},\r\n\tdefog: {\r\n\t\tnum: 432,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Defog\",\r\n\t\tpp: 15,\r\n\t\tpriority: 0,\r\n\t\tflags: {protect: 1, reflectable: 1, mirror: 1, bypasssub: 1, metronome: 1},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tlet success = false;\r\n\t\t\tif (!target.volatiles['substitute'] || move.infiltrates) success = !!this.boost({evasion: -1});\r\n\t\t\tconst removeTarget = [\r\n\t\t\t\t'reflect', 'lightscreen', 'auroraveil', 'safeguard', 'mist', 'spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge', 'plantpathogens',\r\n\t\t\t];\r\n\t\t\tconst removeAll = [\r\n\t\t\t\t'spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge',\r\n\t\t\t];\r\n\t\t\tfor (const targetCondition of removeTarget) {\r\n\t\t\t\tif (target.side.removeSideCondition(targetCondition)) {\r\n\t\t\t\t\tif (!removeAll.includes(targetCondition)) continue;\r\n\t\t\t\t\tthis.add('-sideend', target.side, this.dex.conditions.get(targetCondition).name, '[from] move: Defog', '[of] ' + source);\r\n\t\t\t\t\tsuccess = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (const sideCondition of removeAll) {\r\n\t\t\t\tif (source.side.removeSideCondition(sideCondition)) {\r\n\t\t\t\t\tthis.add('-sideend', source.side, this.dex.conditions.get(sideCondition).name, '[from] move: Defog', '[of] ' + source);\r\n\t\t\t\t\tsuccess = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.field.clearTerrain();\r\n\t\t\treturn success;\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Flying\",\r\n\t\tzMove: {boost: {accuracy: 1}},\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\tcourtchange: {\r\n\t\tnum: 756,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Court Change\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {mirror: 1, metronome: 1},\r\n\t\tonHitField(target, source) {\r\n\t\t\tconst sideConditions = [\r\n\t\t\t\t'mist', 'lightscreen', 'reflect', 'spikes', 'safeguard', 'tailwind', 'toxicspikes', 'stealthrock', 'waterpledge', 'firepledge', 'grasspledge', 'stickyweb', 'auroraveil', 'gmaxsteelsurge', 'gmaxcannonade', 'gmaxvinelash', 'gmaxwildfire', 'plantpathogens',\r\n\t\t\t];\r\n\t\t\tlet success = false;\r\n\t\t\tif (this.gameType === \"freeforall\") {\r\n\t\t\t\t// random integer from 1-3 inclusive\r\n\t\t\t\tconst offset = this.random(3) + 1;\r\n\t\t\t\t// the list of all sides in counterclockwise order\r\n\t\t\t\tconst sides = [this.sides[0], this.sides[2]!, this.sides[1], this.sides[3]!];\r\n\t\t\t\tconst temp: {[k: number]: typeof source.side.sideConditions} = {0: {}, 1: {}, 2: {}, 3: {}};\r\n\t\t\t\tfor (const side of sides) {\r\n\t\t\t\t\tfor (const id in side.sideConditions) {\r\n\t\t\t\t\t\tif (!sideConditions.includes(id)) continue;\r\n\t\t\t\t\t\ttemp[side.n][id] = side.sideConditions[id];\r\n\t\t\t\t\t\tdelete side.sideConditions[id];\r\n\t\t\t\t\t\tconst effectName = this.dex.conditions.get(id).name;\r\n\t\t\t\t\t\tthis.add('-sideend', side, effectName, '[silent]');\r\n\t\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\t\tconst sourceSideConditions = temp[sides[i].n];\r\n\t\t\t\t\tconst targetSide = sides[(i + offset) % 4]; // the next side in rotation\r\n\t\t\t\t\tfor (const id in sourceSideConditions) {\r\n\t\t\t\t\t\ttargetSide.sideConditions[id] = sourceSideConditions[id];\r\n\t\t\t\t\t\tconst effectName = this.dex.conditions.get(id).name;\r\n\t\t\t\t\t\tlet layers = sourceSideConditions[id].layers || 1;\r\n\t\t\t\t\t\tfor (; layers > 0; layers--) this.add('-sidestart', targetSide, effectName, '[silent]');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst sourceSideConditions = source.side.sideConditions;\r\n\t\t\t\tconst targetSideConditions = source.side.foe.sideConditions;\r\n\t\t\t\tconst sourceTemp: typeof sourceSideConditions = {};\r\n\t\t\t\tconst targetTemp: typeof targetSideConditions = {};\r\n\t\t\t\tfor (const id in sourceSideConditions) {\r\n\t\t\t\t\tif (!sideConditions.includes(id)) continue;\r\n\t\t\t\t\tsourceTemp[id] = sourceSideConditions[id];\r\n\t\t\t\t\tdelete sourceSideConditions[id];\r\n\t\t\t\t\tsuccess = true;\r\n\t\t\t\t}\r\n\t\t\t\tfor (const id in targetSideConditions) {\r\n\t\t\t\t\tif (!sideConditions.includes(id)) continue;\r\n\t\t\t\t\ttargetTemp[id] = targetSideConditions[id];\r\n\t\t\t\t\tdelete targetSideConditions[id];\r\n\t\t\t\t\tsuccess = true;\r\n\t\t\t\t}\r\n\t\t\t\tfor (const id in sourceTemp) {\r\n\t\t\t\t\ttargetSideConditions[id] = sourceTemp[id];\r\n\t\t\t\t}\r\n\t\t\t\tfor (const id in targetTemp) {\r\n\t\t\t\t\tsourceSideConditions[id] = targetTemp[id];\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-swapsideconditions');\r\n\t\t\t}\r\n\t\t\tif (!success) return false;\r\n\t\t\tthis.add('-activate', source, 'move: Court Change');\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"all\",\r\n\t\ttype: \"Normal\",\r\n\t},\r\n\ttidyup: {\r\n\t\tnum: 882,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Tidy Up\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {},\r\n\t\tonHit(pokemon) {\r\n\t\t\tlet success = false;\r\n\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\tif (active.removeVolatile('substitute')) success = true;\r\n\t\t\t}\r\n\t\t\tconst removeAll = ['spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge', 'plantpathogens'];\r\n\t\t\tconst sides = [pokemon.side, ...pokemon.side.foeSidesWithConditions()];\r\n\t\t\tfor (const side of sides) {\r\n\t\t\t\tfor (const sideCondition of removeAll) {\r\n\t\t\t\t\tif (side.removeSideCondition(sideCondition)) {\r\n\t\t\t\t\t\tthis.add('-sideend', side, this.dex.conditions.get(sideCondition).name);\r\n\t\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (success) this.add('-activate', pokemon, 'move: Tidy Up');\r\n\t\t\treturn !!this.boost({atk: 1, spe: 1}, pokemon, pokemon, null, false, true) || success;\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"self\",\r\n\t\ttype: \"Normal\",\r\n\t},\r\n\r\n\tshelltrap: {\r\n\t\tnum: 704,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 150,\r\n\t\tcategory: \"Special\",\r\n\t\tisNonstandard: \"Past\",\r\n\t\tname: \"Shell Trap\",\r\n\t\tpp: 5,\r\n\t\tpriority: -3,\r\n\t\tflags: {protect: 1, failmefirst: 1, nosleeptalk: 1, noassist: 1, failcopycat: 1, failinstruct: 1},\r\n\t\tpriorityChargeCallback(pokemon) {\r\n\t\t\tpokemon.addVolatile('shelltrap');\r\n\t\t},\r\n\t\tonTryMove(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['shelltrap']?.gotHit) {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.add('cant', pokemon, 'Shell Trap', 'Shell Trap');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-singleturn', pokemon, 'move: Shell Trap');\r\n\t\t\t},\r\n\t\t\tonHit(pokemon, source, move) {\r\n\t\t\t\tif (!pokemon.isAlly(source)) {\r\n\t\t\t\t\tthis.effectState.gotHit = true;\r\n\t\t\t\t\tconst action = this.queue.willMove(pokemon);\r\n\t\t\t\t\tif (action) {\r\n\t\t\t\t\t\tthis.queue.prioritizeAction(action);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t\ttype: \"Fire\",\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\t//\r\n\tcurse: {\r\n\t\tnum: 174,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Curse\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: {bypasssub: 1, metronome: 1},\r\n\t\tvolatileStatus: 'curse',\r\n\t\tonModifyMove(move, source, target) {\r\n\t\t\tif (!source.hasType('Ghost')) {\r\n\t\t\t\tmove.target = move.nonGhostTarget as MoveTarget;\r\n\t\t\t} else if (source.isAlly(target)) {\r\n\t\t\t\tmove.target = 'randomNormal';\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (!source.hasType('Ghost')) {\r\n\t\t\t\tdelete move.volatileStatus;\r\n\t\t\t\tdelete move.onHit;\r\n\t\t\t\tmove.self = {boosts: {spe: -1, atk: 1, def: 1}};\r\n\t\t\t} else if (move.volatileStatus && target.volatiles['curse']) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHit(target, source) {\r\n\t\t\tif (source.baseSpecies.baseSpecies === 'Al-Ghulazam') {\r\n\t\t\t\t// Al-Ghulazam specific behavior\r\n\t\t\t\tif (source.hp <= source.maxhp / 2 && source.item === 'Black Tome') {\r\n\t\t\t\t\t// If HP is at or below 50% and has Black Tome, take 25% damage\r\n\t\t\t\t\tthis.directDamage(source.maxhp / 4, source, source);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// In all other cases, take 50% damage\r\n\t\t\t\t\tthis.directDamage(source.maxhp / 2, source, source);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Non-Al-Ghulazam behavior (unchanged)\r\n\t\t\t\tthis.directDamage(source.maxhp / 2, source, source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tonStart(pokemon, source) {\r\n\t\t\t\tthis.add('-start', pokemon, 'Curse', '[of] ' + source);\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 12,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 4);\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\tnonGhostTarget: \"self\",\r\n\t\ttype: \"Ghost\",\r\n\t\tzMove: {effect: 'curse'},\r\n\t\tcontestType: \"Tough\",\r\n\t},\r\n\tbravebird: {\r\n\t\tinherit: true,\r\n\t\tflags: {contact: 1, protect: 1, mirror: 1, metronome: 1},\r\n\t\ttarget: \"normal\",\r\n\t},\r\n\t// Gravitational Pull, Sticky Residues\r\n\tgmaxsteelsurge: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: G-Max Steelsurge');\r\n\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\tif (active.volatiles['gravitationalpull']) {\r\n\t\t\t\t\t\tthis.add('-ability', active, 'Gravitational Pull');\r\n\t\t\t\t\t\tthis.add('-message', `The sharp spikes are surrounding ${active.name}!`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEntryHazard(pokemon) {\r\n\t\t\t\tif (pokemon.hasItem('heavydutyboots') || (pokemon.hasAbility('gravitationalpull') && !pokemon.ignoringAbility())) return;\r\n\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\tif (active.hasAbility('gravitationalpull')) return;\r\n\t\t\t\t}\r\n\t\t\t\t// Ice Face and Disguise correctly get typed damage from Stealth Rock\r\n\t\t\t\t// because Stealth Rock bypasses Substitute.\r\n\t\t\t\t// They don't get typed damage from Steelsurge because Steelsurge doesn't,\r\n\t\t\t\t// so we're going to test the damage of a Steel-type Stealth Rock instead.\r\n\t\t\t\tconst steelHazard = this.dex.getActiveMove('Stealth Rock');\r\n\t\t\t\tsteelHazard.type = 'Steel';\r\n\t\t\t\tconst typeMod = this.clampIntRange(pokemon.runEffectiveness(steelHazard), -6, 6);\r\n\t\t\t\tthis.damage(pokemon.maxhp * Math.pow(2, typeMod) / 8);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tspikes: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\t// this is a side condition\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'Spikes');\r\n\t\t\t\tthis.effectState.layers = 1;\r\n\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\tif (active.volatiles['gravitationalpull']) {\r\n\t\t\t\t\t\tthis.add('-ability', active, 'Gravitational Pull');\r\n\t\t\t\t\t\tthis.add('-message', `The spikes are surrounding ${active.name}!`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSideRestart(side) {\r\n\t\t\t\tif (this.effectState.layers >= 3) return false;\r\n\t\t\t\tthis.add('-sidestart', side, 'Spikes');\r\n\t\t\t\tthis.effectState.layers++;\r\n\t\t\t},\r\n\t\t\tonEntryHazard(pokemon) {\r\n\t\t\t\tif (!pokemon.isGrounded() || pokemon.hasItem('heavydutyboots') || (pokemon.hasAbility('gravitationalpull') && !pokemon.ignoringAbility())) return;\r\n\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\tif (active.hasAbility('gravitationalpull')) return;\r\n\t\t\t\t}\r\n\t\t\t\tconst damageAmounts = [0, 3, 4, 6]; // 1/8, 1/6, 1/4\r\n\t\t\t\tthis.damage(damageAmounts[this.effectState.layers] * pokemon.maxhp / 24);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tstealthrock: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\t// this is a side condition\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Stealth Rock');\r\n\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\tif (active.volatiles['gravitationalpull']) {\r\n\t\t\t\t\t\tthis.add('-ability', active, 'Gravitational Pull');\r\n\t\t\t\t\t\tthis.add('-message', `The pointed stones are surrounding ${active.name}!`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEntryHazard(pokemon) {\r\n\t\t\t\tif (pokemon.hasItem('heavydutyboots') || (pokemon.hasAbility('gravitationalpull') && !pokemon.ignoringAbility())) return;\r\n\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\tif (active.hasAbility('gravitationalpull')) return;\r\n\t\t\t\t}\r\n\t\t\t\tconst typeMod = this.clampIntRange(pokemon.runEffectiveness(this.dex.getActiveMove('stealthrock')), -6, 6);\r\n\t\t\t\tthis.damage(pokemon.maxhp * Math.pow(2, typeMod) / 8);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tstickyweb: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Sticky Web');\r\n\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\tif (active.volatiles['gravitationalpull']) {\r\n\t\t\t\t\t\tthis.add('-ability', active, 'Gravitational Pull');\r\n\t\t\t\t\t\tthis.add('-message', `The sticky web is surrounding ${active.name}!`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEntryHazard(pokemon) {\r\n\t\t\t\tif (!pokemon.isGrounded() || pokemon.hasItem('heavydutyboots') || (pokemon.hasAbility('gravitationalpull') && !pokemon.ignoringAbility())) return;\r\n\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\tif (active.hasAbility('gravitationalpull')) return;\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-activate', pokemon, 'move: Sticky Web');\r\n\t\t\t\tthis.boost({spe: -1}, pokemon, this.effectState.source, this.dex.getActiveMove('stickyweb'));\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\ttoxicspikes: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\t// this is a side condition\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Toxic Spikes');\r\n\t\t\t\tthis.effectState.layers = 1;\r\n\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\tif (active.volatiles['gravitationalpull']) {\r\n\t\t\t\t\t\tthis.add('-ability', active, 'Gravitational Pull');\r\n\t\t\t\t\t\tthis.add('-message', `The toxic spikes are surrounding ${active.name}!`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSideRestart(side) {\r\n\t\t\t\tif (this.effectState.layers >= 2) return false;\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Toxic Spikes');\r\n\t\t\t\tthis.effectState.layers++;\r\n\t\t\t},\r\n\t\t\tonEntryHazard(pokemon) {\r\n\t\t\t\tif (!pokemon.isGrounded()) return;\r\n\t\t\t\tif (pokemon.hasType('Poison') && !this.field.getPseudoWeather('stickyresidues')) {\r\n\t\t\t\t\tthis.add('-sideend', pokemon.side, 'move: Toxic Spikes', '[of] ' + pokemon);\r\n\t\t\t\t\tpokemon.side.removeSideCondition('toxicspikes');\r\n\t\t\t\t} else if (\r\n\t\t\t\t\tpokemon.hasType('Steel') || pokemon.hasType('Poison') ||\r\n\t\t\t\t\tpokemon.hasItem('heavydutyboots') || (pokemon.hasAbility('gravitationalpull') && !pokemon.ignoringAbility())\r\n\t\t\t\t\t\t\t ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (const active of this.getAllActive()) {\r\n\t\t\t\t\t\tif (active.hasAbility('gravitationalpull')) return;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.effectState.layers >= 2) {\r\n\t\t\t\t\t\tpokemon.trySetStatus('tox', pokemon.side.foe.active[0]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpokemon.trySetStatus('psn', pokemon.side.foe.active[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\t// start: list of unattainable moves\r\n\tfrustration: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thail: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\tpursuit: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\treturn: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpower: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerfighting: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerfire: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowergrass: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerwater: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerelectric: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerice: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerpoison: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerground: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerpsychic: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerdark: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerbug: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerghost: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerdragon: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowersteel: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerflying: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\thiddenpowerrock: {\r\n\t\tinherit: true,\r\n\t\tisNonstandard: \"Unobtainable\",\r\n\t},\r\n\t// end\r\n};\r\n"],
  "mappings": "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",
  "names": ["target", "source", "move", "conditions", "pokemon"]
}

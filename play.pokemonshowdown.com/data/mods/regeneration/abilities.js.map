{
  "version": 3,
  "sources": ["../../../../data/mods/regeneration/abilities.ts"],
  "sourcesContent": ["export const Abilities: {[k: string]: ModdedAbilityData} = {\n// Additions\n\twingsofvictory: {\n\t\tonStart(pokemon) {\n\t\t\tif (pokemon.side.foe.totalFainted) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Wings of Victory');\n\t\t\t\tconst fallen = Math.min(pokemon.side.foe.totalFainted, 5);\n\t\t\t\tthis.add('-start', pokemon, `fallen${fallen}`, '[silent]');\n\t\t\t\tthis.effectState.fallen = fallen;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tthis.add('-end', pokemon, `fallen${this.effectState.fallen}`, '[silent]');\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (this.effectState.fallen) {\n\t\t\t\tconst powMod = [4096, 4506, 4915, 5325, 5734, 6144];\n\t\t\t\tthis.debug(`Wings of Victory boost: ${powMod[this.effectState.fallen]}/4096`);\n\t\t\t\treturn this.chainModify([powMod[this.effectState.fallen], 4096]);\n\t\t\t}\n\t\t},\n\t\tname: \"Wings of Victory\",\n\t\tshortDesc: \"This Pokemon's moves have 10% more power for each fainted foe, up to 5 foes.\",\n\t\trating: 3.5,\n\t},\n\tgalaxybrain: {\n\t\tonStart(pokemon) {\n\t\t\tlet totalatk = 0;\n\t\t\tlet totalspa = 0;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || target.fainted) continue;\n\t\t\t\ttotalatk += target.getStat('atk', false, true);\n\t\t\t\ttotalspa += target.getStat('spa', false, true);\n\t\t\t}\n\t\t\tif (totalatk && totalatk >= totalspa) {\n\t\t\t\tthis.boost({def: 1});\n\t\t\t} else if (totalspa) {\n\t\t\t\tthis.boost({spd: 1});\n\t\t\t}\n\t\t},\n\t\tname: \"Galaxy Brain\",\n\t\tshortDesc: \"On switch-in, Defense or Sp. Def is raised 1 stage based on the foes' weaker Attack.\",\n\t\trating: 4,\n\t},\n\tblackout: {\n\t\tonStart(source) {\n\t\t\tlet activated = false;\n\t\t\tfor (const pokemon of this.getAllActive()) {\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', source, 'Erratic Code');\n\t\t\t\t}\n\t\t\t\tactivated = true;\n\t\t\t\tif (!pokemon.volatiles['embargo']) {\n\t\t\t\t\tpokemon.addVolatile('embargo');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonAnySwitchIn(pokemon) {\n\t\t\tif (!pokemon.volatiles['embargo']) {\n\t\t\t\tpokemon.addVolatile('embargo');\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (target.hasAbility('blackout')) return;\n\t\t\t}\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\ttarget.removeVolatile('embargo');\n\t\t\t}\n\t\t},\n\t\tname: \"Blackout\",\n\t\tshortDesc: \"While this Pokemon is active, all held items are disabled.\",\n\t\trating: 5,\n\t},\n\texcavate: {\n\t\tonSwitchIn(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const sideCondition of ['spikes', 'stealthrock']) {\n\t\t\t\tif (pokemon.side.getSideCondition(sideCondition)) {\n\t\t\t\t\tif (!activated) {\n\t\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Excavate');\n\t\t            activated = true;\n\t\t\t\t\t}\n\t\t\t\t\tpokemon.side.removeSideCondition(sideCondition);\n\t\t\t\t}\n\t\t\t   if (pokemon.side.getSideCondition('spikes')) {\n\t\t\t      this.boost({def: 1}, pokemon);\n\t\t\t\t}\n\t\t\t   if (pokemon.side.getSideCondition('stealthrock')) {\n\t\t\t      this.boost({def: 1}, pokemon);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Excavate\",\n\t\tshortDesc: \"Removes Stealth Rock and Spikes on switch-in, +1 Def for each hazard removed.\",\n\t\trating: 4,\n\t},\n\tlifeguard: {\n\t  onDamagingHit(damage, target, source, move) {\n\t\t  if (move.type === 'Water') {\n\t\t\t this.boost({def: 1});\n\t\t  }\n\t  },\n\t  onModifySecondaries(secondaries, move) {\n\t\t  if (move.type !== 'Water') return;\n\t\t  this.debug('Lifeguard prevent secondary');\n\t\t  return secondaries.filter(effect => !!(effect.self || effect.dustproof));\n\t\t},\n\t\tname: \"Lifeguard\",\n\t\tshortDesc: \"Boosts Defense when hit by a Water move; blocks additional effects of Water moves.\",\n\t\trating: 3,\n\t},\n\tballooning: {\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (\n\t\t\t\teffect.effectType === \"Move\" &&\n\t\t\t\t!effect.multihit &&\n\t\t\t\t(!effect.negateSecondary && !(effect.hasSheerForce && source.hasAbility('sheerforce')))\n\t\t\t) {\n\t\t\t\tthis.effectState.checkedBallooning = false;\n\t\t\t} else {\n\t\t\t\tthis.effectState.checkedBallooning = true;\n\t\t\t}\n\t\t},\n\t\tonTryEatItem(item) {\n\t\t\tconst healingItems = [\n\t\t\t\t'aguavberry', 'enigmaberry', 'figyberry', 'iapapaberry', 'magoberry', 'sitrusberry', 'wikiberry', 'oranberry', 'berryjuice',\n\t\t\t];\n\t\t\tif (healingItems.includes(item.id)) {\n\t\t\t\treturn this.effectState.checkedBallooning;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tonAfterMoveSecondary(target, source, move) {\n\t\t\tthis.effectState.checkedBallooning = true;\n\t\t\tif (!source || source === target || !target.hp || !move.totalDamage) return;\n\t\t\tconst lastAttackedBy = target.getLastAttackedBy();\n\t\t\tif (!lastAttackedBy) return;\n\t\t\tconst damage = move.multihit ? move.totalDamage : lastAttackedBy.damage;\n\t\t\tif (target.hp <= target.maxhp / 2 && target.hp + damage > target.maxhp / 2) {\n\t\t\t\tthis.boost({atk: 1, spa: 1, spe: 1}, target, target);\n\t\t\t\tpokemon.addVolatile('perishsong');\n\t\t\t}\n\t\t},\n\t\tname: \"Ballooning\",\n\t\tshortDesc: \"At 1/2 or less of this Pokemon's max HP: +1 Atk, Sp. Atk, Spe, and gains the Perish Song effect.\",\n\t\trating: 4,\n\t\tnum: 271,\n\t},\n\tofafeather: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Flying') {\n\t\t\t\tthis.debug('Of A Feather boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Flying') {\n\t\t\t\tthis.debug('Of A Feather boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Of A Feather\",\n\t\trating: 3.5,\n\t\tnum: 263,\n\t},\n\tpatriach: {\n\t\tonStart(pokemon) {\n\t\t\tif (pokemon.side.pokemon.filter(ally => ally === pokemon || !ally.fainted && !ally.status)) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Patriach');\n\t\t\t\tconst healthy = Math.min(pokemon.side.pokemon.filter(ally => ally === pokemon || !ally.fainted && !ally.status), 5);\n\t\t\t\tthis.add('-start', pokemon, `healthy{healthy}`, '[silent]');\n\t\t\t\tthis.effectState.healthy = healthy;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tthis.add('-end', pokemon, `healthy${this.effectState.healthy}`, '[silent]');\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (this.effectState.healthy) {\n\t\t\t\tconst powMod = [4096, 4506, 4915, 5325, 5734, 6144];\n\t\t\t\tthis.debug(`Patriach boost: ${powMod[this.effectState.healthy]}/4096`);\n\t\t\t\treturn this.chainModify([powMod[this.effectState.healthy], 4096]);\n\t\t\t}\n\t\t},\n\t\tname: \"Patriach\",\n\t\tshortDesc: \"This Pokemon's moves have 10% more power for each fainted foe, up to 5 foes.\",\n\t\trating: 3.5,\n\t},\n\tviolentabandon: {\n\t\tonAfterUseItem(item, pokemon) {\n\t\t\tif (pokemon !== this.effectState.target && pokemon.baseSpecies.baseSpecies !== 'Gyarados' || pokemon.transformed) return;\n\t\t\t\tif (pokemon.species.forme !== 'Mega') {\n\t\t\t\t\tpokemon.formeChange('Gyarados-Mega', this.effect, true);\n\t\t      }\n\t\t},\n\t\tonTakeItem(item, pokemon) {\n\t\t\tif (pokemon !== this.effectState.target && pokemon.baseSpecies.baseSpecies !== 'Gyarados' || pokemon.transformed) return;\n\t\t\t\tif (pokemon.species.forme !== 'Mega') {\n\t\t\t\t\tpokemon.formeChange('Gyarados-Mega', this.effect, true);\n\t\t\t   }\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Violent Abandon\",\n\t\tshortDesc: \"This Pokemon transforms into Mega Gyarados whenever its item is used or lost.\",\n\t\trating: 3.5,\n\t\tnum: 84,\n\t},\n\ttropicalcurrent: {\n\t\tonDamagePriority: 1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'brn') {\n\t\t\t\tthis.heal(target.baseMaxhp / 8);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tname: \"Tropical Current\",\n\t\tshortDesc: \"This Pokemon restored 1/8 of its max HP per turn if it's burned. Ignores burn attack drop.\",\n\t\trating: 4,\n\t\tnum: 90,\n\t},\n};\n"],
  "mappings": "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",
  "names": ["pokemon"]
}

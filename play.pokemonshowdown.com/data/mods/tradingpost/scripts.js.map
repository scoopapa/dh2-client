{
  "version": 3,
  "sources": ["../../../../data/mods/tradingpost/scripts.ts"],
  "sourcesContent": ["import {Dex} from '../../../sim/dex';\n\nexport const RESTORATIVE_BERRIES = new Set([\n\t'leppaberry', 'aguavberry', 'enigmaberry', 'figyberry', 'iapapaberry', 'magoberry', 'sitrusberry', 'wikiberry', 'oranberry',\n] as ID[]);\n\nexport const Scripts: {[k: string]: ModdedBattleScriptsData} = {\n\tgen: 9,\n\tteambuilderConfig: {\n\t},\t\n\t\n\tinit() {\n\t\n\t},\n\t\n\tpokemon: {\n\t\tgetBestStatExceptSpeed(unboosted?: boolean, unmodified?: boolean): StatIDExceptHP {\n\t\t\tlet statName: StatIDExceptHP = 'atk';\n\t\t\tlet bestStat = 0;\n\t\t\tconst stats: StatIDExceptHP[] = ['atk', 'def', 'spa', 'spd'];\n\t\t\tfor (const i of stats) {\n\t\t\t\tif (this.getStat(i, unboosted, unmodified) > bestStat) {\n\t\t\t\t\tstatName = i;\n\t\t\t\t\tbestStat = this.getStat(i, unboosted, unmodified);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn statName;\n\t\t},\n\t\tsetItem(item: string | Item, source?: Pokemon, effect?: Effect) {\n\t\t\tif (!this.hp) return false;\n\t\t\tif (this.itemState.knockedOff) return false;\n\t\t\tif (typeof item === 'string') item = this.battle.dex.items.get(item);\n\n\t\t\tconst effectid = this.battle.effect ? this.battle.effect.id : '';\n\t\t\tif (RESTORATIVE_BERRIES.has('leppaberry' as ID)) {\n\t\t\t\tconst inflicted = ['trick', 'switcheroo'].includes(effectid);\n\t\t\t\tconst external = inflicted && source && !source.isAlly(this);\n\t\t\t\tthis.pendingStaleness = external ? 'external' : 'internal';\n\t\t\t} else {\n\t\t\t\tthis.pendingStaleness = undefined;\n\t\t\t}\n\t\t\tconst oldItem = this.getItem();\n\t\t\tconst oldItemState = this.itemState;\n\t\t\tthis.item = item.id;\n\t\t\tthis.itemState = {id: item.id, target: this};\n\t\t\tif (oldItem.exists) this.battle.singleEvent('End', oldItem, oldItemState, this);\n\t\t\tif (item.id && this.isActive) {\n\t\t\t\tthis.battle.singleEvent('Start', item, this.itemState, this, source, effect);\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t},\n};"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,MAAM,sBAAsB,oBAAI,IAAI;AAAA,EAC1C;AAAA,EAAc;AAAA,EAAc;AAAA,EAAe;AAAA,EAAa;AAAA,EAAe;AAAA,EAAa;AAAA,EAAe;AAAA,EAAa;AACjH,CAAS;AAEF,MAAM,UAAkD;AAAA,EAC9D,KAAK;AAAA,EACL,mBAAmB,CACnB;AAAA,EAEA,OAAO;AAAA,EAEP;AAAA,EAEA,SAAS;AAAA,IACR,uBAAuB,WAAqB,YAAsC;AACjF,UAAI,WAA2B;AAC/B,UAAI,WAAW;AACf,YAAM,QAA0B,CAAC,OAAO,OAAO,OAAO,KAAK;AAC3D,iBAAW,KAAK,OAAO;AACtB,YAAI,KAAK,QAAQ,GAAG,WAAW,UAAU,IAAI,UAAU;AACtD,qBAAW;AACX,qBAAW,KAAK,QAAQ,GAAG,WAAW,UAAU;AAAA,QACjD;AAAA,MACD;AAEA,aAAO;AAAA,IACR;AAAA,IACA,QAAQ,MAAqB,QAAkB,QAAiB;AAC/D,UAAI,CAAC,KAAK;AAAI,eAAO;AACrB,UAAI,KAAK,UAAU;AAAY,eAAO;AACtC,UAAI,OAAO,SAAS;AAAU,eAAO,KAAK,OAAO,IAAI,MAAM,IAAI,IAAI;AAEnE,YAAM,WAAW,KAAK,OAAO,SAAS,KAAK,OAAO,OAAO,KAAK;AAC9D,UAAI,oBAAoB,IAAI,YAAkB,GAAG;AAChD,cAAM,YAAY,CAAC,SAAS,YAAY,EAAE,SAAS,QAAQ;AAC3D,cAAM,WAAW,aAAa,UAAU,CAAC,OAAO,OAAO,IAAI;AAC3D,aAAK,mBAAmB,WAAW,aAAa;AAAA,MACjD,OAAO;AACN,aAAK,mBAAmB;AAAA,MACzB;AACA,YAAM,UAAU,KAAK,QAAQ;AAC7B,YAAM,eAAe,KAAK;AAC1B,WAAK,OAAO,KAAK;AACjB,WAAK,YAAY,EAAC,IAAI,KAAK,IAAI,QAAQ,KAAI;AAC3C,UAAI,QAAQ;AAAQ,aAAK,OAAO,YAAY,OAAO,SAAS,cAAc,IAAI;AAC9E,UAAI,KAAK,MAAM,KAAK,UAAU;AAC7B,aAAK,OAAO,YAAY,SAAS,MAAM,KAAK,WAAW,MAAM,QAAQ,MAAM;AAAA,MAC5E;AACA,aAAO;AAAA,IACR;AAAA,EACD;AACD;",
  "names": []
}

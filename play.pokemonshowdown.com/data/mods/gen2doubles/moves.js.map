{
  "version": 3,
  "sources": ["../../../../data/mods/gen2doubles/moves.ts"],
  "sourcesContent": ["export const Moves: {[k: string]: ModdedMoveData} = {\n  encore: {\n\t\tinherit: true,\n\t\tcondition: {\n\t\t\tdurationCallback() {\n\t\t\t\treturn this.random(3, 7);\n\t\t\t},\n\t\t\tonStart(target) {\n\t\t\t\tconst lockedMove = target.lastMoveEncore?.id || '';\n\t\t\t\tconst moveIndex = lockedMove ? target.moves.indexOf(lockedMove) : -1;\n\t\t\t\tif (moveIndex < 0 || target.lastMoveEncore?.flags['failencore'] || target.moveSlots[moveIndex].pp <= 0) {\n\t\t\t\t\t// it failed\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.effectState.move = lockedMove;\n\t\t\t\tthis.add('-start', target, 'Encore');\n\t\t\t},\n\t\t\tonOverrideAction(pokemon) {\n\t\t\t\treturn this.effectState.move;\n\t\t\t},\n  \t\t\tonModifyMove(move, pokemon) {\n\t\t\t\tif (['normal', 'any', 'adjacentFoe'].includes(move.target)) {\n\t\t\t\t\tmove.target = 'randomNormal';\n\t\t\t\t}\n\t\t\t},\n\t\t\tonResidualOrder: 13,\n\t\t\tonResidual(target) {\n\t\t\t\tconst lockedMoveIndex = target.moves.indexOf(this.effectState.move);\n\t\t\t\tif (lockedMoveIndex >= 0 && target.moveSlots[lockedMoveIndex].pp <= 0) {\n\t\t\t\t\t// early termination if you run out of PP\n\t\t\t\t\ttarget.removeVolatile('encore');\n\t\t\t\t}\n\t\t\t},\n\t\t\tonEnd(target) {\n\t\t\t\tthis.add('-end', target, 'Encore');\n\t\t\t},\n\t\t\tonDisableMove(pokemon) {\n\t\t\t\tif (!this.effectState.move || !pokemon.hasMove(this.effectState.move)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\n\t\t\t\t\tif (moveSlot.id !== this.effectState.move) {\n\t\t\t\t\t\tpokemon.disableMove(moveSlot.id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n/*\n\treflect: {\n\t\tinherit: true,\n\t\tcondition: {\n\t\t\tduration: 5,\n\t\t\t// Defense boost applied directly in stat calculation\n\t\t\tonSideStart(side) {\n\t\t\t\tthis.add('-sidestart', side, 'Reflect');\n\t\t\t},\n\t\t\tonAnyModifyDamage(damage, source, target, move) {\n\t\t\t\tif (target !== source && this.effectState.target.hasAlly(target) && this.getCategory(move) === 'Physical') {\n\t\t\t\t\tif (!target.getMoveHitData(move).crit && !move.infiltrates) {\n\t\t\t\t\t\tthis.debug('Reflect should only reduce damage by 2/3 in doubles');\n\t\t\t\t\t\tif (target.side.active.length === 2) return this.chainModify([5461, 4096]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tonSideResidualOrder: 9,\n\t\t\tonSideEnd(side) {\n\t\t\t\tthis.add('-sideend', side, 'Reflect');\n\t\t\t},\n\t\t},\n\t},\n\tlightscreen: {\n\t\tinherit: true,\n\t\tcondition: {\n\t\t\tduration: 5,\n\t\t\t// Sp. Def boost applied directly in stat calculation\n\t\t\tonSideStart(side) {\n\t\t\t\tthis.add('-sidestart', side, 'move: Light Screen');\n\t\t\t},\n\t\t\tonAnyModifyDamage(damage, source, target, move) {\n\t\t\t\tif (target !== source && this.effectState.target.hasAlly(target) && this.getCategory(move) === 'Special') {\n\t\t\t\t\tif (!target.getMoveHitData(move).crit && !move.infiltrates) {\n\t\t\t\t\t\tthis.debug('Light Screen should only reduce damage by 2/3 in doubles');\n\t\t\t\t\t\tif (target.side.active.length === 2) return this.chainModify([5461, 4096]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tonSideResidualOrder: 9,\n\t\t\tonSideEnd(side) {\n\t\t\t\tthis.add('-sideend', side, 'move: Light Screen');\n\t\t\t},\n\t\t},\n\t},\n*/\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,MAAM,QAAuC;AAAA,EAClD,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,WAAW;AAAA,MACV,mBAAmB;AAClB,eAAO,KAAK,OAAO,GAAG,CAAC;AAAA,MACxB;AAAA,MACA,QAAQ,QAAQ;AACf,cAAM,aAAa,OAAO,gBAAgB,MAAM;AAChD,cAAM,YAAY,aAAa,OAAO,MAAM,QAAQ,UAAU,IAAI;AAClE,YAAI,YAAY,KAAK,OAAO,gBAAgB,MAAM,YAAY,KAAK,OAAO,UAAU,SAAS,EAAE,MAAM,GAAG;AAEvG,iBAAO;AAAA,QACR;AACA,aAAK,YAAY,OAAO;AACxB,aAAK,IAAI,UAAU,QAAQ,QAAQ;AAAA,MACpC;AAAA,MACA,iBAAiB,SAAS;AACzB,eAAO,KAAK,YAAY;AAAA,MACzB;AAAA,MACE,aAAa,MAAM,SAAS;AAC7B,YAAI,CAAC,UAAU,OAAO,aAAa,EAAE,SAAS,KAAK,MAAM,GAAG;AAC3D,eAAK,SAAS;AAAA,QACf;AAAA,MACD;AAAA,MACA,iBAAiB;AAAA,MACjB,WAAW,QAAQ;AAClB,cAAM,kBAAkB,OAAO,MAAM,QAAQ,KAAK,YAAY,IAAI;AAClE,YAAI,mBAAmB,KAAK,OAAO,UAAU,eAAe,EAAE,MAAM,GAAG;AAEtE,iBAAO,eAAe,QAAQ;AAAA,QAC/B;AAAA,MACD;AAAA,MACA,MAAM,QAAQ;AACb,aAAK,IAAI,QAAQ,QAAQ,QAAQ;AAAA,MAClC;AAAA,MACA,cAAc,SAAS;AACtB,YAAI,CAAC,KAAK,YAAY,QAAQ,CAAC,QAAQ,QAAQ,KAAK,YAAY,IAAI,GAAG;AACtE;AAAA,QACD;AACA,mBAAW,YAAY,QAAQ,WAAW;AACzC,cAAI,SAAS,OAAO,KAAK,YAAY,MAAM;AAC1C,oBAAQ,YAAY,SAAS,EAAE;AAAA,UAChC;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+CD;",
  "names": []
}

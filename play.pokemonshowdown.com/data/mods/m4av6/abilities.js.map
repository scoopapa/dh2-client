{
  "version": 3,
  "sources": ["../../../../data/mods/m4av6/abilities.ts"],
  "sourcesContent": ["const hyperspaceLookup = {\n\tmewtwo: { move: \"Psystrike\" },\n\tlugia: { move: \"Aeroblast\" },\n\thooh: { move: \"Sacred Fire\" },\n\tgroudon: { move: \"Precipice Blades\" },\n\tkyogre: { move: \"Origin Pulse\" },\n\trayquaza: { move: \"Dragon Ascent\" },\n\tdialga: { move: \"Roar of Time\" },\n\tpalkia: { move: \"Spacial Rend\" },\n\tgiratinaorigin: { move: \"Shadow Force\" },\n\treshiram: { move: \"Blue Flare\" },\n\tzekrom: { move: \"Bolt Strike\" },\n\tkyurem: { move: \"Glaciate\" },\n\txerneas: { move: \"Geomancy\" },\n\tyveltal: { move: \"Oblivion Wing\" },\n\tzygardecomplete: { move: \"Core Enforcer\" },\n\tcosmog: { move: \"Teleport\" },\n\tsolgaleo: { move: \"Sunsteel Strike\" },\n\tlunala: { move: \"Moongeist Beam\" },\n\tnecrozmaultra: { move: \"Light That Burns the Sky\" },\n\tzaciancrowned: { move: \"Behemoth Blade\" },\n\tzamazentacrowned: { move: \"Behemoth Bash\" },\n\teternatus: { move: \"Eternabeam\" },\n\tcalyrexice: { move: \"Glacial Lance\" },\n\tcalyrexshadow: { move: \"Astral Barrage\" },\n};\nexport const Abilities: {[abilityid: string]: ModdedAbilityData} = {\n\tgraviton: {\n\t\tshortDesc: \"On switch-in, this Pok\u00E9mon summons Gravity.\",\n\t\tonStart(source) {\n\t\t\tthis.field.addPseudoWeather('gravity');\n\t\t},\n\t\tname: \"Graviton\",\n\t\trating: 4,\n\t\tnum: -1,\n\t},\n\tignite: {\n\t\tshortDesc: \"This Pok\u00E9mon's Normal-type moves become Fire-type and have 1.2x power.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tconst noModifyType = [\n\t\t\t\t'judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'terrainpulse', 'weatherball',\n\t\t\t];\n\t\t\tif (move.type === 'Normal' && !noModifyType.includes(move.id) &&\n\t\t\t\t!(move.isZ && move.category !== 'Status') && !(move.name === 'Tera Blast' && pokemon.terastallized)) {\n\t\t\t\tmove.type = 'Fire';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify([4915, 4096]);\n\t\t},\n\t\tname: \"Ignite\",\n\t\trating: 4,\n\t\tnum: -2,\n\t},\n\tdowntoearth: {\n\t\tshortDesc: \"While this Pok\u00E9mon is active, the effects of terrains are disabled.\",\n\t\tonStart(source) {\n\t\t\tif (!this.field.isTerrain('')) {\n\t\t\t\tthis.add('-ability', source, 'Down-to-Earth');\n\t\t\t\tthis.add('-message', `${source.name} suppresses the effects of the terrain!`);\n\t\t\t\tthis.eachEvent('TerrainChange', this.effect);\n\t\t\t}\n\t\t},\n\t\tonAnyTerrainStart(target, source, terrain) {\n\t\t\tthis.add('-ability', this.effectState.target, 'Down-to-Earth');\n\t\t\tthis.add('-message', `${this.effectState.target.name} suppresses the effects of the terrain!`);\n\t\t},\n\t\tonEnd(source) {\n\t\t\tif (!this.field.isTerrain('')) this.add('-message', `${source.name} is no longer suppressing the effects of the terrain!`);\n\t\t\tsource.m.forceCustomBlock = true;\n\t\t\tif (!this.getAllActive().some(x => (x.hasAbility('downtoearth') && x !== source))) this.eachEvent('TerrainChange', this.effect);\n\t\t\tsource.m.forceCustomBlock = null;\n\t\t},\n\t\tname: \"Down-to-Earth\",\n\t\trating: 2,\n\t\tnum: -3,\n\t},\n\t// modded for Down-to-Earth and Acidic Surge\n\tmimicry: {\n\t\tinherit: true,\n\t\tonStart(pokemon) {\n\t\t\tif (this.getAllActive().some(x => x.hasAbility('downtoearth') && !x.m.forceCustomBlock)) return;\n\t\t\tthis.singleEvent('TerrainChange', this.effect, this.effectState, pokemon);\n\t\t},\n\t\tonTerrainChange(pokemon) {\n\t\t\tlet types;\n\t\t\tif (this.getAllActive().some(x => x.hasAbility('downtoearth') && !x.m.forceCustomBlock)) {\n\t\t\t\ttypes = pokemon.baseSpecies.types;\n\t\t\t} else {\n\t\t\t\tswitch (this.field.terrain) {\n\t\t\t\t\tcase 'electricterrain':\n\t\t\t\t\t\ttypes = ['Electric'];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'grassyterrain':\n\t\t\t\t\t\ttypes = ['Grass'];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mistyterrain':\n\t\t\t\t\t\ttypes = ['Fairy'];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'psychicterrain':\n\t\t\t\t\t\ttypes = ['Psychic'];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'acidicterrain':\n\t\t\t\t\t\ttypes = ['Poison'];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ttypes = pokemon.baseSpecies.types;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst oldTypes = pokemon.getTypes();\n\t\t\tif (oldTypes.join() === types.join() || !pokemon.setType(types)) return;\n\t\t\tif ((this.field.terrain || pokemon.transformed) && !(this.getAllActive().some(x => x.hasAbility('downtoearth') && !x.m.forceCustomBlock))) {\n\t\t\t\tthis.add('-start', pokemon, 'typechange', types.join('/'), '[from] ability: Mimicry');\n\t\t\t\tif (!this.field.terrain) this.hint(\"Transform Mimicry changes you to your original un-transformed types.\");\n\t\t\t} else {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Mimicry');\n\t\t\t\tthis.add('-end', pokemon, 'typechange', '[silent]');\n\t\t\t}\n\t\t},\n\t},\n\tarenarock: {\n\t\tdesc: \"On switch-in, the field becomes Grassy Terrain. This terrain remains in effect until this Ability is no longer active for any Pok\u00E9mon.\",\n\t\tshortDesc: \"On switch-in, Grassy Terrain begins until this Ability is not active in battle.\",\n\t\tonStart(source) {\n\t\t\tif (this.field.setTerrain('grassyterrain')) {\n\t\t\t\tthis.add('-message', `${source.name} covered the arena with unrelenting plant growth!`);\n\t\t\t\tthis.hint(\"Arena Rock doesn't wear off until the user leaves the field!\");\n\t\t\t\tthis.field.terrainState.duration = 0;\n\t\t\t} else if (this.field.isTerrain('grassyterrain') && this.field.terrainState.duration !== 0) {\n\t\t\t\tthis.add('-ability', source, 'Arena Rock');\n\t\t\t\tthis.add('-message', `${source.name} covered the arena with unrelenting plant growth!`);\n\t\t\t\tthis.hint(\"Arena Rock doesn't wear off until the user leaves the field!\");\n\t\t\t\tthis.field.terrainState.source = source;\n\t\t\t\tthis.field.terrainState.duration = 0;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tif (this.field.terrainState.source !== pokemon || !this.field.isTerrain('grassyterrain')) return;\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (target.hasAbility('arenarock')) {\n\t\t\t\t\tthis.field.terrainState.source = target;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpokemon.m.forceCustomBlock = true;\n\t\t\tthis.field.clearTerrain();\n\t\t\tpokemon.m.forceCustomBlock = null;\n\t\t},\n\t\tname: \"Arena Rock\",\n\t\trating: 4.5,\n\t\tnum: -4,\n\t},\n\tsharpstriker: {\n\t\tdesc: \"This Pok\u00E9mon's ballistic moves have their power multiplied by 1.2. Ballistic moves include Bullet Seed, Octazooka, Barrage, Rock Wrecker, Zap Cannon, Acid Spray, Aura Sphere, Focus Blast, and all moves with Ball or Bomb in their name.\",\n\t\tshortDesc: \"This Pok\u00E9mon's ballistic moves have 1.2x power.\",\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['bullet']) {\n\t\t\t\tthis.debug('Sharp Striker boost');\n\t\t\t\treturn this.chainModify([4915, 4096]);\n\t\t\t}\n\t\t},\n\t\tname: \"Sharp Striker\",\n\t\trating: 3,\n\t\tnum: -5,\n\t},\n\tcoldsweat: {\n\t\tdesc: \"On switch-in, this Pok\u00E9mon summons hail. It changes the current weather to rain whenever any opposing Pok\u00E9mon has an attack that is super effective on this Pok\u00E9mon or an OHKO move. Counter, Metal Burst, and Mirror Coat count as attacking moves of their respective types, Hidden Power counts as its determined type, and Judgment, Multi-Attack, Natural Gift, Revelation Dance, Techno Blast, and Weather Ball are considered Normal-type moves.\",\n\t\tshortDesc: \"Summons hail on switch-in. If foe has a supereffective or OHKO move, summons rain.\",\n\t\tonStart(pokemon) {\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\n\t\t\t\t\tif (move.category === 'Status') continue;\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\n\t\t\t\t\t\tmove.ohko\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.field.setWeather('raindance');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.field.setWeather('hail');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonAnySwitchIn(pokemon) {\n\t\t\tif (pokemon === this.effectState.target) return;\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\n\t\t\t\t\tif (move.category === 'Status') continue;\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\n\t\t\t\t\t\tmove.ohko\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.field.setWeather('raindance', pokemon);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Cold Sweat\",\n\t\trating: 4,\n\t\tnum: -6,\n\t},\n\ttrashcompactor: {\n\t\tdesc: \"This Pok\u00E9mon is immune to all entry hazards. If it lands on any type of entry hazard, it clears the hazard and Stockpiles 1.\",\n\t\tshortDesc: \"Hazard immunity. Clears hazards, Stockpiles 1 if switched in on them.\",\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const sideCondition of ['gmaxsteelsurge', 'spikes', 'stealthrock', 'stickyweb', 'toxicspikes']) {\n\t\t\t\tif (pokemon.side.getSideCondition(sideCondition) && !this.field.getPseudoWeather('stickyresidues')) {\n\t\t\t\t\tif (!activated) {\n\t\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Trash Compactor');\n\t\t\t\t\t\tpokemon.addVolatile('stockpile');\n\t\t\t\t\t\tactivated = true;\n\t\t\t\t\t}\n\t\t\t\t\tpokemon.side.removeSideCondition(sideCondition);\n\t\t\t\t\tthis.add('-sideend', pokemon.side, this.dex.conditions.get(sideCondition).name, '[from] Ability: Trash Compactor', '[of] ' + pokemon);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thazardImmune: true,\n\t\tname: \"Trash Compactor\",\n\t\trating: 5,\n\t\tnum: -7,\n\t},\n\ttempestuous: {\n\t\tdesc: \"When replacing a fainted party member, this Pok\u00E9mon's Special Defense is boosted, and it charges power to double the power of its Electric-type move on its first turn.\",\n\t\tshortDesc: \"Gains the effect of Charge when replacing a fainted ally.\",\n\t\tonAfterMega(pokemon) {\n\t\t\tif (!pokemon.side.faintedLastTurn) return;\n\t\t\tthis.boost({spd: 1}, pokemon);\n\t\t\tthis.add('-activate', pokemon, 'move: Charge');\n\t\t\tpokemon.addVolatile('charge');\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\tif (!pokemon.side.faintedThisTurn) return;\n\t\t\tthis.boost({spd: 1}, pokemon);\n\t\t\tthis.add('-activate', pokemon, 'move: Charge');\n\t\t\tpokemon.addVolatile('charge');\n\t\t},\n\t\tname: \"Tempestuous\",\n\t\trating: 3,\n\t\tnum: -8,\n\t},\n\tsootguard: {\n\t\tshortDesc: \"This Pok\u00E9mon receives 3/4 damage from neutrally effective attacks.\",\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (target.getMoveHitData(move).typeMod === 0) {\n\t\t\t\tthis.debug('Soot Guard neutralize');\n\t\t\t\treturn this.chainModify(0.75);\n\t\t\t}\n\t\t},\n\t\tname: \"Soot Guard\",\n\t\trating: 3,\n\t\tnum: -9,\n\t},\n\tdustscatter: {\n\t\tshortDesc: \"This Pok\u00E9mon bypasses immunuties to its spore and powder moves.\",\n\t\tonModifyMove(move) {\n\t\t\tdelete move.flags['powder'];\n\t\t},\n\t\tname: \"Dust Scatter\",\n\t\trating: 2,\n\t\tnum: -10,\n\t},\n\tcounterclockwisespiral: {\n\t\tdesc: \"On switch-in, the field becomes Trick Room. This room remains in effect until this Ability is no longer active for any Pok\u00E9mon.\",\n\t\tshortDesc: \"On switch-in, Trick Room begins until this Ability is not active in battle.\",\n\t\tonStart(source) {\n\t\t\tif (this.field.getPseudoWeather('trickroom')) {\n\t\t\t\tthis.add('-ability', source, 'Counter-Clockwise Spiral');\n\t\t\t\tthis.add('-message', `${source.name} twisted the dimensions!`);\n\t\t\t\tthis.hint(\"Counter-Clockwise Spiral doesn't wear off until the user leaves the field!\");\n\t\t\t\tthis.field.pseudoWeather.trickroom.source = source;\n\t\t\t\tthis.field.pseudoWeather.trickroom.duration = 0;\n\t\t\t} else {\n\t\t\t\tthis.add('-ability', source, 'Counter-Clockwise Spiral');\n\t\t\t\tthis.field.addPseudoWeather('trickroom');\n\t\t\t\tthis.hint(\"Counter-Clockwise Spiral doesn't wear off until the user leaves the field!\");\n\t\t\t\tthis.field.pseudoWeather.trickroom.duration = 0;\n\t\t\t}\n\t\t},\n\t\tonAnyTryMove(target, source, move) {\n\t\t\tif (['trickroom'].includes(move.id)) {\n\t\t\t\tthis.attrLastMove('[still]');\n\t\t\t\tthis.add('cant', this.effectState.target, 'ability: Counter-Clockwise Spiral', move, '[of] ' + target);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (target.hasAbility('counterclockwisespiral')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.field.removePseudoWeather('trickroom');\n\t\t},\n\t\tname: \"Counter-Clockwise Spiral\",\n\t\trating: 4.5,\n\t\tnum: -11,\n\t},\n\tnightmareheart: {\n\t\tdesc: \"When this Pok\u00E9mon faints, the Pok\u00E9mon that knocked it out is cursed, losing 1/4 of its maximum HP, rounded down, at the end of each turn while it is active. In addition, the Pok\u00E9mon that knocked it out permanently receives this Ability, which persists even through switching, until it is knocked out and the Ability is passed along again.\",\n\t\tshortDesc: \"If this Pok\u00E9mon is KOed, the attacker is cursed, then permanently receives this Ability.\",\n\t\tonFaint(target, source, effect) {\n\t\t\tif (!source || !effect || target.side === source.side) return;\n\t\t\tif (effect.effectType === 'Move' && !effect.flags['futuremove']) {\n\t\t\t\tthis.add('-ability', target, 'Nightmare Heart');\n\t\t\t\tsource.addVolatile('curse');\n\t\t\t\tconst bannedAbilities = [\n\t\t\t\t\t'battlebond', 'comatose', 'disguise', 'insomnia', 'multitype', 'powerconstruct', 'rkssystem', 'schooling', 'shieldsdown', 'stancechange', 'truant', 'zenmode',\n\t\t\t\t];\n\t\t\t\tif (bannedAbilities.includes(source.ability)) {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tsource.setAbility('nightmareheart');\n\t\t\t\t\tsource.baseAbility = 'nightmareheart' as ID;\n\t\t\t\t\tsource.ability = 'nightmareheart' as ID;\n\t\t\t\t\tthis.add('-ability', source, 'Nightmare Heart', '[from] Ability: Nightmare Heart');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Nightmare Heart\",\n\t\trating: 3,\n\t\tnum: -12,\n\t},\n\texecutioner: {\n\t\tdesc: \"When this Pok\u00E9mon's target has 1/2 or less of its maximum HP, rounded down, its attacking stat is multiplied by 1.5 while using an attack.\",\n\t\tshortDesc: \"This Pok\u00E9mon's attacking stat is 1.5x when its target has 1/2 or less HP.\",\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (defender.hp <= defender.maxhp / 2) {\n\t\t\t\tthis.debug('Executioner boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (defender.hp <= defender.maxhp / 2) {\n\t\t\t\tthis.debug('Executioner boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Executioner\",\n\t\trating: 4,\n\t\tnum: -13,\n\t},\n\tsolarcore: {\n\t\tshortDesc: \"During intense sunlight, this Pok\u00E9mon can skip the charging turn of its moves.\",\n\t\tonChargeMove(pokemon, target, move) {\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\n\t\t\t\tthis.debug('Solar Core - remove charge turn for ' + move.id);\n\t\t\t\tthis.attrLastMove('[still]');\n\t\t\t\tthis.addMove('-anim', pokemon, move.name, target);\n\t\t\t\treturn false; // skip charge turn\n\t\t\t}\n\t\t},\n\t\tname: \"Solar Core\",\n\t\trating: 2,\n\t\tnum: -14,\n\t},\n\ttwominded: {\n\t\tdesc: \"When this Pok\u00E9mon's Attack is modified, its Special Attack is modified in the opposite way, and vice versa. The same is true for its Defense and Special Defense.\",\n\t\tshortDesc: \"Applies the opposite of stat changes to the opposite stat (Atk/Sp. Atk, Def/Sp. Def).\",\n\t\tonAfterBoost(boost, target, source, effect) {\n\t\t\tif (!boost || effect.id === 'twominded') return;\n\t\t\tlet activated = false;\n\t\t\tconst twoMindedBoost: SparseBoostsTable = {};\n\t\t\tif (boost.spa) {\n\t\t\t\ttwoMindedBoost.atk = -1 * boost.spa;\n\t\t\t\tactivated = true;\n\t\t\t}\n\t\t\tif (boost.spd) {\n\t\t\t\ttwoMindedBoost.def = -1 * boost.spd;\n\t\t\t\tactivated = true;\n\t\t\t}\n\t\t\tif (boost.atk) {\n\t\t\t\ttwoMindedBoost.spa = -1 * boost.atk;\n\t\t\t\tactivated = true;\n\t\t\t}\n\t\t\tif (boost.def) {\n\t\t\t\ttwoMindedBoost.spd = -1 * boost.def;\n\t\t\t\tactivated = true;\n\t\t\t}\n\t\t\tif (activated === true) {\n\t\t\t\tthis.add('-ability', target, 'Two-Minded');\n\t\t\t\tthis.boost(twoMindedBoost, target, target, null, true);\n\t\t\t}\n\t\t},\n\t\tname: \"Two-Minded\",\n\t\trating: 4,\n\t\tnum: -15,\n\t},\n\tadrenaline: {\n\t\tdesc: \"This Pok\u00E9mon's next move is guaranteed to be a critical hit after it attacks and knocks out another Pok\u00E9mon.\",\n\t\tshortDesc: \"After landing a KO, this Pok\u00E9mon's next move is guaranteed to be a critical hit.\",\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tsource.addVolatile('laserfocus');\n\t\t\t}\n\t\t},\n\t\tname: \"Adrenaline\",\n\t\trating: 3,\n\t\tnum: -16,\n\t},\n\tambush: {\n\t\tshortDesc: \"This Pok\u00E9mon's attacks are critical hits if the user moves before the target.\",\n\t\tonModifyCritRatio(critRatio, source, target) {\n\t\t\tif (target.newlySwitched || this.queue.willMove(target)) return 5;\n\t\t},\n\t\tname: \"Ambush\",\n\t\trating: 4,\n\t\tnum: -17,\n\t},\n\tsecondwind: {\n\t\tdesc: \"While this Pok\u00E9mon has more than 1/2 of its maximum HP, its Attack and Special Attack are halved.\",\n\t\tshortDesc: \"While this Pok\u00E9mon has more than 1/2 of its max HP, its Attack and Sp. Atk are halved.\",\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (pokemon.hp > pokemon.maxhp / 2) {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, pokemon) {\n\t\t\tif (pokemon.hp > pokemon.maxhp / 2) {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Second Wind\",\n\t\trating: -1,\n\t\tnum: -18,\n\t},\n\tbirdofprey: {\n\t\tdesc: \"Prevents adjacent opposing Flying-type Pok\u00E9mon from choosing to switch out unless they are immune to trapping.\",\n\t\tshortDesc: \"Prevents adjacent Flying-type foes from choosing to switch.\",\n\t\tonFoeTrapPokemon(pokemon) {\n\t\t\tif (pokemon.hasType('Flying') && pokemon.isAdjacent(this.effectState.target)) {\n\t\t\t\tpokemon.tryTrap(true);\n\t\t\t}\n\t\t},\n\t\tonFoeMaybeTrapPokemon(pokemon, source) {\n\t\t\tif (!source) source = this.effectState.target;\n\t\t\tif (!source || !pokemon.isAdjacent(source)) return;\n\t\t\tif (!pokemon.knownType || pokemon.hasType('Flying')) {\n\t\t\t\tpokemon.maybeTrapped = true;\n\t\t\t}\n\t\t},\n\t\tname: \"Bird of Prey\",\n\t\trating: 4.5,\n\t\tnum: -19,\n\t},\n\tshowdown: {\n\t\tdesc: \"While this Pok\u00E9mon is present, all Pok\u00E9mon are prevented from restoring any HP. During the effect, healing and draining moves are unusable, and Abilities and items that grant healing will not heal the user. Regenerator is also suppressed.\",\n\t\tshortDesc: \"While present, all Pok\u00E9mon are prevented from healing and Regenerator is suppressed.\",\n\t\tonStart(source) {\n\t\t\tlet activated = false;\n\t\t\tfor (const pokemon of this.getAllActive()) {\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', source, 'Showdown');\n\t\t\t\t}\n\t\t\t\tactivated = true;\n\t\t\t\tif (!pokemon.volatiles['healblock']) {\n\t\t\t\t\tpokemon.addVolatile('healblock');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonAnySwitchIn(pokemon) {\n\t\t\tif (!pokemon.volatiles['healblock']) {\n\t\t\t\tpokemon.addVolatile('healblock');\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (target.hasAbility('showdown')) return;\n\t\t\t}\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\ttarget.removeVolatile('healblock');\n\t\t\t}\n\t\t},\n\t\tname: \"Showdown\",\n\t\trating: 3.5,\n\t\tnum: -20,\n\t},\n\tregenerator: { // modded for Showdown\n\t\tinherit: true,\n\t\tonSwitchOut(pokemon) {\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target.hasAbility('showdown')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t},\n\thardworker: {\n\t\tshortDesc: \"This Pok\u00E9mon's HM moves have 1.5x power.\",\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (['cut', 'fly', 'surf', 'strength', 'whirlpool', 'waterfall', 'rocksmash', 'dive', 'rockclimb'].includes(move.id)) {\n\t\t\t\tthis.debug('Hard Worker boost');\n\t\t\t\treturn this.chainModify([1.5]);\n\t\t\t}\n\t\t},\n\t\tname: \"Hard Worker\",\n\t\trating: 3,\n\t\tnum: -21,\n\t},\n\talchemist: {\n\t\tdesc: \"After attacking a poisoned target with a Poison-type move, this Pok\u00E9mon has an equal chance to cause one of various random effects. Possible effects include: replacing the poison status with paralysis, burn or toxic poison; afflicting the target with confusion, Torment or Encore; choosing two random stats and either boosting or lowering each one; causing the target to use Explosion if its current HP is 25% or less or afflicting it with a Curse if not; or transforming the target into Seismitoad, Ariados or Butterfree until it switches out.\",\n\t\tshortDesc: \"Poison-type move on poisoned target: random chance of 11 different effects.\",\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (!move || !target) return;\n\t\t\tif (target !== source && target.hp && move.type === 'Poison' && ['psn', 'tox'].includes(target.status)) {\n\t\t\t\tconst r = this.random(11);\n\t\t\t\tif (r < 1) {\n\t\t\t\t\tif (!target.setStatus('par', source)) {\n\t\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} couldn't be paralyzed!`);\n\t\t\t\t\t}\n\t\t\t\t} else if (r < 2) {\n\t\t\t\t\tif (target.setStatus('brn', source)) {\n\t\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} couldn't be burned!`);\n\t\t\t\t\t}\n\t\t\t\t} else if (r < 3) {\n\t\t\t\t\tif (target.status === 'psn') {\n\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)}'s poison became more severe!`);\n\t\t\t\t\t\ttarget.setStatus('tox', source);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)}'s poison can't get any worse!`);\n\t\t\t\t\t}\n\t\t\t\t} else if (r < 4) {\n\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\tif (!target.addVolatile('confusion')) {\n\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} could not be confused!`);\n\t\t\t\t\t}\n\t\t\t\t} else if (r < 5) {\n\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\tif (!target.addVolatile('encore')) {\n\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} could not be affected by Encore!`);\n\t\t\t\t\t}\n\t\t\t\t} else if (r < 6) {\n\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\tif (!target.addVolatile('torment')) {\n\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} could not be affected by Torment!`);\n\t\t\t\t\t}\n\t\t\t\t} else if (r < 7) {\n\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\tconst randStat1 = this.random(5);\n\t\t\t\t\tlet randStat2 = this.random(4);\n\t\t\t\t\tif (randStat2 === randStat1) {\n\t\t\t\t\t\trandStat2 = 4;\n\t\t\t\t\t}\n\t\t\t\t\tconst alchemistBoost: SparseBoostsTable = {};\n\t\t\t\t\tif (randStat1 < 1) {\n\t\t\t\t\t\talchemistBoost.atk = -1;\n\t\t\t\t\t} else if (randStat1 < 2) {\n\t\t\t\t\t\talchemistBoost.def = -1;\n\t\t\t\t\t} else if (randStat1 < 3) {\n\t\t\t\t\t\talchemistBoost.spa = -1;\n\t\t\t\t\t} else if (randStat1 < 4) {\n\t\t\t\t\t\talchemistBoost.spd = -1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talchemistBoost.spe = -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (randStat2 < 1) {\n\t\t\t\t\t\talchemistBoost.atk = -1;\n\t\t\t\t\t} else if (randStat2 < 2) {\n\t\t\t\t\t\talchemistBoost.def = -1;\n\t\t\t\t\t} else if (randStat2 < 3) {\n\t\t\t\t\t\talchemistBoost.spa = -1;\n\t\t\t\t\t} else if (randStat2 < 4) {\n\t\t\t\t\t\talchemistBoost.spd = -1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talchemistBoost.spe = -1;\n\t\t\t\t\t}\n\t\t\t\t\tthis.boost(alchemistBoost, target, source, null, true);\n\t\t\t\t} else if (r < 8) {\n\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\tconst randStat1 = this.random(5);\n\t\t\t\t\tlet randStat2 = this.random(4);\n\t\t\t\t\tif (randStat2 === randStat1) {\n\t\t\t\t\t\trandStat2 = 4;\n\t\t\t\t\t}\n\t\t\t\t\tconst alchemistBoost: SparseBoostsTable = {};\n\t\t\t\t\tif (randStat1 < 1) {\n\t\t\t\t\t\talchemistBoost.atk = 1;\n\t\t\t\t\t} else if (randStat1 < 2) {\n\t\t\t\t\t\talchemistBoost.def = 1;\n\t\t\t\t\t} else if (randStat1 < 3) {\n\t\t\t\t\t\talchemistBoost.spa = 1;\n\t\t\t\t\t} else if (randStat1 < 4) {\n\t\t\t\t\t\talchemistBoost.spd = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talchemistBoost.spe = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (randStat2 < 1) {\n\t\t\t\t\t\talchemistBoost.atk = -1;\n\t\t\t\t\t} else if (randStat2 < 2) {\n\t\t\t\t\t\talchemistBoost.def = -1;\n\t\t\t\t\t} else if (randStat2 < 3) {\n\t\t\t\t\t\talchemistBoost.spa = -1;\n\t\t\t\t\t} else if (randStat2 < 4) {\n\t\t\t\t\t\talchemistBoost.spd = -1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talchemistBoost.spe = -1;\n\t\t\t\t\t}\n\t\t\t\t\tthis.boost(alchemistBoost, target, source, null, true);\n\t\t\t\t} else if (r < 9) {\n\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\tconst randStat1 = this.random(5);\n\t\t\t\t\tlet randStat2 = this.random(4);\n\t\t\t\t\tif (randStat2 === randStat1) {\n\t\t\t\t\t\trandStat2 = 4;\n\t\t\t\t\t}\n\t\t\t\t\tconst alchemistBoost: SparseBoostsTable = {};\n\t\t\t\t\tif (randStat1 < 1) {\n\t\t\t\t\t\talchemistBoost.atk = 1;\n\t\t\t\t\t} else if (randStat1 < 2) {\n\t\t\t\t\t\talchemistBoost.def = 1;\n\t\t\t\t\t} else if (randStat1 < 3) {\n\t\t\t\t\t\talchemistBoost.spa = 1;\n\t\t\t\t\t} else if (randStat1 < 4) {\n\t\t\t\t\t\talchemistBoost.spd = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talchemistBoost.spe = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (randStat2 < 1) {\n\t\t\t\t\t\talchemistBoost.atk = 1;\n\t\t\t\t\t} else if (randStat2 < 2) {\n\t\t\t\t\t\talchemistBoost.def = 1;\n\t\t\t\t\t} else if (randStat2 < 3) {\n\t\t\t\t\t\talchemistBoost.spa = 1;\n\t\t\t\t\t} else if (randStat2 < 4) {\n\t\t\t\t\t\talchemistBoost.spd = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talchemistBoost.spe = 1;\n\t\t\t\t\t}\n\t\t\t\t\tthis.boost(alchemistBoost, target, source, null, true);\n\t\t\t\t} else if (r < 10) {\n\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\tif (target.hp >= target.maxhp / 4) {\n\t\t\t\t\t\tif (!target.addVolatile('curse')) {\n\t\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} could not be cursed!`);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} suddenly exploded!`);\n\t\t\t\t\t\tthis.actions.useMove('explosion', target, \"[from] ability: Alchemist\", \"[of] \" + source);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.add('-ability', source, 'Alchemist');\n\t\t\t\t\tif (!target.addVolatile('alchemist')) {\n\t\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} has already transformed!`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tonStart(pokemon) {\n\t\t\t\tthis.add('-message', `${(pokemon.illusion ? pokemon.illusion.name : pokemon.name)} is being transformed...!?`);\n\t\t\t\tconst randForm = this.random(3);\n\t\t\t\tif (randForm < 1) {\n\t\t\t\t\tthis.add('-message', `It became a Seismitoad!`);\n\t\t\t\t\tpokemon.formeChange('Seismitoad');\n\t\t\t\t\tpokemon.setAbility('poisontouch');\n\t\t\t\t} else if (randForm < 2) {\n\t\t\t\t\tthis.add('-message', `It became an Ariados!`);\n\t\t\t\t\tpokemon.formeChange('Ariados');\n\t\t\t\t\tpokemon.setAbility('insomnia');\n\t\t\t\t} else {\n\t\t\t\t\tthis.add('-message', `It became a Butterfree!`);\n\t\t\t\t\tpokemon.formeChange('Butterfree');\n\t\t\t\t\tpokemon.setAbility('compoundeyes');\n\t\t\t\t}\n\t\t\t},\n\t\t\tonEnd(pokemon) {\n\t\t\t\tif (['Seismitoad', 'Ariados', 'Butterfree'].includes(pokemon.species.forme)) {\n\t\t\t\t\tpokemon.formeChange(pokemon.species.battleOnly as string);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tname: \"Alchemist\",\n\t\trating: 3,\n\t\tnum: -22,\n\t},\n\tblackmail: {\n\t\tdesc: \"After using a physical Dark-type move, this Pok\u00E9mon permanently replaces its target's Ability with Orderly Target. The Pok\u00E9mon with Orderly Target cannot knock out Mega Honchkrow - all of its moves will leave Mega Honchkrow with at least 1 HP. Blackmail can only affect one target per battle.\",\n\t\tshortDesc: \"Single-use. Physical Dark moves: permanently change target's Ability to Orderly Target.\",\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (!move || !target || target.side === source.side || !target.hp || this.effectState.busted) return;\n\t\t\tif (target !== source && move.type === 'Dark' && move.category === 'Physical') {\n\t\t\t\ttarget.setAbility('orderlytarget');\n\t\t\t\ttarget.baseAbility = 'orderlytarget' as ID;\n\t\t\t\ttarget.ability = 'orderlytarget' as ID;\n\t\t\t\tthis.add('-ability', target, 'Orderly Target', '[from] Ability: Blackmail');\n\t\t\t\tthis.effectState.busted = true;\n\t\t\t}\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Blackmail\",\n\t\trating: 3,\n\t\tnum: -23,\n\t},\n\torderlytarget: {\n\t\tdesc: \"If the target of this Pok\u00E9mon's move has Blackmail, it survives every hit with at least 1 HP.\",\n\t\tshortDesc: \"If this Pok\u00E9mon's target has Blackmail, it survives every hit with at least 1 HP.\",\n\t\tonDamagePriority: -0,\n\t\tonAnyDamage(damage, target, source, effect) {\n\t\t\tif (effect.effectType === 'Move') {\n\t\t\t\tlet move = this.dex.moves.get(effect.id);\n\t\t\t\tif (move.ignoreAbility) return;\n\t\t\t}\n\t\t\tif (source === this.effectState.target && target.hasAbility('blackmail') &&\n\t\t\t\tdamage >= target.hp && effect && effect.effectType === 'Move') {\n\t\t\t\tthis.add('-ability', source, 'Orderly Target');\n\t\t\t\treturn target.hp - 1;\n\t\t\t}\n\t\t},\n\t\tname: \"Orderly Target\",\n\t\trating: -1,\n\t\tnum: -24,\n\t},\n\tstickyresidues: {\n\t\tdesc: \"On switch-in, this Pok\u00E9mon summons sticky residues that prevent hazards from being cleared or moved by Court Change for five turns. Fails if the effect is already active on the user's side.\",\n\t\tshortDesc: \"On switch-in, prevents hazards from being cleared or moved by Court Change for 5 turns.\",\n\t\tonStart(source) {\n\t\t\tif (this.field.addPseudoWeather('stickyresidues')) {\n\t\t\t\tthis.add('-message', `${source.name} set up sticky residues on the battlefield!`);\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 5,\n\t\t\tonEnd() {\n\t\t\t\tthis.add('-message', `The sticky residues disappeared from the battlefield!`);\n\t\t\t},\n\t\t},\n\t\tname: \"Sticky Residues\",\n\t\trating: 3,\n\t\tnum: -25,\n\t},\n\tdisguise: { // modded for Mega Mimikyu\n\t\tinherit: true,\n\t\tonUpdate(pokemon) {\n\t\t\tif (['mimikyu', 'mimikyutotem'].includes(pokemon.species.id) && this.effectState.busted) {\n\t\t\t\tconst speciesid = pokemon.species.id === 'mimikyutotem' ? 'Mimikyu-Busted-Totem' : 'Mimikyu-Busted';\n\t\t\t\tpokemon.formeChange(speciesid, this.effect, true);\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 8, pokemon, pokemon, this.dex.species.get(speciesid));\n\t\t\t}\n\t\t\tif (pokemon.canMegaEvo && this.effectState.busted) {\n\t\t\t\tpokemon.canMegaEvo = 'mimikyubustedmega';\n\t\t\t}\n\t\t},\n\t},\n\tspectralanger: {\n\t\tshortDesc: \"This Pok\u00E9mon's Attack rises after it uses an attack that is super effective on the target.\",\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (!move || !target) return;\n\t\t\tif (target !== source && move.category !== 'Status' && target.getMoveHitData(move).typeMod > 0) {\n\t\t\t\tthis.boost({atk: 1}, source);\n\t\t\t}\n\t\t},\n\t\tonSourceAfterSubDamage(damage, target, source, move) { // should still activate when targeting a Substitute\n\t\t\tif (!move || !target) return;\n\t\t\tif (target !== source && move.category !== 'Status' && target.getMoveHitData(move).typeMod > 0) {\n\t\t\t\tthis.boost({atk: 1}, source);\n\t\t\t}\n\t\t},\n\t\tname: \"Spectral Anger\",\n\t\trating: 3,\n\t\tnum: -26,\n\t},\n\tdiamonddust: {\n\t\tdesc: \"On switch-in, this Pok\u00E9mon summons Diamond Dust for 5 turns. During the effect, Pok\u00E9mon are immune to all Rock-type attacks and Stealth Rock; Weather Ball becomes an Ice-type move, and its base power is 100; and other weather-related moves and Abilities behave as they do in Hail.\",\n\t\tshortDesc: \"5 turns: all Pok\u00E9mon are immune to Rock; counts as hail.\",\n\t\tonStart(source) {\n\t\t\tthis.field.setWeather('diamonddust');\n\t\t},\n\t\tname: \"Diamond Dust\",\n\t\trating: 3,\n\t\tnum: -27,\n\t},\n\t// modded for Diamond Dust:\n\tforecast: {\n\t\tinherit: true,\n\t\tonWeatherChange(pokemon) {\n\t\t\tif (pokemon.baseSpecies.baseSpecies !== 'Castform' || pokemon.transformed) return;\n\t\t\tlet forme = null;\n\t\t\tswitch (pokemon.effectiveWeather()) {\n\t\t\tcase 'sunnyday':\n\t\t\tcase 'desolateland':\n\t\t\t\tif (pokemon.species.id !== 'castformsunny') forme = 'Castform-Sunny';\n\t\t\t\tbreak;\n\t\t\tcase 'raindance':\n\t\t\tcase 'primordialsea':\n\t\t\t\tif (pokemon.species.id !== 'castformrainy') forme = 'Castform-Rainy';\n\t\t\t\tbreak;\n\t\t\tcase 'hail':\n\t\t\tcase 'diamonddust':\n\t\t\tcase 'snow':\n\t\t\t\tif (pokemon.species.id !== 'castformsnowy') forme = 'Castform-Snowy';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (pokemon.species.id !== 'castform') forme = 'Castform';\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (pokemon.isActive && forme) {\n\t\t\t\tpokemon.formeChange(forme, this.effect, false, '[msg]');\n\t\t\t}\n\t\t},\n\t},\n\ticebody: {\n\t\tshortDesc: \"If Hail, Snow or Diamond Dust is active, heals 1/16 of its max HP each turn; immunity to Hail.\",\n\t\tinherit: true,\n\t\tonWeather(target, source, effect) {\n\t\t\tif (effect.id === 'hail' || effect.id === 'diamonddust' || effect.id === 'snow') {\n\t\t\t\tthis.heal(target.baseMaxhp / 16);\n\t\t\t}\n\t\t},\n\t},\n\ticeface: {\n\t\tinherit: true,\n\t\tshortDesc: \"If Eiscue, the first physical hit it takes deals 0 damage. Effect restored in Hail, Snow, Diamond Dust.\",\n\t\tonStart(pokemon) {\n\t\t\tif (this.field.isWeather(['hail', 'diamonddust', 'snow']) &&\n\t\t\t\tpokemon.species.id === 'eiscuenoice' && !pokemon.transformed) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Ice Face');\n\t\t\t\tthis.effectState.busted = false;\n\t\t\t\tpokemon.formeChange('Eiscue', this.effect, true);\n\t\t\t}\n\t\t},\n\t\tonWeatherChange(pokemon, source, sourceEffect) {\n\t\t\t// snow/hail resuming because Cloud Nine/Air Lock ended does not trigger Ice Face\n\t\t\tif ((sourceEffect as Ability)?.suppressWeather) return;\n\t\t\tif (!pokemon.hp) return;\n\t\t\tif (this.field.isWeather(['hail', 'diamonddust', 'snow']) &&\n\t\t\t\tpokemon.species.id === 'eiscuenoice' && !pokemon.transformed) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Ice Face');\n\t\t\t\tthis.effectState.busted = false;\n\t\t\t\tpokemon.formeChange('Eiscue', this.effect, true);\n\t\t\t}\n\t\t},\n\t},\n\tslushrush: {\n\t\tinherit: true,\n\t\tshortDesc: \"If Hail, Snow or Diamond Dust is active, this Pok\u00E9mon's Speed is doubled.\",\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather(['hail', 'diamonddust', 'snow'])) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t},\n\tsnowcloak: {\n\t\tinherit: true,\n\t\tshortDesc: \"If Hail, Snow or Diamond Dust is active, evasiveness is 1.25x; immunity to Hail.\",\n\t\tonModifyAccuracy(accuracy) {\n\t\t\tif (typeof accuracy !== 'number') return;\n\t\t\tif (this.field.isWeather(['hail', 'diamonddust', 'snow'])) {\n\t\t\t\tthis.debug('Snow Cloak - decreasing accuracy');\n\t\t\t\treturn this.chainModify([3277, 4096]);\n\t\t\t}\n\t\t},\n\t},\n\tprehistoricrage: {\n\t\tdesc: \"This Pok\u00E9mon's Dragon-type moves' type effectiveness against Fairy is changed to be super effective.\",\n\t\tshortDesc: \"This Pok\u00E9mon's Dragon-type moves are super effective against Fairy-types.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Prehistoric Rage');\n\t\t\tthis.add('-message', `${pokemon.name}'s Dragon-type moves are super effective against Fairy-types!`);\n\t\t},\n\t\tonModifyMovePriority: -5,\n\t\tonModifyMove(move) {\n\t\t\tif (move.type !== 'Dragon') return;\n\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\n\t\t\tif (move.ignoreImmunity !== true) {\n\t\t\t\tmove.ignoreImmunity['Dragon'] = true;\n\t\t\t\t(move as any).prehistoricrageBoosted = true;\n\t\t\t}\n\t\t},\n\t\tname: \"Prehistoric Rage\",\n\t\trating: 3,\n\t\tnum: -28,\n\t},\n\tlusterswap: {\n\t\tdesc: \"On entry, this Pok\u00E9mon's type changes to match its first move that's super effective against an adjacent opponent.\",\n\t\tshortDesc: \"On entry: type changes to match its first move that's super effective against an adjacent opponent.\",\n\t\tonStart(pokemon) {\n\t\t\tfor (const moveSlot of pokemon.moveSlots) {\n\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\n\t\t\t\tif (move.category === 'Status') continue;\n\t\t\t\tconst moveType = move.id === 'hiddenpower' ? pokemon.hpType : move.type;\n\t\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\t\tif (!target || target.fainted || !target.isAdjacent(pokemon)) continue;\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, target) && this.dex.getEffectiveness(moveType, target) > 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Luster Swap');\n\t\t\t\t\t\tif (!pokemon.setType(moveType)) continue;\n\t\t\t\t\t\tthis.add('-message', `${pokemon.name} changed its type to match its ${move.name}!`);\n\t\t\t\t\t\tthis.add('-start', pokemon, 'typechange', moveType);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.add('-ability', pokemon, 'Luster Swap');\n\t\t\tthis.add('-message', `${pokemon.name} can't hit any opponent super effectively!`);\n\t\t\treturn;\n\t\t},\n\t\tname: \"Luster Swap\",\n\t\trating: 3,\n\t\tnum: -29,\n\t},\n\tacidicsurge: {\n\t\tdesc: \"On switch-in, this Pok\u00E9mon summons Acidic Terrain for 5 turns. During the effect, the power of Poison-type attacks made by grounded Pok\u00E9mon is multiplied by 1.3, and grounded Steel-types are not immune to Poison-type damage. Steel-type Pok\u00E9mon are still immune to being poisoned and badly poisoned, except by Pok\u00E9mon with Corrosion. Camouflage transforms the user into a Poison-type, Nature Power becomes Sludge Bomb, and Secret Power has a 30% chance to cause poison. Lasts for 8 turns if the user is holding a Terrain Extender (such as through Skill Swap).\",\n\t\tshortDesc: \"5 turns. Grounded: +Poison power, Steel not immune to Poison type.\",\n\t\tonStart(source) {\n\t\t\tthis.field.setTerrain('acidicterrain');\n\t\t},\n\t\tname: \"Acidic Surge\",\n\t\trating: 4,\n\t\tnum: -30,\n\t},\n\tflowergift: { // modded for Mega Meganium\n\t\tinherit: true,\n\t\tshortDesc: \"If user is Cherrim or Mega Meganium and Sunny Day is active: 1.5x ally team Atk and Sp. Def.\",\n\t\tonAllyModifyAtkPriority: 3,\n\t\tonAllyModifyAtk(atk, pokemon) {\n\t\t\tif (this.effectState.target.baseSpecies.baseSpecies !== 'Cherrim' &&\n\t\t\t\tthis.effectState.target.species.name !== 'Meganium-Mega') return;\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonAllyModifySpDPriority: 4,\n\t\tonAllyModifySpD(spd, pokemon) {\n\t\t\tif (this.effectState.target.baseSpecies.baseSpecies !== 'Cherrim' &&\n\t\t\t\tthis.effectState.target.species.name !== 'Meganium-Mega') return;\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t},\n\tsavage: {\n\t\tdesc: \"This Pok\u00E9mon's biting moves become multi-hit moves that hit three times. Has a 1/3 chance to hit two or three times, and a 1/6 chance to hit four or five times. Each hit's damage is cut to one third.\",\n\t\tshortDesc: \"This Pok\u00E9mon's biting moves hit three times. Each hit's damage is cut to one third.\",\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (move.multihit) return;\n\t\t\tif (move.flags['bite'] && !move.isZ && !move.isMax) {\n\t\t\t\tmove.multihit = 3;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 7,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.flags['bite']) return this.chainModify([0x0555, 0x1000]);\n\t\t},\n\t\tname: \"Savage\",\n\t\trating: 3.5,\n\t\tnum: -31,\n\t},\n\tvolcanicsinge: {\n\t\tdesc: \"After any of this Pok\u00E9mon's stats is reduced, making contact with a Pok\u00E9mon on its team burns the attacker. The duration is one turn for each stat stage that was reduced, and the duration is extended if stats are reduced again while it is already in effect.\",\n\t\tshortDesc: \"After stat reduction, contact moves burn attacker. Duration = amount of stat reduction.\",\n\t\tname: \"Volcanic Singe\",\n\t\tonTryBoost(boost, target, source, effect) {\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tlet num = boost[i]!;\n\t\t\t\t\twhile (num !== 0) {\n\t\t\t\t\t\ttarget.side.addSideCondition('volcanicsinge');\n\t\t\t\t\t\tnum++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 2,\n\t\t\tonStart(side) {\n\t\t\t\tthis.add('-ability', this.effectState.source, 'Volcanic Singe');\n\t\t\t\tthis.add('-message', `The air around ${this.effectState.source.name}'s team was superheated!`);\n\t\t\t\tthis.hint(`During Volcanic Singe, making contact with a Pok\u00E9mon on ${this.effectState.source.name}'s team will result in a burn!`);\n\t\t\t\tthis.hint(`The effect is extended each time ${this.effectState.source.name}'s stats are lowered!`);\n\t\t\t\tthis.effectState.duration = 2;\n\t\t\t},\n\t\t\tonRestart(side) {\n\t\t\t\tthis.effectState.duration++;\n\t\t\t},\n\t\t\tonHit(target, source, move) {\n\t\t\t\tif (target.side === this.effectState.target && move.flags['contact']) {\n\t\t\t\t\tsource.trySetStatus('brn', target);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonResidualOrder: 10,\n\t\t\tonResidual(side) {\n\t\t\t\tif (this.effectState.duration > 1) {\n\t\t\t\t\tthis.add('-message', `There are ${this.effectState.duration} turns left of Volcanic Singe!`);\n\t\t\t\t} else if (this.effectState.duration === 1) {\n\t\t\t\t\tthis.add('-message', `There is one turn left of Volcanic Singe!`);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonEnd(side) {\n\t\t\t\tthis.add('-message', `The air around ${this.effectState.source.name}'s team cooled down!`);\n\t\t\t},\n\t\t},\n\t\trating: 3.5,\n\t\tnum: -32,\n\t},\n\t/*settle: {\n\t\tdesc: \"When using a given special move for the first time in at least three turns, this Pok\u00E9mon uses its Attack stat, and the power is increased by 100%. Has no effect if the same special move has been used in the last three turns.\",\n\t\tshortDesc: \"On using special move for the first time in at least 3 turns: move uses Atk stat, 2x power.\",\n\t\tname: \"Settle\",\n\t\tonModifyMove(move, pokemon) {\n\t\t\tlet num = 0;\n\t\t\tfor (const moveSlot of pokemon.moveSlots) {\n\t\t\t\tnum++;\n\t\t\t\tconst checkSlot = this.dex.moves.get(moveSlot.move);\n\t\t\t\tif (move.id === checkSlot.id) {\n\t\t\t\t\tif (num === 1 && !pokemon.volatiles['settle1']) {\n\t\t\t\t\t\tif (move.category !== 'Special') return;\n\t\t\t\t\t\tpokemon.addVolatile('settle1');\n\t\t\t\t\t\t(move as any).settleBoosted = true;\n\t\t\t\t\t} else if (num === 2 && !pokemon.volatiles['settle2']) {\n\t\t\t\t\t\tif (move.category !== 'Special') return;\n\t\t\t\t\t\tpokemon.addVolatile('settle2');\n\t\t\t\t\t\t(move as any).settleBoosted = true;\n\t\t\t\t\t} else if (num === 3 && !pokemon.volatiles['settle3']) {\n\t\t\t\t\t\tif (move.category !== 'Special') return;\n\t\t\t\t\t\tpokemon.addVolatile('settle3');\n\t\t\t\t\t\t(move as any).settleBoosted = true;\n\t\t\t\t\t} else if (num === 4 && !pokemon.volatiles['settle4']) {\n\t\t\t\t\t\tif (move.category !== 'Special') return;\n\t\t\t\t\t\tpokemon.addVolatile('settle4');\n\t\t\t\t\t\t(move as any).settleBoosted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif ((move as any).settleBoosted) {\n\t\t\t\tthis.hint(`${move.name} was boosted by Settle!`);\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\trating: 3,\n\t\tnum: -33,\n\t},*/\n\tsettle: {\n\t\tdesc: \"When using a given special move for the first time in at least three turns after its last boost, this Pok\u00E9mon uses its Attack stat instead of Special Attack, and the move's power is doubled.\",\n\t\tshortDesc: \"1st use of a special move (after 3 turns): uses Atk and 2x power.\",\n\t\tname: \"Settle\",\n\t\trating: 3,\n\t\tnum: -33,\n\t\n\t\tonStart(pokemon) {\n\t\t\tpokemon.m.settleCooldowns = {}; // { [moveId]: lastBoostTurn }\n\t\t\tpokemon.m.settleReadyMessagesShown = {}; // { [moveId]: boolean }\n\t\t},\n\t\n\t\tonBeforeMove(pokemon, target, move) {\n\t\t\tif (move.category !== 'Special' || move.basePower <= 0) return;\n\t\n\t\t\tif (!pokemon.m.settleCooldowns) {\n\t\t\t\tpokemon.m.settleCooldowns = {};\n\t\t\t}\n\t\n\t\t\tconst lastBoostTurn = pokemon.m.settleCooldowns[move.id];\n\t\t\tconst turnsSinceLastBoost = lastBoostTurn !== undefined ? this.turn - lastBoostTurn : Infinity;\n\t\n\t\t\tif (turnsSinceLastBoost > 2) {\n\t\t\t\tmove.overrideOffensiveStat = 'atk';\n\t\t\t\tmove.basePower *= 2;\n\t\t\t\tthis.add('-ability', pokemon, 'Settle');\n\t\t\t\tthis.add('-message', `${pokemon.name} focused its strength into a powered-up ${move.name}!`);\n\t\t\t\tpokemon.m.settleCooldowns[move.id] = this.turn;\n\t\n\t\t\t\t// Reset ready flag\n\t\t\t\tif (pokemon.m.settleReadyMessagesShown) {\n\t\t\t\t\tpokemon.m.settleReadyMessagesShown[move.id] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tonResidualOrder: 5,\n\t\tonResidual(pokemon) {\n\t\t\tif (!pokemon.m.settleCooldowns) return;\n\t\n\t\t\tif (!pokemon.m.settleReadyMessagesShown) {\n\t\t\t\tpokemon.m.settleReadyMessagesShown = {};\n\t\t\t}\n\t\n\t\t\tfor (const moveId in pokemon.m.settleCooldowns) {\n\t\t\t\tconst lastTurn = pokemon.m.settleCooldowns[moveId];\n\t\t\t\tconst turnsSince = this.turn - lastTurn;\n\t\t\t\tconst moveName = this.dex.moves.get(moveId).name;\n\t\t\t\tconst turnsUntilReady = Math.max(0, 3 - turnsSince);\n\t\n\t\t\t\tif (turnsUntilReady > 0) {\n\t\t\t\t\tconst message =\n\t\t\t\t\t\tturnsUntilReady === 1\n\t\t\t\t\t\t\t? `${pokemon.name}'s ${moveName} will be available for a power-up next turn.`\n\t\t\t\t\t\t\t: `${pokemon.name}'s ${moveName} will be available for a power-up in ${turnsUntilReady} turn(s).`;\n\t\t\t\t\tthis.add('-ability', pokemon, 'Settle');\n\t\t\t\t\tthis.add('-message', message);\n\t\t\t\t\tpokemon.m.settleReadyMessagesShown[moveId] = false;\n\t\t\t\t} else {\n\t\t\t\t\tif (!pokemon.m.settleReadyMessagesShown[moveId]) {\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Settle');\n\t\t\t\t\t\tthis.add('-message', `${pokemon.name}'s ${moveName} is ready to power up again!`);\n\t\t\t\t\t\tpokemon.m.settleReadyMessagesShown[moveId] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\theavenlytechniques: {\n\t\tshortDesc: \"Slicing moves: +1 priority at full HP, always crit at 1/3 HP or less, +1 Defense otherwise.\",\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move.flags['slicing'] && pokemon.hp === pokemon.maxhp) return priority + 1;\n\t\t},\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (!move || !target) return;\n\t\t\tif (source.hp === source.maxhp || source.hp <= source.maxhp / 3) return;\n\t\t\tif (move.flags['slicing']) {\n\t\t\t\tthis.boost({def: 1}, source);\n\t\t\t}\n\t\t},\n\t\tonSourceAfterSubDamage(damage, target, source, move) { // should still activate when targeting a Substitute\n\t\t\tif (!move || !target) return;\n\t\t\tif (source.hp === source.maxhp || source.hp <= source.maxhp / 3) return;\n\t\t\tif (move.flags['slicing']) {\n\t\t\t\tthis.boost({def: 1}, source);\n\t\t\t}\n\t\t},\n\t\tonModifyCritRatio(critRatio, source, target, move) {\n\t\t\tif (move.flags['slicing'] && source.hp <= source.maxhp / 3) return 5;\n\t\t},\n\t\tname: \"Heavenly Techniques\",\n\t\trating: 3,\n\t\tnum: -34,\n\t},\n\trotation: {\n\t\tdesc: \"On switch-in, this Pok\u00E9mon's Defense or Special Defense is raised by 1 stage based on the weaker combined attacking stat of all opposing Pok\u00E9mon. Special Defense is raised if their Special Attack is higher, and Defense is raised if their Attack is the same or higher.\",\n\t\tshortDesc: \"On switch-in, Defense or Sp. Def is raised 1 stage based on the foes' weaker Attack.\",\n\t\tonStart(pokemon) {\n\t\t\tlet totalatk = 0;\n\t\t\tlet totalspa = 0;\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\ttotalatk += target.getStat('atk', false, true);\n\t\t\t\ttotalspa += target.getStat('spa', false, true);\n\t\t\t}\n\t\t\tif (totalatk && totalatk >= totalspa) {\n\t\t\t\tthis.boost({def: 1});\n\t\t\t} else if (totalspa) {\n\t\t\t\tthis.boost({spd: 1});\n\t\t\t}\n\t\t},\n\t\tname: \"Rotation\",\n\t\trating: 4,\n\t\tnum: -35,\n\t},\n\tspiritofgiving: {\n\t\tdesc: \"On switch-in, every Pok\u00E9mon in this Pok\u00E9mon's party regains the item it started with, even if the item was a popped Air Balloon, if the item was picked up by a Pok\u00E9mon with the Pickup Ability, or the item was lost to Bug Bite, Covet, Incinerate, Knock Off, Pluck, or Thief. It doesn't work if the Pok\u00E9mon is already holding something else.\",\n\t\tshortDesc: \"Restores the party's used or removed items on switch-in.\",\n\t\tname: \"Spirit of Giving\",\n\t\tonStart(pokemon) {\n\t\t\tconst side = pokemon.side;\n\t\t\tlet activated = false;\n\t\t\tfor (const ally of side.pokemon) {\n\t\t\t\tif (ally.item) continue;\n\t\t\t\tif ((ally as any).lostItemForDelibird) {\n\t\t\t\t\tconst item = (ally as any).lostItemForDelibird;\n\t\t\t\t\tif (ally.setItem(item)) {\n\t\t\t\t\t\tif (!activated) {\n\t\t\t\t\t\t\tthis.add('-ability', pokemon, 'Spirit of Giving');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tactivated = true;\n\t\t\t\t\t\tthis.add('-item', ally, this.dex.items.get(item), '[from] Ability: Spirit of Giving');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trating: 4,\n\t\tnum: -36,\n\t},\n\t/*\n\tasonesawsbuck: {\n\t\tdesc: \"The combination of Hustle and A Winter's Tale. This Pok\u00E9mon's Attack is multiplied by 1.5 and the accuracy of its physical attacks is multiplied by 0.8. The damage of this Pok\u00E9mon's Ice-type moves used on consecutive turns is increased, up to a maximum of 1.5x after 5 turns. If Hail is active, the effect is doubled for a maximum of 2x after 5 turns.\",\n\t\tshortDesc: \"The combination of Hustle and A Winter's Tale.\",\n\t\tname: \"As One (Sawsbuck)\",\n\t\tonPreStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'As One');\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('awinterstale');\n\t\t},\n\t\t// This should be applied directly to the stat as opposed to chaining with the others\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk) {\n\t\t\treturn this.modify(atk, 1.5);\n\t\t},\n\t\tonSourceModifyAccuracyPriority: 7,\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\n\t\t\tif (move.category === 'Physical' && typeof accuracy === 'number') {\n\t\t\t\treturn accuracy * 0.8;\n\t\t\t}\n\t\t},\n\t\trating: 4,\n\t\tnum: -2000, // does not exist\n\t},\n*/\n\tspringfever: {\n\t\tdesc: \"While this Pok\u00E9mon is active, if any Pok\u00E9mon uses a Fire-type move, it is prevented from executing and the attacker loses 1/4 of its maximum HP, rounded half up. This effect does not happen if the Fire-type move is prevented by Primordial Sea.\u200B\",\n\t\tshortDesc: \"While active, any Pok\u00E9mon using a Fire move loses 1/4 max HP.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-message', `${pokemon.name} fills the air with explosive powder!`);\n\t\t},\n\t\tonAnyTryMovePriority: -1,\n\t\tonAnyTryMove(pokemon, target, move) {\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\tthis.add('-activate', pokemon, 'move: Powder');\n\t\t\t\tthis.damage(this.clampIntRange(Math.round(pokemon.maxhp / 4), 1));\n\t\t\t\tthis.attrLastMove('[still]');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tname: \"Spring Fever\",\n\t\trating: 4,\n\t\tnum: -37,\n\t},\n\tsummerdays: {\n\t\tdesc: \"If Sunny Day is active, this Pokemon's Special Attack is multiplied by 1.5 and it loses 1/8 of its maximum HP, rounded down, at the end of each turn. If this Pokemon is holding Utility Umbrella, its Special Attack remains the same and it does not lose any HP.\",\n\t\tshortDesc: \"If Sunny Day is active, this Pokemon's Sp. Atk is 1.5x; loses 1/8 max HP per turn.\",\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(spa, pokemon) {\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonWeather(target, source, effect) {\n\t\t\tif (target.hasItem('utilityumbrella')) return;\n\t\t\tif (effect.id === 'sunnyday' || effect.id === 'desolateland') {\n\t\t\t\tthis.damage(target.baseMaxhp / 8, target, target);\n\t\t\t}\n\t\t},\n\t\tname: \"Summer Days\",\n\t\trating: 2,\n\t\tnum: -38,\n\t},\n\tautumnleaves: {\n\t\tdesc: \"This Pok\u00E9mon's Grass-type attacks cause the Ghost type to be added to the target, effectively making it have two or three types. Has no effect if the target is already a Ghost-type. If Forest's Curse or Electroplating adds a type to the target, it replaces the type added by this Ability and vice versa.\",\n\t\tshortDesc: \"This Pok\u00E9mon's Grass attacks add Ghost to the targets' type(s).\",\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (move.category !== 'Status' && move.type === 'Grass') {\n\t\t\t\tif (target.hasType('Ghost')) return;\n\t\t\t\tif (!target.addType('Ghost')) return;\n\t\t\t\tthis.add('-start', target, 'typeadd', 'Ghost', '[from] Ability: Autumn Leaves');\n\n\t\t\t\tif (target.side.active.length === 2 && target.position === 1) {\n\t\t\t\t\t// Curse Glitch\n\t\t\t\t\tconst action = this.queue.willMove(target);\n\t\t\t\t\tif (action && action.move.id === 'curse') {\n\t\t\t\t\t\taction.targetLoc = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Autumn Leaves\",\n\t\trating: 4,\n\t\tnum: -39,\n\t},\n\twinterstale: {\n\t\tdesc: \"The damage of this Pok\u00E9mon's Ice-type moves used on consecutive turns is increased, up to a maximum of 1.5x after 5 turns. If Hail is active, the effect is doubled for a maximum of 2x after 5 turns.\",\n\t\tshortDesc: \"Damage of Ice moves used on consecutive turns is increased, max 1.5x (2x in Hail).\",\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('winterstale');\n\t\t},\n\t\tcondition: {\n\t\t\tonStart(pokemon) {\n\t\t\t\tthis.effectState.numConsecutive = 0;\n\t\t\t},\n\t\t\tonTryMovePriority: -2,\n\t\t\tonTryMove(pokemon, target, move) {\n\t\t\t\tif (!pokemon.hasAbility('winterstale') && !pokemon.hasAbility('asonesawsbuck')) {\n\t\t\t\t\tpokemon.removeVolatile('winterstale');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (move.type === 'Ice' && pokemon.moveLastTurnResult) {\n\t\t\t\t\tthis.effectState.numConsecutive++;\n\t\t\t\t} else if (pokemon.volatiles['twoturnmove']) {\n\t\t\t\t\tthis.effectState.numConsecutive = 1;\n\t\t\t\t} else {\n\t\t\t\t\tthis.effectState.numConsecutive = 0;\n\t\t\t\t}\n\t\t\t\tthis.effectState.lastMove = move.id;\n\t\t\t},\n\t\t\tonModifyDamage(damage, source, target, move) {\n\t\t\t\tconst dmgMod = [0x1000, 0x1333, 0x1666, 0x1999, 0x1CCC, 0x2000];\n\t\t\t\tconst numConsecutive = this.effectState.numConsecutive > 5 ? 5 : this.effectState.numConsecutive;\n\t\t\t\tif (['hail', 'snow'].includes(source.effectiveWeather())) {\n\t\t\t\t\treturn this.chainModify([dmgMod[numConsecutive], 0x1000]);\n\t\t\t\t} else {\n\t\t\t\t\treturn damage * (1 + (this.effectState.numConsecutive / 10));\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tname: \"Winter's Tale\",\n\t\trating: 4,\n\t\tnum: -40,\n\t},\n\tdesertgales: {\n\t\tdesc: \"On switch-in, this Pok\u00E9mon summons Desert Gales for 5 turns. During the effect, Ground-, Rock-, and Steel-type attacks have their power multiplied by 1.2; Normal-type moves become Ground-type moves; Weather Ball becomes a Ground-type move, and its base power is 100; and other weather-related moves and Abilities behave as they do in Sandstorm.\",\n\t\tshortDesc: \"5 turns. +Ground/Rock/Steel power, Normal moves become Ground-type.\",\n\t\tonStart(source) {\n\t\t\tthis.field.setWeather('desertgales');\n\t\t},\n\t\tname: \"Desert Gales\",\n\t\trating: 4,\n\t\tnum: -41,\n\t},\n\t// modded for Desert Gales\n\tsandforce: {\n\t\tinherit: true,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (this.field.isWeather('sandstorm') || this.field.isWeather('desertgales')) {\n\t\t\t\tif (move.type === 'Rock' || move.type === 'Ground' || move.type === 'Steel') {\n\t\t\t\t\tthis.debug('Sand Force boost');\n\t\t\t\t\treturn this.chainModify([5325, 4096]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshortDesc: \"This Pok\u00E9mon's Ground/Rock/Steel attacks do 1.3x in Sandstorm and Desert Gales; immunity to Sandstorm.\",\n\t},\n\tsandrush: {\n\t\tinherit: true,\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('sandstorm') || this.field.isWeather('desertgales')) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tshortDesc: \"If Sandstorm or Desert Gales is active, this Pok\u00E9mon's Speed is doubled; immunity to Sandstorm.\",\n\t},\n\tsandveil: {\n\t\tinherit: true,\n\t\tonModifyAccuracy(accuracy) {\n\t\t\tif (typeof accuracy !== 'number') return;\n\t\t\tif (this.field.isWeather('sandstorm') || this.field.isWeather('desertgales')) {\n\t\t\t\tthis.debug('Sand Veil - decreasing accuracy');\n\t\t\t\treturn this.chainModify([3277, 4096]);\n\t\t\t}\n\t\t},\n\t\tshortDesc: \"If Sandstorm or Desert Gales is active, this Pok\u00E9mon's evasiveness is 1.25x; immunity to Sandstorm.\",\n\t},\n\tsteelbreaker: {\n\t\tshortDesc: \"This Pok\u00E9mon's attacks are critical hits if the target is a Steel-type Pok\u00E9mon.\",\n\t\tonModifyCritRatio(critRatio, source, target) {\n\t\t\tif (target && target.hasType('Steel')) return 5;\n\t\t},\n\t\tname: \"Steelbreaker\",\n\t\trating: 3,\n\t\tnum: -42,\n\t},\n\telegance: {\n\t\tdesc: \"This Pok\u00E9mon's moves have their secondary effect chance guaranteed, unless it has a non-volatile status condition, is confused, or is affected by Attract, Disable, Encore, Heal Block, Taunt, or Torment.\",\n\t\tshortDesc: \"Secondary effects of moves are guaranteed unless it has a status or a mental affliction.\",\n\t\tonModifyMovePriority: -2,\n\t\tonModifyMove(move, attacker) {\n\t\t\tif (attacker.status) return;\n\t\t\tif (attacker.volatiles['attract'] || attacker.volatiles['confusion'] ||\n\t\t\t\tattacker.volatiles['disable'] || attacker.volatiles['encore'] || attacker.volatiles['healblock'] ||\n\t\t\t\tattacker.volatiles['taunt'] || attacker.volatiles['torment']) return;\n\t\t\tif (move.secondaries) {\n\t\t\t\tthis.debug('maximizing secondary chance');\n\t\t\t\tfor (const secondary of move.secondaries) {\n\t\t\t\t\tif (secondary.chance) secondary.chance = 100;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (move.self?.chance) move.self.chance = 100;\n\t\t},\n\t\tname: \"Elegance\",\n\t\trating: 5,\n\t\tnum: -43,\n\t},\n\tseismicscream: {\n\t\tdesc: \"This Pok\u00E9mon uses Earthquake at 60 base power after using a sound-based move. If the sound-based move is a special attack, the Earthquake that is used is also a special attack.\",\n\t\tshortDesc: \"Follows up sound moves with an Earthquake of 60 BP.\",\n\t\tonAfterMove(target, source, move) {\n\t\t\tif (!move || !target || !target.hp) return;\n\t\t\tif (target !== source && target.hp && move.flags['sound']) {\n\t\t\t\tthis.effectState.target.addVolatile('seismicscream');\n\t\t\t\t/*\n\t\t\t\tthis.add('-anim', source, \"Earthquake\", target);\n\t\t\t\t*/\n\t\t\t\tthis.actions.useMove('earthquake', this.effectState.target); // going to rework this a bit\n\t\t\t}\n\t\t},\n\t\tname: \"Seismic Scream\",\n\t\trating: 3,\n\t\tnum: -44,\n\t},\n\tacidrock: {\n\t\tdesc: \"On switch-in, this Pok\u00E9mon poisons every Pok\u00E9mon on the field. Pok\u00E9mon with Soundproof are immune. Poison inflicted through this Ability does half as much damage as normal poison.\",\n\t\tshortDesc: \"On switch-in, this Pok\u00E9mon poisons every Pok\u00E9mon on the field.\",\n\t\tonStart(pokemon) {\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (!target || !target.isAdjacent(pokemon) || target.status) continue;\n\t\t\t\tif (target.hasAbility('soundproof')) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Acid Rock');\n\t\t\t\t\tthis.add('-immune', target, \"[from] ability: Soundproof\", \"[of] \" + target);\n\t\t\t\t} else if (!target.runStatusImmunity('psn')) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Acid Rock');\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tif (target.setStatus('psn', pokemon)) {\n\t\t\t\t\t\tthis.hint(`Poison inflicted through Acid Rock is only half as damaging as normal poison.`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Acid Rock\",\n\t\trating: 4,\n\t\tnum: -45,\n\t},\n\tcoupdegrass: {\n\t\tdesc: \"This Pok\u00E9mon moves first in its priority bracket when its target has 1/2 or less of its maximum HP, rounded down. Does not affect moves that have multiple targets.\",\n\t\tshortDesc: \"This Pok\u00E9mon moves first in its priority bracket when its target has 1/2 or less HP.\",\n\t\tonUpdate(pokemon) {\n\t\t\tconst action = this.queue.willMove(pokemon);\n\t\t\tif (!action) return;\n\t\t\tconst target = this.getTarget(action.pokemon, action.move, action.targetLoc);\n\t\t\tif (!target) return;\n\t\t\tif (action.move.target != 'allAdjacentFoes' && action.move.target != 'allAdjacent' && target.hp && target.hp <= target.maxhp / 2) {\n\t\t\t\tpokemon.addVolatile('coupdegrass');\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t\tonStart(pokemon) {\n\t\t\t\tconst action = this.queue.willMove(pokemon);\n\t\t\t\tif (action) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Coup de Grass');\n\t\t\t\t\tthis.add('-message', `${pokemon.name} prepared to move immediately!`);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonModifyPriority(priority) {\n\t\t\t\treturn priority + 0.1;\n\t\t\t},\n\t\t},\n\t\tname: \"Coup de Grass\",\n\t\trating: 3,\n\t\tnum: -46,\n\t},\n\tmasquerade: {\n\t\tdesc: \"This Pok\u00E9mon inherits the Ability of the last unfainted Pokemon in its party until it takes direct damage from another Pok\u00E9mon's attack. Abilities that cannot be copied are \\\"No Ability\\\", As One, Battle Bond, Comatose, Disguise, Flower Gift, Forecast, Gulp Missile, Hunger Switch, Ice Face, Illusion, Imposter, Multitype, Neutralizing Gas, Power Construct, Power of Alchemy, Receiver, RKS System, Schooling, Shields Down, Stance Change, Trace, Wonder Guard, and Zen Mode.\",\n\t\tshortDesc: \"Inherits the Ability of the last party member. Wears off when attacked.\",\n\t\tonUpdate(pokemon) {\n\t\t\tif (!pokemon.isStarted || this.effectState.gaveUp || pokemon.volatiles['masquerade']) return;\n\t\t\tpokemon.addVolatile('masquerade');\n\t\t\tlet i;\n\t\t\tfor (i = pokemon.side.pokemon.length - 1; i > pokemon.position; i--) {\n\t\t\t\tif (!pokemon.side.pokemon[i]) continue;\n\t\t\t\tconst additionalBannedAbilities = [\n\t\t\t\t\t'noability', 'flowergift', 'forecast', 'hugepower', 'hungerswitch', 'illusion', 'imposter', 'neutralizinggas',\n\t\t\t\t\t'powerofalchemy', 'purepower', 'receiver', 'trace', 'wonderguard',\n\t\t\t\t];\n\t\t\t\tif (\n\t\t\t\t\tpokemon.side.pokemon[i].fainted ||\n\t\t\t\t\tpokemon.side.pokemon[i].getAbility().flags['notrace'] || additionalBannedAbilities.includes(pokemon.side.pokemon[i].ability)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (!pokemon.side.pokemon[i] || pokemon === pokemon.side.pokemon[i]) {\n\t\t\t\tthis.effectState.gaveUp = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst masquerade = pokemon.side.pokemon[i];\n\t\t\tthis.add('-ability', pokemon, 'Masquerade');\n\t\t\tpokemon.setAbility(masquerade.ability);\n\t\t\tthis.hint(`${pokemon.name} inherited ${this.dex.abilities.get(pokemon.ability).name} from ${masquerade.name}!`);\n\t\t\tthis.add('-ability', pokemon, this.dex.abilities.get(pokemon.ability).name, '[silent]');\n\t\t},\n\t\tcondition: {\n\t\t\tonDamagingHit(damage, target, source, move) {\n\t\t\t\tthis.effectState.busted = true;\n\t\t\t},\n\t\t\tonFaint(pokemon) {\n\t\t\t\tthis.effectState.busted = true;\n\t\t\t},\n\t\t\tonUpdate(pokemon) {\n\t\t\t\tif (pokemon.hasAbility('masquerade')) return;\n\t\t\t\tif (this.effectState.busted) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Masquerade');\n\t\t\t\t\tthis.add('-message', `${pokemon.name}'s Masquerade wore off!`);\n\t\t\t\t\tpokemon.setAbility('masquerade');\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1},\n\t\tname: \"Masquerade\",\n\t\trating: 3,\n\t\tnum: -47,\n\t},\n\tbodyofwater: {\n\t\tdesc: \"When this Pok\u00E9mon uses a Water-type attack, damage is calculated using the user's Defense stat as its Attack or its Special Defense as its Special Attack. Other effects that modify the Attack and Special Attack stats are used as normal, including stat stage changes.\",\n\t\tshortDesc: \"Water-type attacks use Def as Atk and Sp. Def as Sp. Atk in damage calculation.\",\n\t\tname: \"Body of Water\",\n\t\tonModifyMove(move, attacker) {\n\t\t\tif (move.type === 'Water') {\n\t\t\t\tif (move.category === 'Special') {\n\t\t\t\t\tmove.overrideOffensiveStat = 'spd';\n\t\t\t\t}\n\t\t\t\telse if (move.category === 'Physical') {\n\t\t\t\t\tmove.overrideOffensiveStat = 'def';\n\t\t\t\t}\n\t\t\t\t(move as any).bodyofwaterBoosted = true;\n\t\t\t}\n\t\t},\n\t\trating: 3.5,\n\t\tnum: -48,\n\t},\n\teverlastingwinter: {\n\t\tdesc: \"On switch-in, the weather becomes Hail. This weather remains in effect until this Ability is no longer active for any Pok\u00E9mon, or the weather is changed by Delta Stream, Desolate Land or Primordial Sea.\",\n\t\tshortDesc: \"On switch-in, hail begins until this Ability is not active in battle.\",\n\t\tonStart(source) {\n\t\t\tif (this.field.setWeather('hail')) {\n\t\t\t\tthis.add('-message', `${source.name} created an unrelenting winter storm!`);\n\t\t\t\tthis.hint(\"Everlasting Winter doesn't wear off until the user leaves the field!\");\n\t\t\t\tthis.field.weatherState.duration = 0;\n\t\t\t} else if (this.field.isWeather('hail') && this.field.weatherState.duration !== 0) {\n\t\t\t\tthis.add('-ability', source, 'Everlasting Winter');\n\t\t\t\tthis.add('-message', `${source.name} created an unrelenting winter storm!`);\n\t\t\t\tthis.hint(\"Everlasting Winter doesn't wear off until the user leaves the field!\");\n\t\t\t\tthis.field.weatherState.source = source;\n\t\t\t\tthis.field.weatherState.duration = 0;\n\t\t\t}\n\t\t},\n\t\tonAnySetWeather(target, source, weather) {\n\t\t\tif (source.hasAbility('everlastingwinter') && weather.id === 'hail') return;\n\t\t\tconst strongWeathers = ['desolateland', 'primordialsea', 'deltastream'];\n\t\t\tif (this.field.getWeather().id === 'hail' && !strongWeathers.includes(weather.id)) return false;\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tif (this.field.weatherState.source !== pokemon) return;\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (target.hasAbility('everlastingwinter')) {\n\t\t\t\t\tthis.field.weatherState.source = target;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.field.clearWeather();\n\t\t},\n\t\tname: \"Everlasting Winter\",\n\t\trating: 4.5,\n\t\tnum: -49,\n\t},\n\t// modded for Everlasting Winter\n\tdeltastream: {\n\t\tinherit: true,\n\t\tonAnySetWeather(target, source, weather) {\n\t\t\tif (source.hasAbility('everlastingwinter') && weather.id === 'hail') return;\n\t\t\tconst strongWeathers = ['desolateland', 'primordialsea', 'deltastream'];\n\t\t\tif (this.field.getWeather().id === 'deltastream' && !strongWeathers.includes(weather.id)) return false;\n\t\t},\n\t},\n\tdesolateland: {\n\t\tinherit: true,\n\t\tonAnySetWeather(target, source, weather) {\n\t\t\tif (source.hasAbility('everlastingwinter') && weather.id === 'hail') return;\n\t\t\tconst strongWeathers = ['desolateland', 'primordialsea', 'deltastream'];\n\t\t\tif (this.field.getWeather().id === 'desolateland' && !strongWeathers.includes(weather.id)) return false;\n\t\t},\n\t},\n\tprimordialsea: {\n\t\tinherit: true,\n\t\tonAnySetWeather(target, source, weather) {\n\t\t\tif (source.hasAbility('everlastingwinter') && weather.id === 'hail') return;\n\t\t\tconst strongWeathers = ['desolateland', 'primordialsea', 'deltastream'];\n\t\t\tif (this.field.getWeather().id === 'primordialsea' && !strongWeathers.includes(weather.id)) return false;\n\t\t},\n\t},\n\tforgery: {\n\t\tdesc: \"This Pok\u00E9mon inherits the item of the last unfainted Pokemon in its party.\",\n\t\tshortDesc: \"Inherits the item of the last party member.\",\n\t\tonStart(pokemon) {\n\t\t\tif (pokemon.species.name !== 'Zoroark-Mega') return;\n\t\t\tpokemon.addVolatile('forgery');\n\t\t\tlet i;\n\t\t\tfor (i = pokemon.side.pokemon.length - 1; i > pokemon.position; i--) {\n\t\t\t\tif (\n\t\t\t\t\t!pokemon.side.pokemon[i] || pokemon.side.pokemon[i].fainted ||\n\t\t\t\t\t!pokemon.side.pokemon[i].item || this.dex.items.get(pokemon.side.pokemon[i].item).zMove ||\n\t\t\t\t\t this.dex.items.get(pokemon.side.pokemon[i].item).megaStone\n\t\t\t\t) continue;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (!pokemon.side.pokemon[i]) return;\n\t\t\tif (pokemon === pokemon.side.pokemon[i]) return;\n\t\t\tconst forgery = pokemon.side.pokemon[i];\n\t\t\tthis.add('-ability', pokemon, 'Forgery');\n\t\t\tpokemon.item = forgery.item;\n\t\t\tthis.add('-message', `${pokemon.name}'s Zoroarkite became a replica of the ${this.dex.items.get(forgery.item).name} belonging to ${forgery.name}!`);\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.species.name !== 'Zoroark-Mega') return;\n\t\t\tif (!pokemon.item) {\n\t\t\t\tthis.add('-ability', pokemon, 'Forgery');\n\t\t\t\tthis.add('-message', `${pokemon.name}'s Zoroarkite returned to normal!`);\n\t\t\t\tpokemon.item = 'zoroarkite' as ID;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tif (pokemon.species.name !== 'Zoroark-Mega') return;\n\t\t\tif (pokemon.item !== 'zoroarkite') {\n\t\t\t\tthis.add('-ability', pokemon, 'Forgery');\n\t\t\t\tthis.add('-message', `${pokemon.name}'s Zoroarkite returned to normal!`);\n\t\t\t\tpokemon.item = 'zoroarkite' as ID;\n\t\t\t}\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Forgery\",\n\t\trating: 3,\n\t\tnum: -50,\n\t},\n\tclairvoyance: {\n\t\tdesc: \"This Pok\u00E9mon's Psychic-type moves take effect two turns after being used. At the end of that turn, the damage is calculated at that time and dealt to the Pok\u00E9mon at the position the target had when the move was used. Only one move can be delayed at a time. If the user is no longer active at the time an attacking move should hit, damage is calculated based on the user's natural Attack or Special Attack stat, types, and level, with no boosts from its held item or Ability. Status moves are used by the Pok\u00E9mon at the position the user had when the move was used.\",\n\t\tshortDesc: \"Psychic-type moves delayed until two turns later, but only one at a time.\",\n\t\tonBeforeMove(source, target, move) {\n\t\t\tif (\n\t\t\t\tmove && move.type === 'Psychic' && source.hasAbility('clairvoyance') &&\n\t\t\t\tsource.side.addSlotCondition(source, 'clairvoyance')\n\t\t\t) {\n\t\t\t\tObject.assign(source.side.slotConditions[source.position]['clairvoyance'], {\n\t\t\t\t\tduration: 3,\n\t\t\t\t\tsource: source,\n\t\t\t\t\ttarget: null,\n\t\t\t\t\tmove: move,\n\t\t\t\t\tposition: target.position,\n\t\t\t\t\tside: target.side,\n\t\t\t\t\tmoveData: this.dex.moves.get(move),\n\t\t\t\t});\n\t\t\t\tthis.add('-ability', source, 'Clairvoyance');\n\t\t\t\tthis.add('-message', `${source.name} cast ${move.name} into the future!`);\n\t\t\t\tsource.deductPP(move.id, 1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 3,\n\t\t\tonResidualOrder: 3,\n\t\t\tonEnd(target) {\n\t\t\t\tthis.effectState.target = this.effectState.side.active[this.effectState.position];\n\t\t\t\tconst data = this.effectState;\n\t\t\t\tconst move = this.dex.moves.get(data.move);\n\t\t\t\tthis.add('-ability', this.effectState.source, 'Clairvoyance');\n\t\t\t\tif (!data.target) {\n\t\t\t\t\tthis.hint(`${move.name} did not hit because there was no target.`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.add('-message', `${this.effectState.source.name}'s ${move.name} took effect!`);\n\t\t\t\tdata.target.removeVolatile('Endure');\n\n\t\t\t\tif (data.source.hasAbility('infiltrator') && this.gen >= 6) {\n\t\t\t\t\tdata.moveData.infiltrates = true;\n\t\t\t\t}\n\t\t\t\tif (data.source.hasAbility('normalize') && this.gen >= 6) {\n\t\t\t\t\tdata.moveData.type = 'Normal';\n\t\t\t\t}\n\t\t\t\tif (data.source.hasAbility('adaptability') && this.gen >= 6) {\n\t\t\t\t\tdata.moveData.stab = 2;\n\t\t\t\t}\n\t\t\t\tdata.moveData.isFutureMove = true;\n\t\t\t\tdelete data.moveData.flags['contact'];\n\t\t\t\tdelete data.moveData.flags['protect'];\n\n\t\t\t\tif (move.category === 'Status') {\n\t\t\t\t\tthis.actions.useMove(move, target, data.target);\n\t\t\t\t} else {\n\t\t\t\t\tconst hitMove = new this.dex.Move(data.moveData) as ActiveMove;\n\t\t\t\t\tif (data.source.isActive) {\n\t\t\t\t\t\tthis.add('-anim', data.source, hitMove, data.target);\n\t\t\t\t\t}\n\t\t\t\t\tthis.actions.trySpreadMoveHit([data.target], data.source, hitMove);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tname: \"Clairvoyance\",\n\t\trating: 3,\n\t\tnum: -51,\n\t},\n\tsleightofhand: {\n\t\tdesc: \"This Pok\u00E9mon's contact moves become special attacks and do not make contact with the target.\",\n\t\tshortDesc: \"This Pok\u00E9mon's contact moves become special and non-contact.\",\n\t\tonModifyMove(move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tif (move.category !== 'Special') move.category = 'Special';\n\t\t\t\tdelete move.flags['contact'];\n\t\t\t}\n\t\t},\n\t\tname: \"Sleight of Hand\",\n\t\trating: 3,\n\t\tnum: -52,\n\t},\n\tmoleawhac: {\n\t\tdesc: \"This Pok\u00E9mon's Attack is raised by 1 stage at the end of each full turn if it uses an attacking move. Its Attack boosts are cleared and its Attack is not increased on the same turn when it is hit by a contact move.\",\n\t\tshortDesc: \"Atk rises 1 stage on each attacking turn; Atk reset on contact.\",\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tconst moleawhacBoost: SparseBoostsTable = {};\n\t\t\t\tmoleawhacBoost.atk = -1 * target.boosts['atk'];\n\t\t\t\tthis.boost(moleawhacBoost, target, target);\n\t\t\t\ttarget.addVolatile('moleawhac');\n\t\t\t}\n\t\t},\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (move.category === 'Status') {\n\t\t\t\tsource.addVolatile('moleawhac');\n\t\t\t}\n\t\t},\n\t\tonResidualOrder: 26,\n\t\tonResidualSubOrder: 1,\n\t\tonResidual(pokemon) {\n\t\t\tif (pokemon.activeTurns && !pokemon.volatiles['moleawhac']) {\n\t\t\t\tthis.boost({atk: 1});\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t},\n\t\tname: \"Mole-a-Whac\",\n\t\trating: 4.5,\n\t\tnum: -53,\n\t},\n\tsos: {\n\t\tdesc: \"If this Pok\u00E9mon is a Wishiwashi that has Mega Evolved, it calls for help and changes form at the end of each full turn it has been on the field, building up to Mega Wishiwashi (School Form) over five turns.\",\n\t\tshortDesc: \"More Wishiwashi spawn at the end of each turn.\",\n\t\tonStart(pokemon) {\n\t\t\tif (pokemon.species.id === 'wishiwashimega' && pokemon.hp > pokemon.maxhp / 4) {\n\t\t\t\tthis.add('-message', `Startled by the Mega Evolution, ${pokemon.name}'s school dispersed...`);\n\t\t\t}\n\t\t},\n\t\tonResidualOrder: 27,\n\t\tonResidual(pokemon) {\n\t\t\tif (\n\t\t\t\tpokemon.baseSpecies.baseSpecies !== 'Wishiwashi' || pokemon.transformed || !pokemon.hp || !pokemon.activeTurns ||\n\t\t\t\tpokemon.species.id === 'wishiwashi' || pokemon.species.id === 'wishiwashischool' ||\n\t\t\t\tpokemon.species.id === 'wishiwashimegaschool'\n\t\t\t) return;\n\t\t\tthis.add('-activate', pokemon, 'ability: SOS');\n\t\t\tthis.add('-message', `${pokemon.name} called for help!`);\n\t\t\tif (pokemon.species.id === 'wishiwashimega') {\n\t\t\t\tpokemon.formeChange('Wishiwashi-Mega-1', this.effect, true);\n\t\t\t} else if (pokemon.species.id === 'wishiwashimega1') {\n\t\t\t\tpokemon.formeChange('Wishiwashi-Mega-2', this.effect, true);\n\t\t\t} else if (pokemon.species.id === 'wishiwashimega2') {\n\t\t\t\tpokemon.formeChange('Wishiwashi-Mega-3', this.effect, true);\n\t\t\t} else if (pokemon.species.id === 'wishiwashimega3') {\n\t\t\t\tpokemon.formeChange('Wishiwashi-Mega-4', this.effect, true);\n\t\t\t} else if (pokemon.species.id === 'wishiwashimega4') {\n\t\t\t\tpokemon.formeChange('Wishiwashi-Mega-School', this.effect, true);\n\t\t\t}\n\t\t\tthis.add('-message', `More of ${pokemon.name}'s friends came together!`);\n\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.getTypes(true).join('/'), '[silent]');\n\t\t\tconst species = this.dex.species.get(pokemon.species.name);\n\t\t\tconst abilities = species.abilities;\n\t\t\tconst baseStats = species.baseStats;\n\t\t\tconst type = species.types[0];\n\t\t\tthis.add(`raw|<ul class=\"utilichart\"><li class=\"result\"><span class=\"col pokemonnamecol\" style=\"white-space: nowrap\">` + species.name + `</span> <span class=\"col typecol\"><img src=\"http://play.pokemonshowdown.com/sprites/types/${type}.png\" alt=\"${type}\" height=\"14\" width=\"32\"></span> <span style=\"float: left ; min-height: 26px\"><span class=\"col abilitycol\">` + abilities[0] + `</span><span class=\"col abilitycol\"></span></span><span style=\"float: left ; min-height: 26px\"><span class=\"col statcol\"><em>HP</em><br>` + baseStats.hp + `</span> <span class=\"col statcol\"><em>Atk</em><br>` + baseStats.atk + `</span> <span class=\"col statcol\"><em>Def</em><br>` + baseStats.def + `</span> <span class=\"col statcol\"><em>SpA</em><br>` + baseStats.spa + `</span> <span class=\"col statcol\"><em>SpD</em><br>` + baseStats.spd + `</span> <span class=\"col statcol\"><em>Spe</em><br>` + baseStats.spe + `</span> </span></li><li style=\"clear: both\"></li></ul>`);\n\t\t\tpokemon.baseMaxhp = Math.floor(Math.floor(\n\t\t\t\t2 * pokemon.species.baseStats['hp'] + pokemon.set.ivs['hp'] + Math.floor(pokemon.set.evs['hp'] / 4) + 100\n\t\t\t) * pokemon.level / 100 + 10);\n\t\t\tconst newMaxHP = pokemon.volatiles['dynamax'] ? (2 * pokemon.baseMaxhp) : pokemon.baseMaxhp;\n\t\t\tpokemon.hp = newMaxHP - (pokemon.maxhp - pokemon.hp);\n\t\t\tpokemon.maxhp = newMaxHP;\n\t\t\tthis.add('-heal', pokemon, pokemon.getHealth, '[silent]');\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"SOS\",\n\t\trating: 5,\n\t\tnum: -54,\n\t},\n\tstancechange: {\n\t\tinherit: true,\n\t\tshortDesc: \"Changes Aegislash/Falinks-Mega to Blade Forme/Combat before attack, Shield Forme/Legion before King's Shield.\",\n\t\tonModifyMove(move, attacker, defender) {\n\t\t\tif ((attacker.species.baseSpecies !== 'Aegislash' && !attacker.species.name.startsWith('Falinks-Mega')) || attacker.transformed) return;\n\t\t\tif (move.category === 'Status' && move.id !== 'kingsshield') return;\n\t\t\tif (attacker.species.baseSpecies === 'Aegislash') {\n\t\t\t\tconst targetForme = (move.id === 'kingsshield' ? 'Aegislash' : 'Aegislash-Blade');\n\t\t\t\tif (attacker.species.name !== targetForme) attacker.formeChange(targetForme);\n\t\t\t} else if (attacker.species.name.startsWith('Falinks-Mega')) {\n\t\t\t\tconst targetForme = (move.id === 'kingsshield' ? 'Falinks-Mega-Legion' : 'Falinks-Mega-Combat');\n\t\t\t\tif (attacker.species.name !== targetForme) {\n\t\t\t\t\tattacker.formeChange(targetForme);\n\t\t\t\t\tif (targetForme === 'Falinks-Mega-Legion') {\n\t\t\t\t\t\tthis.add('-message', `${attacker.name} changed to Legion formation!`);\n\t\t\t\t\t\tthis.add('-start', attacker, 'typechange', attacker.getTypes(true).join('/'), '[silent]');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.add('-message', `${attacker.name} changed to Combat formation!`);\n\t\t\t\t\t\tthis.add('-start', attacker, 'typechange', attacker.getTypes(true).join('/'), '[silent]');\n\t\t\t\t\t\tif (!this.effectState.busted) { // this is just to make a dt that only shows up once per Mega Falinks\n\t\t\t\t\t\t\tconst species = this.dex.species.get(attacker.species.name);\n\t\t\t\t\t\t\tconst abilities = species.abilities;\n\t\t\t\t\t\t\tconst baseStats = species.baseStats;\n\t\t\t\t\t\t\tconst type = species.types[0];\n\t\t\t\t\t\t\tif (species.types[1]) {\n\t\t\t\t\t\t\t\tconst type2 = species.types[1];\n\t\t\t\t\t\t\t\tthis.add(`raw|<ul class=\"utilichart\"><li class=\"result\"><span class=\"col pokemonnamecol\" style=\"white-space: nowrap\">` + species.name + `</span> <span class=\"col typecol\"><img src=\"http://play.pokemonshowdown.com/sprites/types/${type}.png\" alt=\"${type}\" height=\"14\" width=\"32\"><img src=\"http://play.pokemonshowdown.com/sprites/types/${type2}.png\" alt=\"${type2}\" height=\"14\" width=\"32\"></span> <span style=\"float: left ; min-height: 26px\"><span class=\"col abilitycol\">` + abilities[0] + `</span><span class=\"col abilitycol\"></span></span><span style=\"float: left ; min-height: 26px\"><span class=\"col statcol\"><em>HP</em><br>` + baseStats.hp + `</span> <span class=\"col statcol\"><em>Atk</em><br>` + baseStats.atk + `</span> <span class=\"col statcol\"><em>Def</em><br>` + baseStats.def + `</span> <span class=\"col statcol\"><em>SpA</em><br>` + baseStats.spa + `</span> <span class=\"col statcol\"><em>SpD</em><br>` + baseStats.spd + `</span> <span class=\"col statcol\"><em>Spe</em><br>` + baseStats.spe + `</span> </span></li><li style=\"clear: both\"></li></ul>`);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.add(`raw|<ul class=\"utilichart\"><li class=\"result\"><span class=\"col pokemonnamecol\" style=\"white-space: nowrap\">` + species.name + `</span> <span class=\"col typecol\"><img src=\"http://play.pokemonshowdown.com/sprites/types/${type}.png\" alt=\"${type}\" height=\"14\" width=\"32\"></span> <span style=\"float: left ; min-height: 26px\"><span class=\"col abilitycol\">` + abilities[0] + `</span><span class=\"col abilitycol\"></span></span><span style=\"float: left ; min-height: 26px\"><span class=\"col statcol\"><em>HP</em><br>` + baseStats.hp + `</span> <span class=\"col statcol\"><em>Atk</em><br>` + baseStats.atk + `</span> <span class=\"col statcol\"><em>Def</em><br>` + baseStats.def + `</span> <span class=\"col statcol\"><em>SpA</em><br>` + baseStats.spa + `</span> <span class=\"col statcol\"><em>SpD</em><br>` + baseStats.spd + `</span> <span class=\"col statcol\"><em>Spe</em><br>` + baseStats.spe + `</span> </span></li><li style=\"clear: both\"></li></ul>`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.effectState.busted = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tpoolfloaties: {\n\t\tdesc: \"This Pok\u00E9mon and its adjacent allies are immune to Water-type moves. For 3 turns after the user or its adjacent allies use a Water-type move or are hit by a Water-type move, they are also immune to Ground-type attacks and the effects of Spikes, Toxic Spikes, Sticky Web, and the Arena Trap Ability as long as they remain active. If they use Baton Pass, the replacement will gain the effect. Ingrain, Smack Down, Thousand Arrows, and Iron Ball override this immunity if the user is under any of their effects.\",\n\t\tshortDesc: \"Pok\u00E9mon and allies: gain Ground immunity from Water moves; Water immunity.\",\n\t\tonAnyTryHit(target, source, move) {\n\t\t\tif (target !== source && target.side === this.effectState.target.side && move.type === 'Water') {\n\t\t\t\ttarget.addVolatile('poolfloaties');\n\t\t\t\tthis.add('-immune', target, '[from] ability: Pool Floaties', '[of] ' + this.effectState.target);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (target !== source && source.side === this.effectState.target.side && move.type === 'Water') {\n\t\t\t\tsource.addVolatile('poolfloaties');\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 3,\n\t\t\tonStart(target) {\n\t\t\t\tif (\n\t\t\t\t\ttarget.volatiles['smackdown'] || target.volatiles['ingrain'] || this.field.getPseudoWeather('Gravity')\n\t\t\t\t) return false;\n\t\t\t\tthis.add('-start', target, 'Pool Floaties', '[silent]');\n\t\t\t\tif (target === this.effectState.source) {\n\t\t\t\t\tthis.add('-message', `${target.name} was lifted up by its pool floaties!`);\n\t\t\t\t} else {\n\t\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} was lifted up by ${this.effectState.source.name}'s pool floaties!`);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonImmunity(type) {\n\t\t\t\tif (type === 'Ground') return false;\n\t\t\t},\n\t\t\tonResidualOrder: 15,\n\t\t\tonEnd(target) {\n\t\t\t\tthis.add('-end', target, 'Pool Floaties', '[silent]');\n\t\t\t\tthis.add('-message', `${(target.illusion ? target.illusion.name : target.name)} floated back down!`);\n\t\t\t},\n\t\t},\n\t\tname: \"Pool Floaties\",\n\t\trating: 3,\n\t\tnum: -55,\n\t},\n\tredlicorice: {\n\t\tdesc: \"This Pok\u00E9mon's Fairy-type attacks cause the target to become sticky and flammable. When a Fire-type attack is used against a target that is sticky and flammable, its power is multiplied by 1.5, and the target is burned but is no longer sticky and flammable. When a Fire-type attack is used by an attacker that is sticky and flammable, the user takes recoil damage equal to 50% the HP lost by the target (rounded half up, but not less than 1 HP), and the user is burned but is no longer sticky and flammable.\",\n\t\tshortDesc: \"Fairy attacks make target sticky; Fire attacks: burn, 50% more damage to sticky Pok\u00E9mon.\",\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (move.category !== 'Status' && move.type === 'Fairy') {\n\t\t\t\ttarget.addVolatile('redlicorice');\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tonStart(pokemon, source, effect) {\n\t\t\t\tthis.add('-start', pokemon, 'Sticky Gel', '[from] ability: Red Licorice', '[of] ' + source);\n\t\t\t},\n\t\t\tonAnyDamage(damage, target, source, effect) {\n\t\t\t\tif (effect && effect.effectType === 'Move' && effect.type === 'Fire' && source === this.effectState.target) {\n\t\t\t\t\tif (this.effectState.damage) {\n\t\t\t\t\t\tif (target.hp <= damage) {\n\t\t\t\t\t\t\tthis.effectState.damage += target.hp;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.effectState.damage += damage;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (target.hp <= damage) {\n\t\t\t\t\t\t\tthis.effectState.damage = target.hp;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.effectState.damage = damage;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.effectState.lit = true;\n\t\t\t\t} else if (effect && effect.effectType === 'Move' && effect.type === 'Fire' && target === this.effectState.target) {\n\t\t\t\t\tthis.effectState.lit = true;\n\t\t\t\t\treturn damage * 1.5;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonUpdate(pokemon) {\n\t\t\t\tif (this.effectState.lit) {\n\t\t\t\t\tpokemon.removeVolatile('redlicorice');\n\t\t\t\t\tthis.add('-end', pokemon, 'Sticky Gel', '[silent]');\n\t\t\t\t\tthis.hint(\"The sticky gel ignited!\");\n\t\t\t\t\tif (this.effectState.damage) {\n\t\t\t\t\t\tthis.damage(this.effectState.damage / 2, this.effectState.target);\n\t\t\t\t\t}\n\t\t\t\t\tpokemon.trySetStatus('brn', this.effectState.source);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tname: \"Red Licorice\",\n\t\trating: 3,\n\t\tnum: -56,\n\t},\n\tstygianshades: {\n\t\tdesc: \"This Pok\u00E9mon's Dark-type status moves set one layer of Spikes on the opposing side of the field.\",\n\t\tshortDesc: \"Dark-type status moves set spikes on the opposing side.\",\n\t\tonAfterMove(target, source, move) {\n\t\t\tif (!move || !source) return;\n\t\t\tif (move.type === 'Dark' && move.category === 'Status') {\n\t\t\t\tthis.add('-ability', this.effectState.target, 'Stygian Shades');\n\t\t\t\tthis.effectState.target.side.foe.addSideCondition('spikes');\n\t\t\t}\n\t\t},\n\t\tname: \"Stygian Shades\",\n\t\trating: 3,\n\t\tnum: -57,\n\t},\n\tlongwhip: {\n\t\tdesc: \"This Pok\u00E9mon's multi-hit attacks do damage at the end of each turn, for the maximum number of times the attack could hit, instead of being used immediately. More than one move can stack in this way.\",\n\t\tshortDesc: \"Multi-hit attacks: damage over time, for as many turns as they could hit.\",\n\t\tonBeforeMove(source, target, move) {\n\t\t\tif (move.multihit) {\n\t\t\t\tthis.add('-ability', source, 'Long Whip');\n\t\t\t\tthis.add('-message', `${source.name} prepared to whip ${(target.illusion ? target.illusion.name : target.name)}'s team with ${move.name}!`);\n\t\t\t\tsource.deductPP(move.id, 1);\n\t\t\t\tif (move.accuracy && typeof move.accuracy === 'number') {\n\t\t\t\t\tif (this.randomChance((100 - move.accuracy), 100)) {\n\t\t\t\t\t\tthis.add('-message', `But it failed!`);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet whipMove = null;\n\t\t\t\tif (target.side.addSlotCondition(target, 'longwhip1')) {\n\t\t\t\t\twhipMove = 'longwhip1';\n\t\t\t\t} else if (target.side.addSlotCondition(target, 'longwhip2')) {\n\t\t\t\t\twhipMove = 'longwhip2';\n\t\t\t\t} else if (target.side.addSlotCondition(target, 'longwhip3')) {\n\t\t\t\t\twhipMove = 'longwhip3';\n\t\t\t\t} else if (target.side.addSlotCondition(target, 'longwhip4')) {\n\t\t\t\t\twhipMove = 'longwhip4';\n\t\t\t\t} else if (target.side.addSlotCondition(target, 'longwhip5')) {\n\t\t\t\t\twhipMove = 'longwhip5';\n\t\t\t\t} else {\n\t\t\t\t\tthis.add('-message', `But it failed!`);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tlet numberHits;\n\t\t\t\tif (Array.isArray(move.multihit) && move.multihit.length) {\n\t\t\t\t\tnumberHits = move.multihit[1];\n\t\t\t\t} else {\n\t\t\t\t\tnumberHits = move.multihit;\n\t\t\t\t}\n\t\t\t\tObject.assign(target.side.slotConditions[target.position][whipMove], {\n\t\t\t\t\tduration: numberHits,\n\t\t\t\t\tsource: source,\n\t\t\t\t\tmove: move,\n\t\t\t\t\tposition: target.position,\n\t\t\t\t\tside: target.side,\n\t\t\t\t\tmoveData: this.dex.moves.get(move),\n\t\t\t\t});\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Long Whip\",\n\t\trating: 3,\n\t\tnum: -58,\n\t},\n\tgravitationalpull: {\n\t\tdesc: \"This Pok\u00E9mon is immune to all entry hazards and incorporates them into its body. Pok\u00E9mon making contact with this Pok\u00E9mon are affected by all of the hazards on both sides of the field, in the same way as if they had switched in.\",\n\t\tshortDesc: \"Hazard immunity. On contact, attackers suffer the effects of hazards on the field.\",\n\t\tname: \"Gravitational Pull\",\n\t\tonStart(pokemon) {\n\t\t\tfor (const active of this.getAllActive()) {\n\t\t\t\tif (active.volatiles['gravitationalpull']) {\n\t\t\t\t\tactive.removeVolatile('gravitationalpull');\n\t\t\t\t}\n\t\t\t}\n\t\t\tpokemon.addVolatile('gravitationalpull');\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.volatiles['gravitationalpull']) return;\n\t\t\tfor (const active of this.getAllActive()) {\n\t\t\t\tif (active.volatiles['gravitationalpull']) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpokemon.addVolatile('gravitationalpull');\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tif (pokemon.volatiles['gravitationalpull']) {\n\t\t\t\tpokemon.removeVolatile('gravitationalpull');\n\t\t\t\tfor (const active of this.getAllActive()) {\n\t\t\t\t\tif (active.hasAbility('gravitationalpull') && active !== pokemon) {\n\t\t\t\t\t\tactive.addVolatile('gravitationalpull');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst hazards = [\n\t\t\t\t\t'spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge',\n\t\t\t\t];\n\t\t\t\tfor (const sideCondition of hazards) {\n\t\t\t\t\tif (pokemon.side.getSideCondition(sideCondition) || pokemon.side.foe.getSideCondition(sideCondition)) {\n\t\t\t\t\t\tthis.add('-message', `The hazards on the field returned to their original positions!`);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tonStart(pokemon) {\n\t\t\t\tthis.add('-start', pokemon, 'ability: Gravitational Pull');\n\t\t\t\tconst hazards = [\n\t\t\t\t\t'spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge',\n\t\t\t\t];\n\t\t\t\tfor (const sideCondition of hazards) {\n\t\t\t\t\tif (pokemon.side.getSideCondition(sideCondition) || pokemon.side.foe.getSideCondition(sideCondition)) {\n\t\t\t\t\t\tthis.add('-message', `The hazards on the field are surrounding ${pokemon.name}!`);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tonEnd(pokemon) {\n\t\t\t\tthis.add('-end', pokemon, 'ability: Gravitational Pull', '[silent]');\n\t\t\t},\n\t\t\tonDamagingHitOrder: 1,\n\t\t\tonDamagingHit(damage, target, source, move) {\n\t\t\t\tif (move.flags['contact']) {\n\t\t\t\t\tlet success = undefined;\n\t\t\t\t\tif (target.side.getSideCondition('spikes') || target.side.foe.getSideCondition('spikes')) {\n\t\t\t\t\t\tif (!success) {\n\t\t\t\t\t\t\tsuccess = true;\n\t\t\t\t\t\t\tthis.add('-ability', target, 'Gravitational Pull');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet layers = 0;\n\t\t\t\t\t\tif (target.side.sideConditions['spikes']) {\n\t\t\t\t\t\t\tlayers += target.side.sideConditions['spikes'].layers;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (target.side.foe.sideConditions['spikes']) {\n\t\t\t\t\t\t\tlayers += target.side.foe.sideConditions['spikes'].layers;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst damageAmounts = [0, 3, 4, 6, 6, 6, 6]; // 1/8, 1/6, 1/4 - caps at 3\n\t\t\t\t\t\tthis.damage(damageAmounts[layers] * source.maxhp / 24, source, target);\n\t\t\t\t\t\t// this.add('-message', `${source.name} was hurt by the spikes!`);\n\t\t\t\t\t}\n\t\t\t\t\tif (target.side.getSideCondition('toxicspikes') || target.side.foe.getSideCondition('toxicspikes')) {\n\t\t\t\t\t\tif (!success) {\n\t\t\t\t\t\t\tsuccess = true;\n\t\t\t\t\t\t\tthis.add('-ability', target, 'Gravitational Pull');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet layers = 0;\n\t\t\t\t\t\tif (target.side.sideConditions['toxicspikes']) {\n\t\t\t\t\t\t\tlayers += target.side.sideConditions['toxicspikes'].layers;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (target.side.foe.sideConditions['toxicspikes']) {\n\t\t\t\t\t\t\tlayers += target.side.foe.sideConditions['toxicspikes'].layers;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (layers >= 2) {\n\t\t\t\t\t\t\tsource.trySetStatus('tox', target);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsource.trySetStatus('psn', target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (target.side.getSideCondition('stealthrock') || target.side.foe.getSideCondition('stealthrock')) {\n\t\t\t\t\t\tif (!success) {\n\t\t\t\t\t\t\tsuccess = true;\n\t\t\t\t\t\t\tthis.add('-ability', target, 'Gravitational Pull');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst typeMod = this.clampIntRange(source.runEffectiveness(this.dex.getActiveMove('stealthrock')), -6, 6);\n\t\t\t\t\t\tthis.damage(source.maxhp * Math.pow(2, typeMod) / 8, source, target);\n\t\t\t\t\t\t// this.add('-message', `Pointed stones dug into ${source.name}!`);\n\t\t\t\t\t}\n\t\t\t\t\tif (target.side.getSideCondition('stickyweb') || target.side.foe.getSideCondition('stickyweb')) {\n\t\t\t\t\t\tif (!success) {\n\t\t\t\t\t\t\tsuccess = true;\n\t\t\t\t\t\t\tthis.add('-ability', target, 'Gravitational Pull');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.add('-activate', source, 'move: Sticky Web');\n\t\t\t\t\t\tthis.boost({spe: -1}, source, target, this.dex.getActiveMove('stickyweb'));\n\t\t\t\t\t}\n\t\t\t\t\tif (target.side.getSideCondition('gmaxsteelsurge') || target.side.foe.getSideCondition('gmaxsteelsurge')) {\n\t\t\t\t\t\tif (!success) {\n\t\t\t\t\t\t\tsuccess = true;\n\t\t\t\t\t\t\tthis.add('-ability', target, 'Gravitational Pull');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst steelHazard = this.dex.getActiveMove('Stealth Rock');\n\t\t\t\t\t\tsteelHazard.type = 'Steel';\n\t\t\t\t\t\tconst typeMod = this.clampIntRange(source.runEffectiveness(steelHazard), -6, 6);\n\t\t\t\t\t\tthis.damage(source.maxhp * Math.pow(2, typeMod) / 8, source, target);\n\t\t\t\t\t\t// this.add('-message', `${source.name} was hurt by the sharp spikes!`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\thazardImmune: true,\n\t\trating: 3,\n\t\tnum: -59,\n\t},\n\tchakralock: {\n\t\tdesc: \"After this Pok\u00E9mon uses an attack that is super effective on the target, the target is burned.\",\n\t\tshortDesc: \"After an attack that is super effective on the target, the target is burned.\",\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (!move || !target) return;\n\t\t\tif (target !== source && move.category !== 'Status' && target.getMoveHitData(move).typeMod > 0) {\n\t\t\t\ttarget.trySetStatus('brn', source);\n\t\t\t}\n\t\t},\n\t\tname: \"Chakra Lock\",\n\t\trating: 3,\n\t\tnum: -60,\n\t},\n\tvajra: {\n\t\tdesc: \"This Pok\u00E9mon's Dark-type moves become Electric-type moves and have their power multiplied by 1.2. This effect comes after other effects that change a move's type, but before Ion Deluge and Electrify's effects.\",\n\t\tshortDesc: \"This Pok\u00E9mon's Dark-type moves become Electric-type and have 1.2x power.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tconst noModifyType = [\n\t\t\t\t'judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'terrainpulse', 'weatherball',\n\t\t\t];\n\t\t\tif (move.type === 'Dark' && !noModifyType.includes(move.id) &&\n\t\t\t\t!(move.isZ && move.category !== 'Status') && !(move.name === 'Tera Blast' && pokemon.terastallized)) {\n\t\t\t\tmove.type = 'Electric';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify([4915, 4096]);\n\t\t},\n\t\tname: \"Vajra\",\n\t\trating: 4,\n\t\tnum: -61,\n\t},\n\tinnerfortitude: {\n\t\tdesc: \"When this Pok\u00E9mon has 1/2 or less of its maximum HP, rounded down, its Defense and Special Defense are doubled. This Pok\u00E9mon also cannot fall asleep. Gaining this Ability while asleep cures it.\",\n\t\tshortDesc: \"At 1/2 or less of max HP, Defense and Special Defense are doubled. Cannot fall asleep.\",\n\t\tonModifyDefPriority: 6,\n\t\tonModifyDef(def, pokemon) {\n\t\t\tif (pokemon.hp <= pokemon.maxhp / 2) {\n\t\t\t\tthis.debug('Inner Fortitude boost');\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonModifySpDPriority: 6,\n\t\tonModifySpD(spd, pokemon) {\n\t\t\tif (pokemon.hp <= pokemon.maxhp / 2) {\n\t\t\t\tthis.debug('Inner Fortitude boost');\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.status === 'slp') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Inner Fortitude');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id !== 'slp') return;\n\t\t\tif ((effect as Move)?.status) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inner Fortitude');\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tname: \"Inner Fortitude\",\n\t\trating: 4,\n\t\tnum: -62,\n\t},\n\t/*\n\tbuildup: {\n\t\tdesc: \"This Pok\u00E9mon restores 1/8 of its maximum HP, rounded down, at the end of each full turn if it uses an attacking move, but only if it was not hit by a damaging move in the same turn.\",\n\t\tshortDesc: \"Healed by 1/8 of its max HP each attacking turn; fails if attacked same turn.\",\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\ttarget.addVolatile('buildup');\n\t\t},\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (move.category === 'Status') {\n\t\t\t\tsource.addVolatile('buildup');\n\t\t\t}\n\t\t},\n\t\tonResidualOrder: 26,\n\t\tonResidualSubOrder: 1,\n\t\tonResidual(pokemon) {\n\t\t\tif (pokemon.activeTurns && !pokemon.volatiles['buildup']) {\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 8);\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t},\n\t\tname: \"Buildup\",\n\t\trating: 4,\n\t\tnum: -63,\n\t},\n*/\n\timplode: {\n\t\tdesc: \"This Pok\u00E9mon does not suffer the drawbacks of recoil moves and sacrificial moves as long as a target is successfully KOed.\",\n\t\tshortDesc: \"If it KOs a target, ignores recoil and self-KO effects of that move.\",\n\t\tonModifyMove(move) {\n\t\t\tif (move.recoil || move.mindBlownRecoil || (move.selfdestruct && move.selfdestruct === 'always')) {\n\t\t\t\tthis.effectState.target.addVolatile('implode');\n\t\t\t\tthis.effectState.target.volatiles['implode'].move = move;\n\t\t\t\tthis.effectState.target.volatiles['implode'].recoil = move.recoil;\n\t\t\t\tthis.effectState.target.volatiles['implode'].mindBlownRecoil = move.mindBlownRecoil;\n\t\t\t\tdelete move.recoil;\n\t\t\t\tdelete move.mindBlownRecoil;\n\t\t\t\tif (move.selfdestruct && move.selfdestruct === 'always') {\n\t\t\t\t\tthis.effectState.target.volatiles['implode'].selfdestruct = move.selfdestruct;\n\t\t\t\t\tdelete move.selfdestruct;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonPrepareHit(target, source, move) {\n\t\t\tif (!this.effectState.target.volatiles['implode']) return;\n\t\t\tif (this.effectState.target.volatiles['implode'].selfdestruct) this.add('-anim', target, \"Breakneck Blitz\", target);\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t\tonAfterMove(source, target, move) { \n\t\t\t\tfor (const pokemon of this.getAllActive()) {\n\t\t\t\t\tif (pokemon !== source && !pokemon.hp) {\n\t\t\t\t\t\tsource.removeVolatile('implode');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (target !== source && !target.hp) {\n\t\t\t\t\tsource.removeVolatile('implode');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.effectState.recoil && move.totalDamage) {\n\t\t\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\n\t\t\t\t\tthis.damage(this.clampIntRange(Math.round((this.activeMove.totalDamage as number) * this.effectState.recoil[0] / this.effectState.recoil[1]), 1), source, source, 'recoil');\n\t\t\t\t}\n\t\t\t\tif (this.effectState.mindBlownRecoil) {\n\t\t\t\t\tthis.damage(Math.round(source.maxhp / 2), source, source, this.dex.conditions.get('Mind Blown'), true);\n\t\t\t\t}\n\t\t\t\tif (this.effectState.selfdestruct) {\n\t\t\t\t\tthis.faint(source, source, this.effectState.move);\n\t\t\t\t}\n\t\t\t\tsource.removeVolatile('implode');\n\t\t\t},\n\t\t},\n\t\tname: \"Implode\",\n\t\trating: 4,\n\t\tnum: -64,\n\t},\n\terraticcode: {\n\t\tdesc: \"While this Pok\u00E9mon is present, all Pok\u00E9mon are prevented from from using the same move twice in a row.\",\n\t\tshortDesc: \"While present, all Pok\u00E9mon are prevented from using the same move twice in a row.\",\n\t\tonStart(source) {\n\t\t\tlet activated = false;\n\t\t\tfor (const pokemon of this.getAllActive()) {\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', source, 'Erratic Code');\n\t\t\t\t}\n\t\t\t\tactivated = true;\n\t\t\t\tif (!pokemon.volatiles['torment']) {\n\t\t\t\t\tpokemon.addVolatile('torment');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonAnySwitchIn(pokemon) {\n\t\t\tif (!pokemon.volatiles['torment']) {\n\t\t\t\tpokemon.addVolatile('torment');\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (target.hasAbility('erraticcode')) return;\n\t\t\t}\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\ttarget.removeVolatile('torment');\n\t\t\t}\n\t\t},\n\t\tname: \"Erratic Code\",\n\t\trating: 3.5,\n\t\tnum: -66,\n\t},\n\t/*cheapheat: {\n\t\tdesc: \"When this Pok\u00E9mon uses an attacking move, before the move hits, the Pok\u00E9mon's attacking stat and the target's defending stat are raised by 1 stage. The stats that were raised are lowered by 1 stage after the move hits.\",\n\t\tshortDesc: \"User's attacking stat and foe's defending stat: +1 before move, -1 after move.\",\n\t\tonBeforeMove(source, target, move) {\n\t\t\tif (!move.basePower || target === source || move.spreadHit) return;\n\t\t\tconst activated = false;\n\t\t\tlet attackingStat = 'atk';\n\t\t\tlet defendingStat = 'def';\n\t\t\tif (move.category === 'Special') {\n\t\t\t\tattackingStat = 'spa';\n\t\t\t}\n\t\t\tif (move.useSourceDefensiveAsOffensive) {\n\t\t\t\tattackingStat = attackingStat === 'atk' ? 'def' : 'spd';\n\t\t\t}\n\t\t\tif (move.defensiveCategory) {\n\t\t\t\tdefendingStat = move.defensiveCategory === 'Physical' ? 'def' : 'spd';\n\t\t\t} else {\n\t\t\t\tdefendingStat = move.category === 'Physical' ? 'def' : 'spd';\n\t\t\t}\n\t\t\tthis.add('-ability', source, 'Cheap Heat', 'boost');\n\t\t\tif (move.useTargetOffensive) {\n\t\t\t\tconst cheapHeatBoost: SparseBoostsTable = {};\n\t\t\t\tif (attackingStat === 'atk') cheapHeatBoost.atk = 1;\n\t\t\t\tif (attackingStat === 'def' || defendingStat === 'def') cheapHeatBoost.def = 1;\n\t\t\t\tif (attackingStat === 'spa') cheapHeatBoost.spa = 1;\n\t\t\t\tif (attackingStat === 'spd' || defendingStat === 'spd') cheapHeatBoost.spd = 1;\n\t\t\t\ttarget.addVolatile('cheapheat');\n\t\t\t\ttarget.volatiles['cheapheat'].source = source;\n\t\t\t\ttarget.volatiles['cheapheat'].boost = cheapHeatBoost;\n\t\t\t\tthis.runEvent('CheapHeat', target);\n\t\t\t} else {\n\t\t\t\tconst cheapHeatBoostSource: SparseBoostsTable = {};\n\t\t\t\tconst cheapHeatBoostTarget: SparseBoostsTable = {};\n\t\t\t\tsource.addVolatile('cheapheat');\n\t\t\t\tsource.volatiles['cheapheat'].source = source;\n\t\t\t\tsource.volatiles['cheapheat'].boost = cheapHeatBoostSource;\n\t\t\t\tif (attackingStat === 'atk') source.volatiles['cheapheat'].boost.atk = 1;\n\t\t\t\tif (attackingStat === 'def') source.volatiles['cheapheat'].boost.def = 1;\n\t\t\t\tif (attackingStat === 'spa') source.volatiles['cheapheat'].boost.spa = 1;\n\t\t\t\tif (attackingStat === 'spd') source.volatiles['cheapheat'].boost.spd = 1;\n\t\t\t\tthis.runEvent('CheapHeat', source);\n\t\t\t\ttarget.addVolatile('cheapheat');\n\t\t\t\ttarget.volatiles['cheapheat'].source = source;\n\t\t\t\ttarget.volatiles['cheapheat'].boost = cheapHeatBoostTarget;\n\t\t\t\tif (defendingStat === 'def') target.volatiles['cheapheat'].boost.def = 1;\n\t\t\t\tif (defendingStat === 'spd') target.volatiles['cheapheat'].boost.spd = 1;\n\t\t\t\tthis.runEvent('CheapHeat', target);\n\t\t\t}\n\t\t},\n\t\tonAfterMove(source, target, move) {\n\t\t\tfor (const defender of this.getAllActive()) {\n\t\t\t\tthis.runEvent('ReverseCheapHeat', defender);\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tfor (const defender of this.getAllActive()) {\n\t\t\t\tthis.runEvent('ReverseCheapHeat', defender);\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tonCheapHeat(pokemon) {\n\t\t\t\tthis.boost(this.effectState.boost, pokemon, this.effectState.source, null, true);\n\t\t\t\tthis.effectState.activeMove = this.activeMove;\n\t\t\t\tthis.effectState.completed = true;\n\t\t\t},\n\t\t\tonReverseCheapHeat(pokemon) {\n\t\t\t\tif (!pokemon.hp) return;\n\t\t\t\tlet i: BoostName;\n\t\t\t\tfor (i in this.effectState.boost) {\n\t\t\t\t\tthis.effectState.boost[i]! *= -1;\n\t\t\t\t}\n\t\t\t\tthis.boost(this.effectState.boost, pokemon, this.effectState.source, null, true);\n\t\t\t\tpokemon.removeVolatile('cheapheat');\n\t\t\t},\n\t\t},\n\t\tname: \"Cheap Heat\",\n\t\trating: 3,\n\t\tnum: -67,\n\t},*/\n\tcheapheat: {\n\t\tname: \"Cheap Heat\",\n\t\tshortDesc: \"Boosts user's attacking stat and targets' defending stats before hitting. Reverts after.\",\n\t\tdesc: \"When this Pok\u00E9mon uses a damaging move, it boosts its relevant attacking stat (Attack or Sp. Atk) by 1 stage and the target's corresponding defending stat (Defense or Sp. Def) by 1 stage before damage is calculated. After the hit, both stats are lowered by 1 stage.\",\n\t\trating: 3,\n\t\tnum: -67,\n\t\n\t\tonStart(pokemon) {\n\t\t\tpokemon.m.cheapHeatTargets = new Map<AnyObject, BoostID>();\n\t\t\tpokemon.m.cheapHeatSelfBoosted = null;\n\t\t},\n\t\n\t\tonBeforeMove(pokemon, _target, move) {\n\t\t\tif (move.category === 'Status' || move.basePower <= 0) return;\n\t\n\t\t\tconst offensiveStat: BoostID = move.category === 'Physical' ? 'atk' : 'spa';\n\t\t\tconst defensiveStat: BoostID = move.category === 'Physical' ? 'def' : 'spd';\n\t\n\t\t\t// Boost user's attacking stat\n\t\t\tconst selfBoost: SparseBoostsTable = {};\n\t\t\tselfBoost[offensiveStat] = 1;\n\t\t\tthis.boost(selfBoost, pokemon, pokemon, this.dex.abilities.get('Cheap Heat'));\n\t\t\tpokemon.m.cheapHeatSelfBoosted = offensiveStat;\n\t\n\t\t\t// Determine valid targets\n\t\t\tconst targets: Pokemon[] = [];\n\t\n\t\t\tif (move.target === 'allAdjacent' || move.target === 'allAdjacentFoes') {\n\t\t\t\tfor (const foe of pokemon.side.foe.active) {\n\t\t\t\t\tif (foe && !foe.fainted && pokemon.isAdjacent(foe)) {\n\t\t\t\t\t\ttargets.push(foe);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (move.target === 'allAdjacent') {\n\t\t\t\t\tfor (const ally of pokemon.side.active) {\n\t\t\t\t\t\tif (ally && ally !== pokemon && !ally.fainted && pokemon.isAdjacent(ally)) {\n\t\t\t\t\t\t\ttargets.push(ally);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Single target \u2014 use target passed in\n\t\t\t\tif (_target && _target.isActive && !_target.fainted) {\n\t\t\t\t\ttargets.push(_target);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Boost all chosen targets\n\t\t\tpokemon.m.cheapHeatTargets = new Map();\n\t\t\tfor (const t of targets) {\n\t\t\t\tconst targetBoost: SparseBoostsTable = {};\n\t\t\t\ttargetBoost[defensiveStat] = 1;\n\t\t\t\tthis.boost(targetBoost, t, pokemon, this.dex.abilities.get('Cheap Heat'));\n\t\t\t\tpokemon.m.cheapHeatTargets.set(t, defensiveStat);\n\t\t\t}\n\t\t},\n\t\n\t\tonAfterMove(pokemon, _target, move) {\n\t\t\tif (move.category === 'Status' || move.basePower <= 0) return;\n\t\n\t\t\t// Revert user's stat\n\t\t\tconst stat = pokemon.m.cheapHeatSelfBoosted;\n\t\t\tif (stat) {\n\t\t\t\tconst debuff: SparseBoostsTable = {};\n\t\t\t\tdebuff[stat as keyof BoostsTable] = -1;\n\t\t\t\tthis.boost(debuff, pokemon, pokemon, this.dex.abilities.get('Cheap Heat'));\n\t\t\t\tpokemon.m.cheapHeatSelfBoosted = null;\n\t\t\t}\n\t\n\t\t\t// Revert all targets' stat boosts\n\t\t\tif (pokemon.m.cheapHeatTargets) {\n\t\t\t\tfor (const [t, boostedStat] of pokemon.m.cheapHeatTargets.entries()) {\n\t\t\t\t\tif (!t?.isActive) continue;\n\t\t\t\t\tconst revert: SparseBoostsTable = {};\n\t\t\t\t\trevert[boostedStat as keyof BoostsTable] = -1;\n\t\t\t\t\tthis.boost(revert, t, pokemon, this.dex.abilities.get('Cheap Heat'));\n\t\t\t\t}\n\t\t\t\tpokemon.m.cheapHeatTargets.clear();\n\t\t\t}\n\t\t},\n\t},\n\tstaccato: {\n\t\tdesc: \"If this Pok\u00E9mon cures an opposing Pok\u00E9mon's non-volatile status condition, the affected Pok\u00E9mon will be paralyzed.\",\n\t\tshortDesc: \"When curing a foe's status (ex. Purify, Sparkling Aria), replaces with paralysis.\",\n\t\tonBeforeMove(source, target, move) {\n\t\t\tif (['purify', 'sparklingaria', 'wakeupslap', 'smellingsalts', 'uproar'].includes(move.id)) {\n\t\t\t\ttarget.addVolatile('staccato', this.effectState.target);\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t\tonEnd(pokemon) {\n\t\t\t\tif (this.effectState.busted) {\n\t\t\t\t\tthis.add('-ability', this.effectState.source, 'Staccato');\n\t\t\t\t\tpokemon.setStatus('par', this.effectState.source);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonAfterMoveSecondary(source, target, move) {\n\t\t\t\ttarget.removeVolatile('staccato');\n\t\t\t},\n\t\t},\n\t\tname: \"Staccato\",\n\t\trating: 3,\n\t\tnum: -68,\n\t},\n\t/*\n\tgyaru: {\n\t\tdesc: \"This Pok\u00E9mon's Fighting-type moves become Fire-type moves and have their power multiplied by 1.2. This effect comes after other effects that change a move's type, but before Ion Deluge and Electrify's effects.\",\n\t\tshortDesc: \"This Pok\u00E9mon's Fighting-type moves become Fire-type and have 1.2x power.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tconst noModifyType = [\n\t\t\t\t'judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'terrainpulse', 'weatherball',\n\t\t\t];\n\t\t\tif (move.type === 'Fighting' && !noModifyType.includes(move.id) && !(move.isZ && move.category !== 'Status')) {\n\t\t\t\tmove.type = 'Fire';\n\t\t\t\t(move as any).gyaruBoosted = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif ((move as any).gyaruBoosted) return this.chainModify([0x1333, 0x1000]);\n\t\t},\n\t\tname: \"Gyaru\",\n\t\trating: 4,\n\t\tnum: -69,\n\t},\n*/\n\telectroplating: {\n\t\tdesc: \"This Pok\u00E9mon's Electric-type attacks that make contact cause the Steel type to be added to the target, effectively making it have two or three types. Has no effect if the target is already a Steel-type. If Forest's Curse, Trick-or-Treat or Autumn Leaves adds a type to the target, it replaces the type added by this Ability and vice versa.\",\n\t\tshortDesc: \"This Pok\u00E9mon's Electric contact moves add steel to the targets' type(s).\",\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (move.type === 'Electric' && move.flags['contact']) {\n\t\t\t\tif (target.hasType('Steel')) return;\n\t\t\t\tif (!target.addType('Steel')) return;\n\t\t\t\tthis.add('-start', target, 'typeadd', 'Steel', '[from] Ability: Electroplating');\n\t\t\t}\n\t\t},\n\t\tname: \"Electroplating\",\n\t\trating: 4,\n\t\tnum: -70,\n\t},\n\tcomedian: {\n\t\tdesc: \"This Pok\u00E9mon is immune to Fairy-type moves. When hit by a Fairy-type move, it raises its Attack and its adjacent allies' Attack by 1 stage each.\",\n\t\tshortDesc: \"Fairy immunity; user's Attack and allies' Attack are both raised 1 stage if user is hit by a Fairy move.\",\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Fairy') {\n\t\t\t\tlet activated = false;\n\t\t\t\tfor (const ally of target.side.active) {\n\t\t\t\t\tif (!ally || (!ally.isAdjacent(target) && ally !== target)) continue;\n\t\t\t\t\tif (!activated) {\n\t\t\t\t\t\tthis.add('-ability', target, 'Comedian', 'boost');\n\t\t\t\t\t\tthis.add('-message', `${target.name} is howling with laughter!`);\n\t\t\t\t\t\tactivated = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.boost({atk: 1}, ally, target, null, true);\n\t\t\t\t}\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Comedian');\n\t\t\t\t\tthis.add('-message', `${target.name} is howling with laughter!`);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (target === this.effectState.target || target.side !== source.side) return;\n\t\t\tif (move.type === 'Fairy') {\n\t\t\t\tlet activated = false;\n\t\t\t\tfor (const ally of target.side.active) {\n\t\t\t\t\tif (!ally || (!ally.isAdjacent(target) && ally !== target)) continue;\n\t\t\t\t\tif (!activated) {\n\t\t\t\t\t\tthis.add('-ability', target, 'Comedian', 'boost');\n\t\t\t\t\t\tthis.add('-message', `${target.name} is howling with laughter!`);\n\t\t\t\t\t\tactivated = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.boost({atk: 1}, ally, target, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Comedian\",\n\t\trating: 3,\n\t\tnum: -71,\n\t},\n\tpacifyingpelt: {\n\t\tdesc: \"This Pok\u00E9mon is immune to Fighting-type moves and restores 1/4 of its maximum HP, rounded down, when hit by a Fighting-type move.\",\n\t\tshortDesc: \"This Pok\u00E9mon heals 1/4 of its max HP when hit by Fighting moves; Fighting immunity.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Fighting') {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Pacifying Pelt');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Pacifying Pelt\",\n\t\trating: 4,\n\t\tnum: -72,\n\t},\n\talluring: {\n\t\tshortDesc: \"This Pok\u00E9mon removes the pivoting effect of opposing Pok\u00E9mon's moves.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Alluring');\n\t\t\tthis.add('-message', `Pok\u00E9mon opposing ${pokemon.name} can't pivot out of battle!`);\n\t\t},\n\t\tonAnyModifyMove(move, pokemon) {\n\t\t\tif (pokemon.side === this.effectState.target.side) return;\n\t\t\tif (move.selfSwitch && !move.ignoreAbility) delete move.selfSwitch;\n\t\t},\n\t\tname: \"Alluring\",\n\t\trating: 4,\n\t\tnum: -73,\n\t},\n\trebel: {\n\t\tshortDesc: \"This Pok\u00E9mon and allies: 1.3x damage when any Pok\u00E9mon has stat drops.\",\n\t\tonAllyBasePowerPriority: 22,\n\t\tonAllyBasePower(basePower, attacker, defender, move) {\n\t\t\tlet rebel = null;\n\t\t\tfor (const pokemon of this.getAllActive()) {\n\t\t\t\tlet statDrop: BoostName;\n\t\t\t\tfor (statDrop in pokemon.boosts) {\n\t\t\t\t\tif (pokemon.boosts[statDrop] < 0) rebel = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (rebel) {\n\t\t\t\tthis.debug('Rebel boost');\n\t\t\t\treturn this.chainModify([0x14CD, 0x1000]);\n\t\t\t}\n\t\t},\n\t\tname: \"Rebel\",\n\t\trating: 2.5,\n\t\tnum: -74,\n\t},\n\t/*\n\tagitate: {\n\t\tdesc: \"When this Pok\u00E9mon raises or lowers another Pok\u00E9mon's stat stages, the effect is increased by one stage for each affected stat.\",\n\t\tshortDesc: \"Increases stat stage changes the Pok\u00E9mon inflicts by 1 stage.\",\n\t\tonAnyBoost(boost, target, source, effect) {\n\t\t\tif (effect && effect.id === 'zpower') return;\n\t\t\tif (!target || !source || target === source || source !== this.effectState.target) return; // doesn't work on itself\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) boost[i]! -= 1; // exacerbate debuffs\n\t\t\t\tif (boost[i]! > 0) boost[i]! += 1; // augment buffs\n\t\t\t}\n\t\t},\n\t\tname: \"Agitate\",\n\t\trating: 3,\n\t\tnum: -75,\n\t},\n\tsnowflake: {\n\t\tdesc: \"After this Pok\u00E9mon takes damage from a Rock-type move, including Stealth Rock, it also sets up Aurora Veil regardless of the current weather. It can still set an Aurora Veil even if the damage knocks it out.\",\n\t\tshortDesc: \"Sets up Aurora Veil after taking Rock damage, Stealth Rock - even if it faints.\",\n\t\tonDamagePriority: 1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (\n\t\t\t\teffect && ((effect.effectType === 'Move' && effect.type === 'Rock') || (effect.id === 'stealthrock'))\n\t\t\t) {\n\t\t\t\tthis.effectState.veiled = true;\n\t\t\t}\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (this.effectState.veiled) {\n\t\t\t\tthis.effectState.veiled = null;\n\t\t\t\tthis.add('-ability', pokemon, 'Snowflake');\n\t\t\t\tpokemon.side.addSideCondition('auroraveil');\n\t\t\t}\n\t\t},\n\t\tonFaint(pokemon) {\n\t\t\tif (this.effectState.veiled) {\n\t\t\t\tthis.effectState.veiled = null;\n\t\t\t\tthis.add('-ability', pokemon, 'Snowflake');\n\t\t\t\tpokemon.side.addSideCondition('auroraveil');\n\t\t\t}\n\t\t},\n\t\tname: \"Snowflake\",\n\t\trating: 3.5,\n\t\tnum: -76,\n\t},\n\tlethality: {\n\t\tshortDesc: \"Slicing moves: doubled damage if the target has full HP.\",\n\t\tonModifyMove(critRatio, source, target, move) {\n\t\t\tif (move.flags['slicing'] && move.basePower && target.hp === target.maxhp) {\n\t\t\t\tmove.basePower *= 2;\n\t\t\t}\n\t\t},\n\t\tname: \"Lethality\",\n\t\trating: 3.5,\n\t\tnum: -77,\n\t},\n*/\n\tqueensgambit: {\n\t\tdesc: \"If this Pok\u00E9mon switched in on the same turn, priority moves from opposing Pok\u00E9mon targeted at itself or at allies are prevented from having an effect. If this Ability is activated, its own first move then has +3 priority.\",\n\t\tshortDesc: \"Only while switching in, protects the team from priority; gains +3 priority on its next move if it does.\",\n\t\tonFoeTryMove(target, source, move) {\n\t\t\tif (this.effectState.target.activeTurns) return;\n\t\t\tconst targetAllExceptions = ['perishsong', 'flowershield', 'rototiller'];\n\t\t\tif (move.target === 'foeSide' || (move.target === 'all' && !targetAllExceptions.includes(move.id))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst dazzlingHolder = this.effectState.target;\n\t\t\tif ((source.side === dazzlingHolder.side || move.target === 'all') && move.priority > 0.1) {\n\t\t\t\tthis.attrLastMove('[still]');\n\t\t\t\tthis.add('cant', target, \"ability: Queen's Gambit\", move, '[of] ' + dazzlingHolder);\n\t\t\t\tthis.effectState.target.addVolatile('queensgambit');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 2,\n\t\t\tonStart(pokemon) {\n\t\t\t\tthis.add('-message', `${pokemon.name} is ready to strike back!`);\n\t\t\t},\n\t\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\t\treturn priority + 3;\n\t\t\t},\n\t\t},\n\t\tname: \"Queen's Gambit\",\n\t\trating: 2,\n\t\tnum: -78,\n\t},\n\tuplifting: {\n\t\tshortDesc: \"While this Pok\u00E9mon is present, all Pok\u00E9mon are non-grounded.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Uplifting');\n\t\t\tthis.add('-message', `While ${pokemon.name} is present, all Pok\u00E9mon are non-grounded.`);\n\t\t},\n\t\t// effect is in scripts.ts\n\t\tname: \"Uplifting\",\n\t\trating: 4,\n\t\tnum: -79,\n\t},\n\n\t\t\t// Kalos content\n\n\tmanagate: {\n\t\tdesc: \"When using a Psychic-type move, this Pok\u00E9mon moves last among Pok\u00E9mon using the same or greater priority moves, then switches out to a chosen ally.\",\n\t\tshortDesc: \"Psychic moves: move last in priority bracket, pivot the user out.\",\n\t\tonFractionalPriorityPriority: -1,\n\t\tonFractionalPriority(priority, pokemon, target, move) {\n\t\t\tif (move.category === \"Status\" && move.type === \"Psychic\") return -0.1;\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tif (move.category === \"Status\" && move.type === \"Psychic\" && !move.selfSwitch) move.selfSwitch = true;\n\t\t},\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (move.category === \"Status\" && move.type === \"Psychic\" && move.selfSwitch && this.canSwitch(source.side)) {\n\t\t\t\tthis.add('-ability', source, 'Mana Gate');\n\t\t\t\tthis.add('-message', `${source.name} switches out using Mana Gate!`);\n\t\t\t}\n\t\t},\n\t\tname: \"Mana Gate\",\n\t\trating: 3,\n\t\tnum: -1001,\n\t},\n\tpartialeclipse: {\n\t\tdesc: \"Causes all adjacent Pok\u00E9mon to lose 1/8 of their maximum HP, rounded down, at the end of each turn if this Pok\u00E9mon has 1/2 or less of its maximum HP.\",\n\t\tshortDesc: \"When HP is 1/2 or less, adjacent Pok\u00E9mon lose 1/8 of their max HP each turn.\",\n\t\tonResidualOrder: 26,\n\t\tonResidualSubOrder: 1,\n\t\tonResidual(pokemon) {\n\t\t\tif (!pokemon.hp || pokemon.hp > pokemon.maxhp / 2) return;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target && target.hp) this.damage(target.baseMaxhp / 8, target, pokemon);\n\t\t\t}\n\t\t},\n\t\tname: \"Partial Eclipse\",\n\t\trating: 3,\n\t\tnum: -1002,\n\t},\n\tmarshlandlord: {\n\t\tshortDesc: \"On switch-in, summons Water Sport and Mud Sport.\",\n\t\tonStart(source) {\n\t\t\tthis.add('-ability', source, 'Marshland Lord');\n\t\t\tthis.field.addPseudoWeather('watersport');\n\t\t\tthis.field.addPseudoWeather('mudsport');\n\t\t},\n\t\tname: \"Marshland Lord\",\n\t\trating: 3.5,\n\t\tnum: -1003,\n\t},\n\tbadinfluence: {\n\t\tshortDesc: \"If this Pok\u00E9mon has a stat stage lowered, all Pok\u00E9mon on the field have the same stat stage lowered.\",\n\t\tonTryBoost(boost, target, source, effect) {\n\t\t\tif (!boost || effect.id === 'mirrorarmor' || effect.id === 'badinfluence') return;\n\t\t\tlet b: BoostName;\n\t\t\tconst negativeBoost: SparseBoostsTable = {};\n\t\t\tfor (b in boost) {\n\t\t\t\tif (boost[b]! < 0) {\n\t\t\t\t\tif (target.boosts[b] === -6) continue;\n\t\t\t\t\tnegativeBoost[b] = boost[b];\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet activated = false;\n\t\t\tfor (const pokemon of this.getAllActive()) {\n\t\t\t\tif (pokemon === target || pokemon.fainted) continue;\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', target, 'Bad Influence');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tthis.boost(negativeBoost, pokemon, target, null, true);\n\t\t\t}\n\t\t},\n\t\tname: \"Bad Influence\",\n\t\trating: 4,\n\t\tnum: -1004,\n\t},\n\tpetrification: {\n\t\tshortDesc: \"Ice immunity; adds Rock to this Pok\u00E9mon when hit with an Ice move.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ice') {\n\t\t\t\tmove.accuracy = true;\n\t\t\t\tif (target.hasType('Rock') || !target.addType('Rock')) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Petrification');\n\t\t\t\t} else {\n\t\t\t\t\tthis.add('-start', target, 'typeadd', 'Rock', '[from] ability: Petrification');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Petrification\",\n\t\trating: 3,\n\t\tnum: -1005,\n\t},\n\trepulsive: {\n\t\tshortDesc: \"When lowering a target's stats, also lowers target's Defense by 1 stage.\",\n\t\tonAnyAfterEachBoost(boost, target, source, effect) {\n\t\t\tif (!source || source !== this.effectState.target || effect.name === 'Repulsive') return;\n\t\t\tlet statsLowered = false;\n\t\t\tlet i: BoostID;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tstatsLowered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (statsLowered && target.hp) {\n\t\t\t\tthis.add('-ability', source, 'Repulsive');\n\t\t\t\tthis.boost({def: -1}, target, source, null, true);\n\t\t\t}\n\t\t},\n\t\tname: \"Repulsive\",\n\t\trating: 3,\n\t\tnum: -1006,\n\t},\n\thyperspacemayhem: {\n\t\tshortDesc: \"Hyperspace Hole summons a random restricted Legendary Pok\u00E9mon to attack instead.\",\n\t\tname: \"Hyperspace Mayhem\",\n\t\tonModifyMove(move) {\n\t\t\tif (move && move.id === 'hyperspacehole') move.target = 'self'; // cosmetic\n\t\t},\n\t\tonSourceTryHitPriority: 1,\n\t\tonSourceTryHit(target, source, move) {\n\t\t\tif (\n\t\t\t\tmove && move.id === 'hyperspacehole' && source.hasAbility('hyperspacemayhem')\n\t\t\t) {\n\t\t\t\tlet summons = [];\n\t\t\t\tfor (const id in hyperspaceLookup) summons.push(id);\n\t\t\t\tconst summon = this.sample(summons);\n\t\t\t\tconst userBackup = {\n\t\t\t\t\tname: source.name,\n\t\t\t\t\tfullname: source.fullname,\n\t\t\t\t\tstatus: source.status,\n\t\t\t\t\tgender: source.gender,\n\t\t\t\t\tspecies: source.species,\n\t\t\t\t\tnature: this.dex.natures.get(source.set.nature).name,\n\t\t\t\t\tevs: source.set.evs,\n\t\t\t\t\tivs: source.set.ivs,\n\t\t\t\t\tshiny: source.set.shiny, //update with \"were we shiny last turn\"\n\t\t\t\t\tvolatiles: source.volatiles,\n\t\t\t\t\tlevel: source.level,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.add('-ability', source, 'Hyperspace Mayhem');\n\t\t\t\t\n\t\t\t\t//Shininess check moved here, to as early as we can after doing the backup.\n\t\t\t\tlet isShiny = userBackup.shiny;\n\t\t\t\t//console.log(\"Are shiny already? \" + isShiny);\n\t\t\t\tif (this.randomChance(1, 4096) || this.randomChance(1, 4096) || this.randomChance(1, 4096)) { // Shiny Charm P:\n\t\t\t\t\t//console.log(\"Rolled a Shiny\");\n\t\t\t\t\tisShiny = true;\n\t\t\t\t\tsource.set.shiny = true;\n\t\t\t\t\tsource.shiny = true;\n\t\t\t\t} else {\n\t\t\t\t\t//console.log(\"Rolled a non-Shiny\");\n\t\t\t\t\tisShiny = false;\n\t\t\t\t\tsource.set.shiny = false;\n\t\t\t\t\tsource.shiny = false;\n\t\t\t\t}\n\t\t\t\tlet wasShiny = userBackup.shiny ? true : false;\n\t\t\t\tif (wasShiny != isShiny) {\n\t\t\t\t\t//console.log(\"Switching shininess\");\n\t\t\t\t\tlet details = source.species + (userBackup.level === 100 ? '' : ', L' + userBackup.level) +\n\t\t\t\t\t\t(userBackup.gender === '' ? '' : ', ' + userBackup.gender) + (isShiny ? ', shiny' : '');\n\t\t\t\t\tthis.add('replace', source, details); //???\n\t\t\t\t}\n\n\t\t\t\tconst boostBackup: SparseBoostsTable = {};\n\t\t\t\tfor (const stat in source.boosts) {\n\t\t\t\t\tboostBackup[stat] = source.boosts[stat];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsource.volatiles = {}; // clear volatiles silently\n\t\t\t\tsource.addVolatile('hyperspacemayhem', source, null); // appropriately modify certain moves, like Teleport and Shadow Force\n\t\t\t\tthis.add('-message', `By using Hyperspace Hole, ${source.name} summons a Legendary Pok\u00E9mon!`);\n\n\t\t\t\tfor (const stat in boostBackup) {\n\t\t\t\t\tboostBackup[stat] *= -1;\n\t\t\t\t}\n\t\t\t\tsource.volatiles['hyperspacemayhem'].midtransform = true;\n\t\t\t\tthis.boost(boostBackup, source, source, null, true);\n\t\t\t\tsource.name = this.dex.species.get(summon).baseSpecies ? this.dex.species.get(summon).baseSpecies : this.dex.species.get(summon).name;\n\t\t\t\tsource.fullname = source.side.id + ': ' + source.name;\n\t\t\t\tsource.gender = ''; // not dealing with this because (thank goodness!) none of these have genders anyway\n\t\t\t\tsource.set.evs = {hp: 0, atk: 0, def: 0, spa: 0, spd: 0, spe: 0};\n\t\t\t\tsource.set.ivs = {hp: this.random(32), atk: this.random(32), def: this.random(32), spa: this.random(32), spd: this.random(32), spe: this.random(32)};\n\t\t\t\t// to do: set three of those to 31 at random\n\t\t\t\t\n\t\t\t\tlet ivs = [];\n\t\t\t\tlet ivsB = [];\n\t\t\t\tlet ivsC = [];\n\t\t\t\tlet perfectIVs = [];\n\t\t\t\tfor (const id in source.set.ivs) ivs.push(id);\n\t\t\t\tperfectIVs.push(this.sample(ivs));\n\t\t\t\tfor (const id in source.set.ivs) {\n\t\t\t\t\tif (perfectIVs.includes(id)) continue;\n\t\t\t\t\tivsB.push(id);\n\t\t\t\t}\n\t\t\t\tperfectIVs.push(this.sample(ivsB));\n\t\t\t\tfor (const id in source.set.ivs) {\n\t\t\t\t\tif (perfectIVs.includes(id)) continue;\n\t\t\t\t\tivsC.push(id);\n\t\t\t\t}\n\t\t\t\tperfectIVs.push(this.sample(ivsC));\n\t\t\t\tsource.set.ivs[perfectIVs[0]] = 31;\n\t\t\t\tsource.set.ivs[perfectIVs[1]] = 31;\n\t\t\t\tsource.set.ivs[perfectIVs[2]] = 31;\n\n\t\t\t\tconst natures = this.dex.natures.all();\n\t\t\t\tsource.nature = this.sample(natures).name;\n        \n\t\t\t\tthis.add('-message', `It's ${source.name}!`);\n\n\t\t\t\tsource.volatiles['hyperspacemayhem'].userBackup = userBackup;\n\t\t\t\tsource.volatiles['hyperspacemayhem'].fakelegend = true;\n\t\t\t\tsource.formeChange(this.dex.species.get(summon), move); // make sure this is silent?\n\t\t\t\tif (hyperspaceLookup[summon].move === \"Geomancy\" || hyperspaceLookup[summon].move === \"Shadow Force\") {\n\t\t\t\t\tthis.add('-prepare', source, hyperspaceLookup[summon].move);\n\t\t\t\t\tsource.addVolatile(this.dex.moves.get(hyperspaceLookup[summon].move).id, target);\n\t\t\t\t}\n\t\t\t\tif (hyperspaceLookup[summon].move === \"Geomancy\") source.volatiles['hyperspacemayhem'].geomancy = true;\n\t\t\t\tthis.actions.useMove(hyperspaceLookup[summon].move, source, this.getRandomTarget(source, hyperspaceLookup[summon].move), this.dex.moves.get('instruct'));\n\t\t\t\tif (hyperspaceLookup[summon].move === \"Geomancy\") {\n\t\t\t\t\tsource.volatiles['hyperspacemayhem'].geomancy = null;\n\t\t\t\t\tsource.name = this.dex.species.get(summon).baseSpecies ? this.dex.species.get(summon).baseSpecies : this.dex.species.get(summon).name;\n\t\t\t\t\tsource.fullname = source.side.id + ': ' + source.name;\n\t\t\t\t}\n\t\t\t\tif (hyperspaceLookup[summon].move === \"Teleport\") this.add('-message', `Oops! Looks like ${source.name} doesn't know how to battle!`);\n\t\t\t\tsource.volatiles['hyperspacemayhem'].fakelegend = null;\n\n\t\t\t\t// to do: make a special exception for Zacian and Rayquaza's stat modifiers\n\t\t\t\t// (they *should* work correctly as-is, but the way they display will be very misleading)\n\n\t\t\t\t// then change everything back to Hoopa\n\t\t\t\tsource.name = userBackup.name;\n\t\t\t\tsource.fullname = userBackup.fullname;\n\t\t\t\tsource.status = userBackup.status;\n\t\t\t\tsource.gender = userBackup.gender;\n\t\t\t\tsource.nature = userBackup.nature;\n\t\t\t\tsource.set.evs = userBackup.evs;\n\t\t\t\tsource.set.ivs = userBackup.ivs;\n\t\t\t\t//Okay so what this relies on is just. not updating this. this doesnt update visually on its own,\n\t\t\t\t//so I'm using it to store whether we WERE shiny last turn. \n\t\t\t\t//Practically, it would never be shiny twice in a row, but Iiiiiii this is fine.\n\t\t\t\t//source.set.shiny = userBackup.shiny;\n\t\t\t\tsource.shiny = userBackup.shiny;\n\n\t\t\t\t// silently restore boosts\n\t\t\t\tif (hyperspaceLookup[summon].move !== \"Geomancy\") {\n\t\t\t\t\tconst resetStats: SparseBoostsTable = {};\n\t\t\t\t\tfor (const stat in source.boosts) {\n\t\t\t\t\t\tresetStats[stat] = source.boosts[stat] * -1;\n\t\t\t\t\t}\n\t\t\t\t\tthis.boost(resetStats, source, source, null, true);\n\t\t\t\t}\n\t\t\t\tfor (const stat in boostBackup) {\n\t\t\t\t\tboostBackup[stat] *= -1;\n\t\t\t\t}\n\t\t\t\tthis.boost(boostBackup, source, source, null, true);\n\t\t\t\tsource.volatiles['hyperspacemayhem'].midtransform = null;\n\t\t\t\tdelete source.volatiles['hyperspacemayhem']; // for everything\n\t\t\t\tsource.volatiles = userBackup.volatiles;\n\n\t\t\t\t// change form back\n\t\t\t\tsource.formeChange(userBackup.species, move);\n\n\t\t\t\tthis.add('-message', `${this.dex.species.get(summon).baseSpecies ? this.dex.species.get(summon).baseSpecies : this.dex.species.get(summon).name} went back home!`);\n\t\t\t\tthis.add('-message', `Bye, bye, ${this.dex.species.get(summon).baseSpecies ? this.dex.species.get(summon).baseSpecies : this.dex.species.get(summon).name}!`);\n\n\t\t\t\treturn null; // Hyperspace Hole itself doesn't actually get used\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tonModifyMove(move, pokemon) {\n\t\t\t\tif (move.selfSwitch) delete move.selfSwitch; // for Cosmog\n\t\t\t},\n\t\t\tonDamage(damage, target, source, effect) {\n\t\t\t\tthis.hint(`${target.name} is a different Pok\u00E9mon, so the damage it takes doesn't affect ${this.effectState.userBackup.name}!`);\n\t\t\t\treturn 0;\n\t\t\t},\n\t\t\tonSetStatus(status, target, source, effect) {\n\t\t\t\treturn null; // avoid ever rolling Flame Body, Static, et cetera\n\t\t\t},\n\t\t\tonTryAddVolatile(status, pokemon) {\n\t\t\t\tif (status.id === 'geomancy' || status.id === 'shadowforce') return;\n\t\t\t\treturn null; // avoid ever rolling Cursed Body, et cetera\n\t\t\t},\n\t\t\tonBasePower(basePower, user, target, move) {\n\t\t\t\tif (user.baseSpecies.num === 487 && (move.type === 'Ghost' || move.type === 'Dragon')) { // for Giratina\n\t\t\t\t\treturn this.chainModify([4915, 4096]);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\trating: 4,\n\t\tnum: -1007,\n\t},\n};\n"],
  "mappings": "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",
  "names": []
}

{
  "version": 3,
  "sources": ["../../../../data/mods/tpdp/abilities.ts"],
  "sourcesContent": ["export const Abilities: {[k: string]: ModdedAbilityData} = {\n\tabsorbent: {\n\t\tname: \"Absorbent\",\n\t\tshortDesc: \"When hit by a Light-type skill, damage is nullified and SpAtk is raised.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Lights') {\n\t\t\t\tif(!this.boost({spa: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Absorbent');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tactive: {\n\t\tname: \"Active\",\n\t\tshortDesc: \"Immune to Stop status.\",\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.status['stp']) {\n\t\t\t\tpokemon.cureStatus('stp');\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id !== 'stp') return;\n\t\t\tif ((effect as Move)?.status) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Active');\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t},\n\tadversewind: {\n\t\tname: \"Adverse Wind\",\n\t\tshortDesc: \"Only Wind-type opponents can flee.\",\n\t\tonFoeTrapPokemon(pokemon) {\n\t\t\tif (pokemon.hasAbility(\"aircushion\")) return;\n\t\t\tif (!pokemon.isAdjacent(this.effectState.target)) return;\n\t\t\tif (!pokemon.hasType(\"Wind\")) {\n\t\t\t\tpokemon.tryTrap(true);\n\t\t\t}\n\t\t},\n\t\tonFoeMaybeTrapPokemon(pokemon, source) {\n\t\t\tif (!source) source = this.effectState.target;\n\t\t\tif (pokemon.hasAbility(\"aircushion\")) return;\n\t\t\tif (!source || !pokemon.isAdjacent(source)) return;\n\t\t\tif (!pokemon.hasType(\"Wind\")) {\n\t\t\t\tpokemon.maybeTrapped = true;\n\t\t\t}\n\t\t},\n\t},\n\taffinitytwist: {\n\t\tname: \"Affinity Twist\",\n\t\tshortDesc: \"Both parties super effective and resisted elements are reversed.\",\n\t\tonStart(target) {\n\t\t\tthis.add('-ability', target, 'Affinity Twist');\n\t\t},\n\t\tonEffectiveness(typeMod) {\n\t\t\treturn typeMod * -1;\n\t\t},\n\t\tonFoeEffectiveness(typeMod) {\n\t\t\treturn typeMod * -1;\n\t\t},\n\t},\n\taftermove: {\n\t\tname: \"After Move\",\n\t\tshortDesc: \"Attack power is boosted by 30% if the user's Speed is lower than the target's.\",\n\t\tonBasePower(basePower, pokemon, target) {\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (pokemon.getStat('spe') > target.getStat('spe')){\n\t\t\t\t\tthis.debug('After Move boost');\n\t\t\t\t\treturn this.chainModify(1.3);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\taggressive: {\n\t\tname: \"Aggressive\",\n\t\tshortDesc: \"Adjusts offensive stats based on the foe's defensive stats.\",\n\t\tonStart(pokemon) {\n\t\t\tlet totaldef = 0;\n\t\t\tlet totalspd = 0;\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\ttotaldef += target.getStat('def', false, true);\n\t\t\t\ttotalspd += target.getStat('spd', false, true);\n\t\t\t}\n\t\t\tif (totaldef && totaldef >= totalspd) {\n\t\t\t\tthis.boost({spa: 1});\n\t\t\t} else if (totalspd) {\n\t\t\t\tthis.boost({atk: 1});\n\t\t\t}\n\t\t},\n\t},\n\taircushion: {\n\t\tname: \"Air Cushion\",\n\t\tshortDesc: \"When hit by an Earth-type skill, damage is nullified. Ignores Adverse Wind ability. Ignores mine/poison trap.\",\n\t\t// airborneness implemented in sim/pokemon.js:Pokemon#isGrounded\n\t},\n\tantibody: {\n\t\tname: \"Antibody\",\n\t\tshortDesc: \"Immune to Poison and Heavy Poison statuses.\",\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.status['psn'] || pokemon.status['tox']) {\n\t\t\t\tpokemon.cureStatus(['psn', 'tox']);\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id !== 'psn' && status.id !== 'tox') return;\n\t\t\tif ((effect as Move)?.status) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Antibody');\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t},\n\tappeasedspirit: {\n\t\tname: \"Appeased Spirit\",\n\t\tshortDesc: \"When hit by a Nether-type skill, HP is restored.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Nether') {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Appeased Spirit');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tarmorpurge: {\n\t\tname: \"Armor Purge\",\n\t\tshortDesc: \"When hit by a FoAtk, FoDef decreases and Speed increases.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.category === \"Physical\")\n\t\t\t\tthis.boost({def: -1, atk: 1, spe: 1});\n\t\t},\n\t},\n\tascertainment: {\n\t\tname: \"Ascertainment\",\n\t\tshortDesc: \"Opponent's Ability does not boost their attacks.\",\n\t},\n\tassault: {\n\t\tname: \"Assault\",\n\t\tshortDesc: \"Attacks have a 10% chance of causing flinching.\",\n\t\tonModifyMovePriority: -1,\n\t\tonModifyMove(move) {\n\t\t\tif (move.category !== \"Status\") {\n\t\t\t\tif (!move.secondaries) move.secondaries = [];\n\t\t\t\tfor (const secondary of move.secondaries) {\n\t\t\t\t\tif (secondary.volatileStatus === 'flinch') return;\n\t\t\t\t}\n\t\t\t\tmove.secondaries.push({\n\t\t\t\t\tchance: 10,\n\t\t\t\t\tvolatileStatus: 'flinch',\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\tastronomy: { \n\t\tname: \"Astronomy\",\n\t\tshortDesc: \"BU skills have 1.2x power.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (move.flags.contact)\n\t\t\t\tthis.chainModify(1.2);\n\t\t},\n\t},\n\tauroragrace: {\n\t\tname: \"Aurora Grace\",\n\t\tshortDesc: \"During aurora, Sp.Def is increased by 50% and some HP is restored at the end of every turn.\",\n\t\tonModifySpD(relayVar, target, source, move) {\n\t\t\tif (this.field.isWeather(\"aurora\"))\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t\tonResidualOrder: 5,\n\t\tonResidualSubOrder: 4,\n\t\tonResidual(pokemon) {\n\t\t\tif (this.field.isWeather(\"aurora\"))\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 16);\n\t\t},\n\t},\n\tautoheal: {\n\t\tname: \"Auto Heal\",\n\t\tshortDesc: \"HP recovers every turn while not inflicted with a status ailment.\",\n\t\tonResidualOrder: 5,\n\t\tonResidualSubOrder: 4,\n\t\tonResidual(pokemon) {\n\t\t\tif (!pokemon.status)\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 16);\n\t\t},\n\t},\n\tavarice: {\n\t\tname: \"Avarice\",\n\t\tshortDesc: \"Afer KOing a Puppet: becomes Extra Yuuma-Avarice.\",\n\t\tonFoeFaint(target, source, effect) {\n\t\t\tif (source.species.forme !== 'Avarice' && effect.effectType === \"Move\" && target !== source) {\n\t\t\t\tthis.add('-activate', source, 'ability: Avarice');\n\t\t\t\tsource.formeChange(\"Extra Yuuma-Avarice\", this.effect, true);\n\t\t\t\tsource.heal(source.baseMaxhp / 8);\n\t\t\t}\n\t\t},\n\t},\n\tbadmedicine: {\n\t\tname: \"Bad Medicine\",\n\t\tshortDesc: \"Enemies will be hurt when they try to use HP leaching skills on you. Ignores Poison Labyrinth ability.\",\n\t\tonSourceTryHeal(damage, target, source, effect) {\n\t\t\tthis.debug(\"Heal is occurring: \" + target + \" <- \" + source + \" :: \" + effect.id);\n\t\t\tconst canOoze = ['drain', 'leechseed', 'strengthsap'];\n\t\t\tif (canOoze.includes(effect.id)) {\n\t\t\t\tthis.damage(damage);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t},\n\tbattlemania: {\n\t\tname: \"Battle Mania\",\n\t\tshortDesc: \"Opponents that are Fighting-type cannot flee or swap out.\",\n\t\tonFoeTrapPokemon(pokemon) {\n\t\t\tif (pokemon.hasType('Fightings'))\n\t\t\t\tpokemon.tryTrap(true);\n\t\t},\n\t\tonFoeMaybeTrapPokemon(pokemon, source?) {\n\t\t\tif (pokemon.hasType('Fightings'))\n\t\t\t\tpokemon.maybeTrapped = true;\n\t\t},\n\t},\n\tbenefitoffire: {\n\t\tname: \"Benefit of Fire\",\n\t\tshortDesc: \"When hit by a Fire-type skill, HP is restored.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Fires') {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Benefit of Fire');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tbibliophilia: {\n\t\tname: \"Bibliophilia\",\n\t\tshortDesc: \"When Extra Kosuzu is holding a youma scroll, a certain stat is doubled, and typing and ability is changed.\",\n\t\tonStart(pokemon) {\n\t\t\tconst youmascrolls = [\"youmascrollred\",\"youmascrollblue\",\"youmascrollblack\",\"youmascrollwhite\"];\n\t\t\tif (!youmascrolls.includes(pokemon.item) || pokemon.species.id !== \"extrakosuzu\") return;\n\n\t\t\tthis.add('-activate', pokemon, 'ability: Bibliophilia');\n\t\t\tswitch (pokemon.item) {\n\t\t\t\tcase \"youmascrollred\":\n\t\t\t\t\tpokemon.formeChange('Extra Kosuzu-Red', this.effect, true);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"youmascrollblue\":\n\t\t\t\t\tpokemon.formeChange('Extra Kosuzu-Blue', this.effect, true);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"youmascrollblack\":\n\t\t\t\t\tpokemon.formeChange('Extra Kosuzu-Black', this.effect, true);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"youmascrollwhite\":\n\t\t\t\t\tpokemon.formeChange('Extra Kosuzu-White', this.effect, true);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t},\n\tboundaryblurrer: {\n\t\tname: \"Boundary Blurrer\",\n\t\tshortDesc: \"During weather effects, FoAtk, FoDef, SpAtk, and SpDef are doubled.\",\n\t\tonModifyAtk(relayVar, source, target, move) {\n\t\t\tif (this.field.weather)\n\t\t\t\tthis.chainModify(2);\n\t\t},\n\t\tonModifyDef(relayVar, source, target, move) {\n\t\t\tif (this.field.weather)\n\t\t\t\tthis.chainModify(2);\n\t\t},\n\t\tonModifySpA(relayVar, source, target, move) {\n\t\t\tif (this.field.weather)\n\t\t\t\tthis.chainModify(2);\n\t\t},\n\t\tonModifySpD(relayVar, source, target, move) {\n\t\t\tif (this.field.weather)\n\t\t\t\tthis.chainModify(2);\n\t\t},\n\t},\n\tboundarysavior: {\n\t\tname: \"Boundary Savior\",\n\t\tshortDesc: \"During terrain effects, FoDef and SpDef are doubled. Will also recover from ailments at the end of each turn.\",\n\t\tonModifyDef(relayVar, source, target, move) {\n\t\t\tif (this.field.terrain)\n\t\t\t\tthis.chainModify(2);\n\t\t},\n\t\tonModifySpD(relayVar, source, target, move) {\n\t\t\tif (this.field.terrain)\n\t\t\t\tthis.chainModify(2);\n\t\t},\n\t\tonResidual(target, source, effect) {\n\t\t\tif (this.field.terrain) {\n\t\t\t\tfor (const foe of target.foes()) {\n\t\t\t\t\tfoe.damage(foe.baseMaxhp / 8, target, this.effect);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tbreather: {\n\t\tname: \"Breather\",\n\t\tshortDesc: \"During calm, Fo.Def is increased by 50% and some HP is restored at the end of every turn.\",\n\t\tonModifyDef(relayVar, source, target, move) {\n\t\t\tif (this.field.isWeather('calm'))\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t},\n\tbrightform: {\n\t\tname: \"Bright Form\",\n\t\tshortDesc: \"Void-type skills are treated as Light-type skills.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Void')  {\n\t\t\t\tmove.type = 'Lights';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\n\t\t},\n\t},\n\tbrutality: {\n\t\tname: \"Brutality\",\n\t\tshortDesc: \"SpAtk is boosted by 50% but accuracy is cut by 20%.\",\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(spa) {\n\t\t\treturn this.modify(spa, 1.5);\n\t\t},\n\t\tonSourceModifyAccuracyPriority: 7,\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\n\t\t\tif (move.category === 'Special' && typeof accuracy === 'number') {\n\t\t\t\treturn accuracy * 0.8;\n\t\t\t}\n\t\t},\n\t},\n\tbruteforce: {\n\t\tname: \"Brute Force\",\n\t\tshortDesc: \"User is able to ignore the foe's ability, but unable to use items.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Brute Force');\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreAbility = true;\n\t\t},\n\t},\n\tbyakuteismetal: {\n\t\tname: \"Byakutei's Metal\",\n\t\tshortDesc: \"Steel skills are 50% more powerful during Byakko. Fire-skill damage is halved.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\t\t\t\n\t\t\tif (move.type === 'Steels' && this.field.isTerrain('byakko'))\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (this.field.isTerrain('byakko') && effect.effectType === \"Move\" && effect.type === \"Fire\")\n\t\t\t\tthis.chainModify(0.5);\n\t\t},\n\t},\n\tcentralexpanse: {\n\t\tname: \"Central Expanse\",\n\t\tshortDesc: \"During Kohryu, your skills ignore the foe's ability. The user may also use held items and Quick Eye.\",\n\t\tonModifyMove(move) {\n\t\t\tif (this.field.isTerrain(\"kohryu\"))\n\t\t\t\tmove.ignoreAbility = true;\n\t\t},\n\t\tonFoeModifyBoost(boosts, pokemon) {\n\t\t\tif (!this.field.isTerrain(\"kohryu\"))\n\t\t\t\treturn;\n\n\t\t\tconst unawareUser = this.effectState.target;\n\t\t\tif (unawareUser === pokemon) return;\n\t\t\tif (unawareUser === this.activePokemon && pokemon === this.activeTarget) {\n\t\t\t\tboosts['def'] = 0;\n\t\t\t\tboosts['spd'] = 0;\n\t\t\t\tboosts['evasion'] = 0;\n\t\t\t}\n\t\t},\n\t},\n\tchaosinduction: {\n\t\tname: \"Chaos Induction\",\n\t\tshortDesc: \"Opponent has a 30% chance to become confused from any attack.\",\n\t\tonModifyMovePriority: -1,\n\t\tonModifyMove(move) {\n\t\t\tif (move.category !== \"Status\") {\n\t\t\t\tif (!move.secondaries) move.secondaries = [];\n\t\t\t\tfor (const secondary of move.secondaries) {\n\t\t\t\t\tif (secondary.volatileStatus === 'confusion') return;\n\t\t\t\t}\n\t\t\t\tmove.secondaries.push({\n\t\t\t\t\tchance: 30,\n\t\t\t\t\tvolatileStatus: 'confusion',\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\tcharge: {\n\t\tname: \"Charge!\",\n\t\tshortDesc: \"Attack damage is boosted by 30%, but their secondary effects never occur.\",\n\t\tonModifyMove(move, pokemon) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tdelete move.secondaries;\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\n\t\t\t\tmove.hasSheerForce = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\t\t\tif (move.hasSheerForce)\n\t\t\t\tthis.chainModify(1.3);\n\t\t},\n\t},\n\tcholeric: {\n\t\tname: \"Choleric\",\n\t\tshortDesc: \"The weather becomes Dust Storm.\",\n\t\tonStart(source) {\n\t\t\tthis.field.setWeather('duststorm');\n\t\t},\n\t},\n\tclearedmind: {\n\t\tname: \"Cleared Mind\",\n\t\tshortDesc: \"Immune to Burn and Heavy Burn statuses.\",\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id === \"brn\" || status.id === \"brnheavy\")\n\t\t\t\ttarget.clearStatus();\n\t\t},\n\t},\n\tcloakofdarkness: {\n\t\tname: \"Cloak of Darkness\",\n\t\tshortDesc: \"Restores HP when hit by a Dark-type skill and takes Damage against Light-type skills.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Darks' && !this.field.isTerrain('kohryu')) {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Cloak of Darkness');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonFoeBasePower(basePower, attacker, defender, move) {\n\t\t\tif (this.effectState.target !== defender) return;\n\t\t\tif (move.type === \"Light\")\n\t\t\t\tthis.chainModify(1.25);\n\t\t},\n\t\tonWeather(target, source, effect) {\n\t\t\tif (effect.id === 'heavyfog') {\n\t\t\t\ttarget.heal(target.baseMaxhp / 8);\n\t\t\t} else if (effect.id === 'aurora') {\n\t\t\t\ttarget.damage(target.baseMaxhp / 8, target, target);\n\t\t\t}\n\t\t},\n\t},\n\tcollectomaniac: {\n\t\tname: \"Collectomaniac\",\n\t\tshortDesc: \"If no item is held and you receive damage, you may take the foe's held item. Held items cannot be stolen.\",\n\t\tonAfterMoveSecondary(target, source, move) {\n\t\t\tif (!source.item) {\n\t\t\t\tsource.takeItem(target);\n\t\t\t}\n\t\t},\n\t\tonTakeItem(item, pokemon, source, move?) {\n\t\t\treturn false;\n\t\t},\n\t},\n\tcommonsenseless: {\n\t\tname: \"Common Senseless\",\n\t\tshortDesc: \"Ignores type immunities when attacking.\",\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreImmunity = true;\n\t\t},\n\t},\n\tcomposed: {\n\t\tname: \"Composed\",\n\t\tshortDesc: \"Immune to Upbeat.\",\n\t\trating: 2,\n\t\tonTryAddVolatile(status, target, source, effect) {\n\t\t\tif (['taunt'].includes(status.id)) {\n\t\t\t\tif (effect.effectType === 'Move') {\n\t\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\t\tthis.add('-block', target, 'ability: Composed', '[of] ' + effectHolder);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tcounterstance: {\n\t\tname: \"Counter Stance\",\n\t\tshortDesc: \"Damages the attacker when hit with a BU skill.\",\n\t\tonDamagingHitOrder: 2,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags.contact) {\n\t\t\t\tthis.damage(source.baseMaxhp / 8, source, target);\n\t\t\t}\n\t\t},\n\t},\n\tcuriosity: {\n\t\tname: \"Curiosity\",\n\t\tshortDesc: \"Support skills receive +1 to their priority.\",\n\t\tonModifyPriority(relayVar, source, target, move) {\n\t\t\tif (move.category === \"Status\")\n\t\t\t\treturn relayVar + 1;\n\t\t},\n\t},\n\tcursereturn: {\n\t\tname: \"Curse Return\",\n\t\tshortDesc: \"Reflects the effects of status skills back on the attacker.\",\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target === source || move.hasBounced || move?.category !== 'Status') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.actions.useMove(newMove, target, source);\n\t\t\treturn null;\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (target === source || move.hasBounced || move?.category !== 'Status') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.actions.useMove(newMove, this.effectState.target, source);\n\t\t\treturn null;\n\t\t},\n\t},\n\tdaredevil: {\n\t\tname: \"Daredevil\",\n\t\tshortDesc: \"FoAtk is boosted by 50% but accuracy is cut by 20%.\",\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk) {\n\t\t\treturn this.modify(atk, 1.5);\n\t\t},\n\t\tonSourceModifyAccuracyPriority: 7,\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\n\t\t\tif (move.category === 'Physical' && typeof accuracy === 'number') {\n\t\t\t\treturn accuracy * 0.8;\n\t\t\t}\n\t\t},\n\t},\n\tdarkforce: {\n\t\tname: \"Dark Force\",\n\t\tshortDesc: \"Opponent has 30% chance to become blinded from their focus attacks.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.category === \"Physical\") {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.trySetStatus('dark', target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tdeflective: {\n\t\tname: \"Deflective\",\n\t\tshortDesc: \"Skills you're immune to will increase your Fo.Def and Sp.Def by one stage.\",\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (this.dex.types.isName(type)) {\n\t\t\t\tthis.boost({def: 1, spd: 1});\n\t\t\t}\n\t\t},\n\t},\n\tdeploysmoke: {\n\t\tname: \"Deploy Smoke\",\n\t\tshortDesc: \"Lowers the opponent's FoAtk upon switch in.\",\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Deploy Smoke', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tdesolateform: {\n\t\tname: \"Desolate Form\",\n\t\tshortDesc: \"Void-type skills are treated as Earth-type skills.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Void')  {\n\t\t\t\tmove.type = 'Earths';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\n\t\t},\n\t},\n\tdesperation: {\n\t\tname: \"Desperation\",\n\t\tshortDesc: \"When poisoned, FoAtk is boosted by 50%.\",\n\t\tonModifyAtk(relayVar, source, target, move) {\n\t\t\tif (source.status[\"psn\"]) {\n\t\t\t\tthis.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t},\n\tdiscourager: {\n\t\tname: \"Discourager\",\n\t\tshortDesc: \"Reduces the opponent's FoAtk when hit by a skill that your barrier resists.\",\n\t\tonEffectiveness(typeMod, target, type, move) {\n\t\t\tif (move && move.category !== \"Status\" && typeMod < 0)\n\t\t\t\ttarget?.boostBy({atk: -1});\n\t\t},\n\t},\n\tdisjointedblow: {\n\t\tname: \"Disjointed Blow\",\n\t\tshortDesc: \"The power of super effective attacks is increased by 40%.\",\n\t\tonModifyDamage(damage, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\t\t\t\n\t\t\tif (move && target.getMoveHitData(move).typeMod > 0) {\n\t\t\t\treturn this.chainModify(1.4);\n\t\t\t}\n\t\t},\n\t},\n\tdisturber: {\n\t\tname: \"Disturber\",\n\t\tshortDesc: \"Reduces the foe's FoAtk or SpAtk when hit by a skill that your barrier resists.\",\n\t\tonEffectiveness(typeMod, target, type, move) {\n\t\t\tif (move && typeMod < 0) {\n\t\t\t\tif (move.category === \"Physical\")\n\t\t\t\t\ttarget?.boostBy({atk: -1});\n\t\t\t\telse if (move.category === \"Special\")\n\t\t\t\t\ttarget?.boostBy({spa: -1});\n\t\t\t}\n\t\t},\n\t},\n\tdivinefestival: {\n\t\tname: \"Divine Festival\",\n\t\tshortDesc: \"Status ailments are cured at the end of every turn during Sunshower.\",\n\t\tonResidual(target, source, effect) {\n\t\t\tif (this.field.isWeather('sunshower')) {\n\t\t\t\ttarget.clearStatus();\n\t\t\t}\n\t\t},\n\t},\n\tdivineprotection: {\n\t\tname: \"Divine Protection\",\n\t\tshortDesc: \"Stats cannot be lowered by the enemy.\",\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tlet showMsg = false;\n\t\t\tlet i: BoostID;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tdelete boost[i];\n\t\t\t\t\tshowMsg = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Divine Protection\", \"[of] \" + target);\n\t\t\t}\n\t\t},\n\t},\n\tdreamworld: {\n\t\tname: \"Dream World\",\n\t\tshortDesc: \"Stopped opponents take damage every turn.\",\n\t\tonResidualOrder: 28,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tif (!pokemon.hp) return;\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\tif (target.status['stp']) {\n\t\t\t\t\tthis.damage(target.baseMaxhp / 8, target, pokemon);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tdrunkard: {\n\t\tname: \"Drunkard\",\n\t\tshortDesc: \"Cannot attack consecutively, however it ignores the foe's ability.\",\n\t\tonStart(pokemon) {\n\t\t\tpokemon.removeVolatile('drunkard');\n\t\t\tif (pokemon.activeTurns && (pokemon.moveThisTurnResult !== undefined || !this.queue.willMove(pokemon))) {\n\t\t\t\tpokemon.addVolatile('drunkard');\n\t\t\t}\n\t\t},\n\t\tonBeforeMovePriority: 9,\n\t\tonBeforeMove(pokemon) {\n\t\t\tif (pokemon.removeVolatile('drunkard')) {\n\t\t\t\tthis.add('cant', pokemon, 'ability: Drunkard');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tpokemon.addVolatile('drunkard');\n\t\t},\n\t\tonModifyMove(move, pokemon, target) {\n\t\t\tmove.ignoreAbility = true;\n\t\t},\n\t\tcondition: {},\n\t},\n\tduel: {\n\t\tname: \"Duel\",\n\t\tshortDesc: \"Neither you nor your opponent will be able to miss.\",\n\t\tonModifyMove(move, pokemon, target) {\n\t\t\tmove.accuracy = true;\n\t\t},\n\t\tonFoeModifyMove(move, pokemon, target) {\n\t\t\tmove.accuracy = true;\n\t\t},\n\t},\n\teasternexpanse: {\n\t\tname: \"Eastern Expanse\",\n\t\tshortDesc: \"During Seiryu, same-type skills are 33% stronger.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\n\t\t\tif (this.field.isTerrain('seiryu') && source.hasType(move.type)) {\n\t\t\t\tthis.chainModify([4,3]);\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tif (this.field.isTerrain('seiryu')) move.ignoreImmunity = true;\n\t\t},\n\t},\n\teconomist: {\n\t\tname: \"Economist\",\n\t\tshortDesc: \"Charms may be restored after use. During calm, you will always restore them.\",\n\t\tonResidualOrder: 28,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tif (this.field.isWeather(['calm']) || this.randomChance(1, 2)) {\n\t\t\t\tif (pokemon.hp && !pokemon.item && this.dex.items.get(pokemon.lastItem).isBerry) {\n\t\t\t\t\tpokemon.setItem(pokemon.lastItem);\n\t\t\t\t\tpokemon.lastItem = '';\n\t\t\t\t\tthis.add('-item', pokemon, pokemon.getItem(), '[from] ability: Economist');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trating: 2.5,\n\t},\n\telectrification: {\n\t\tname: \"Electrification\",\n\t\tshortDesc: \"Opponent has 30% chance to become paralyzed from any attack.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\tsource.trySetStatus('par', target);\n\t\t\t}\n\t\t},\n\t},\n\telectromagnetic: {\n\t\tname: \"Electromagnetic\",\n\t\tshortDesc: \"When hit by an Electric-type skill, damage is nullified and SpAtk is raised.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Electrics') {\n\t\t\t\tif (!this.boost({spa: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Electromagnetic');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\temergencycure: {\n\t\tname: \"Emergency Cure\",\n\t\tshortDesc: \"Recovers from status ailments when switching out.\",\n\t\tonCheckShow(pokemon) {\n\t\t\t// This is complicated\n\t\t\t// For the most part, in-game, it's obvious whether or not Natural Cure activated,\n\t\t\t// since you can see how many of your opponent's pokemon are statused.\n\t\t\t// The only ambiguous situation happens in Doubles/Triples, where multiple pokemon\n\t\t\t// that could have Natural Cure switch out, but only some of them get cured.\n\t\t\tif (pokemon.side.active.length === 1) return;\n\t\t\tif (pokemon.showCure === true || pokemon.showCure === false) return;\n\n\t\t\tconst cureList = [];\n\t\t\tlet noCureCount = 0;\n\t\t\tfor (const curPoke of pokemon.side.active) {\n\t\t\t\t// pokemon not statused\n\t\t\t\tif (!curPoke?.status) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: not statused or doesn't exist\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (curPoke.showCure) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: Natural Cure already known\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst species = curPoke.species;\n\t\t\t\t// pokemon can't get Natural Cure\n\t\t\t\tif (!Object.values(species.abilities).includes('Emergency Cure')) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: no Natural Cure\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// pokemon's ability is known to be Natural Cure\n\t\t\t\tif (!species.abilities['1'] && !species.abilities['H']) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: only one ability\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// pokemon isn't switching this turn\n\t\t\t\tif (curPoke !== pokemon && !this.queue.willSwitch(curPoke)) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: not switching\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (curPoke.hasAbility('naturalcure')) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" confirmed: could be Natural Cure (and is)\");\n\t\t\t\t\tcureList.push(curPoke);\n\t\t\t\t} else {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" confirmed: could be Natural Cure (but isn't)\");\n\t\t\t\t\tnoCureCount++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!cureList.length || !noCureCount) {\n\t\t\t\t// It's possible to know what pokemon were cured\n\t\t\t\tfor (const pkmn of cureList) {\n\t\t\t\t\tpkmn.showCure = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// It's not possible to know what pokemon were cured\n\n\t\t\t\t// Unlike a -hint, this is real information that battlers need, so we use a -message\n\t\t\t\tthis.add('-message', \"(\" + cureList.length + \" of \" + pokemon.side.name + \"'s pokemon \" + (cureList.length === 1 ? \"was\" : \"were\") + \" cured by Emergency Cure.)\");\n\n\t\t\t\tfor (const pkmn of cureList) {\n\t\t\t\t\tpkmn.showCure = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tif (!pokemon.status) return;\n\n\t\t\t// if pokemon.showCure is undefined, it was skipped because its ability\n\t\t\t// is known\n\t\t\tif (pokemon.showCure === undefined) pokemon.showCure = true;\n\n\t\t\tpokemon.cureStatus();\n\n\t\t\t// only reset .showCure if it's false\n\t\t\t// (once you know a Pokemon has Natural Cure, its cures are always known)\n\t\t\tif (!pokemon.showCure) pokemon.showCure = undefined;\n\t\t},\n\t},\n\tempowered: {\n\t\tname: \"Empowered\",\n\t\tshortDesc: \"EN skills have 1.2x power.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (!move.flags.contact)\n\t\t\t\tthis.chainModify(1.2);\n\t\t},\n\t},\n\tfasttalker: {\n\t\tname: \"Fast Talker\",\n\t\tshortDesc: \"Two-turn skills can be used in one turn but have 0.9x power.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\t\t\tif (move.volatileStatus === \"twoturnmove\") {\n\t\t\t\tthis.chainModify(0.9);\n\t\t\t}\n\t\t},\n\t\tonBeforeMove(source, target, move) {\n\t\t\tif (move.volatileStatus === \"twoturnmove\") {\n\t\t\t\tdelete move.volatileStatus;\n\t\t\t}\n\t\t},\n\t},\n\tfinalform: {\n\t\tname: \"Final Form\",\n\t\tshortDesc: \"Boosts same-type skills when HP is less than 1/3.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\n\t\t\tif (source.hasType(move.type) && source.hp <= source.baseMaxhp / 3) {\n\t\t\t\tthis.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t},\n\tfirsthit: {\n\t\tname: \"First Hit\",\n\t\tshortDesc: \"Attack power is boosted by 20% when moving first.\",\n\t\tonBasePower(basePower, pokemon, target) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\n\t\t\tlet boosted = true;\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (!this.queue.willMove(target)) {\n\t\t\t\t\tboosted = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boosted) {\n\t\t\t\tthis.debug('First Hit boost');\n\t\t\t\treturn this.chainModify(1.2);\n\t\t\t}\n\t\t},\n\t},\n\tflaminggarment: {\n\t\tname: \"Flaming Garment\",\n\t\tshortDesc: \"Opponent has a 30% chance to become burned from any attack.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\tsource.trySetStatus('brn', target);\n\t\t\t}\n\t\t},\n\t},\n\tflash: {\n\t\tname: \"Flash\",\n\t\tshortDesc: \"During aurora, Speed is doubled.\",\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather(\"aurora\")) {\n\t\t\t\tthis.chainModify(2);\n\t\t\t}\n\t\t},\n\t},\n\tflatspeed: {\n\t\tname: \"Flat Speed\",\n\t\tshortDesc: \"Lowers increased priority skills to 0 for both sides.\",\n\t\tonModifyPriorityPriority: -1,\n\t\tonModifyPriority(relayVar, source, target, move) {\n\t\t\tif (move.priority > 0)\n\t\t\t\treturn 0;\n\t\t},\n\t\tonFoeModifyPriority(relayVar, source, target, move) {\n\t\t\tif (move.priority > 0)\n\t\t\t\treturn 0;\n\t\t},\n\t},\n\tflawless: {\n\t\tname: \"Flawless\",\n\t\tshortDesc: \"Evasion against status and stat changing skills is increased.\",\n\t\tonModifyAccuracyPriority: 10,\n\t\tonModifyAccuracy(accuracy, target, source, move) {\n\t\t\tif (move.category === 'Status' && typeof accuracy === 'number') {\n\t\t\t\tthis.debug('Flawless - setting accuracy to 50');\n\t\t\t\treturn 50;\n\t\t\t}\n\t\t},\n\t},\n\tflexible: {\n\t\tname: \"Flexible\",\n\t\tshortDesc: \"Immune to Paralysis and Shock statuses.\",\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id === \"par\" || status.id === \"shk\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\tfogtraveler: {\n\t\tname: \"Fog Traveler\",\n\t\tshortDesc: \"During heavy fog, Speed is doubled.\",\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('heavyfog')) {\n\t\t\t\tthis.chainModify(2);\n\t\t\t}\n\t\t},\n\t},\n\tforceofnature: {\n\t\tname: \"Force of Nature\",\n\t\tshortDesc: \"When hit by a Nature-type skill, damage is nullified and SpAtk is raised.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Nature') {\n\t\t\t\tif (!target.boostBy({spa: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Cloak of Darkness');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tforwarddash: {\n\t\tname: \"Forward Dash\",\n\t\tshortDesc: \"The power of spread skills are doubled.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\n\t\t\tif (move.category === \"Special\") {\n\t\t\t\tthis.chainModify(2);\n\t\t\t}\n\t\t},\n\t},\n\tfoxswedding: {\n\t\tname: \"Fox's Wedding\",\n\t\tshortDesc: \"Doubles Speed during Sunshower.\",\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('sunshower')) {\n\t\t\t\tthis.chainModify(2);\n\t\t\t}\n\t\t},\n\t},\n\tfrailhealth: {\n\t\tname: \"Frail Health\",\n\t\tshortDesc: \"This Puppet can only be damaged by supereffective moves and indirect damage.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target === source || move.category === 'Status' || move.type === '???' || move.id === 'struggle' || move.type === \"Dream\" || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\t\t\tthis.debug('Frail Health immunity: ' + move.id);\n\t\t\tif (target.runEffectiveness(move) <= 0) {\n\t\t\t\tif (move.smartTarget) {\n\t\t\t\t\tmove.smartTarget = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Frail Health');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tfreewill: {\n\t\tname: \"Free Will\",\n\t\tshortDesc: \"Immune to skill usage restrictions.\",\n\t\tonAllyTryAddVolatile(status, target, source, effect) {\n\t\t\tif (['attract', 'disable', 'encore', 'healblock', 'taunt', 'torment'].includes(status.id)) {\n\t\t\t\tif (effect.effectType === 'Move') {\n\t\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\t\tthis.add('-block', target, 'ability: Free Will', '[of] ' + effectHolder);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tfullpower: {\n\t\tname: \"Full Power\",\n\t\tshortDesc: \"Skills are 20% more powerful, but takes damage every turn.\",\n\t\tonModifyDamage(damage, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\n\t\t\treturn this.chainModify(1.2);\n\t\t},\n\t\tonAfterMoveSecondary(source, target, move) {\n\t\t\tif (source && source !== target && move && move.category !== 'Status' && !source.forceSwitchFlag) {\n\t\t\t\tthis.damage(source.baseMaxhp / 10, source, source, this.dex.abilities.get('fullpower'));\n\t\t\t}\n\t\t},\n\t},\n\tgale: {\n\t\tname: \"Gale\",\n\t\tshortDesc: \"When inflicted with an ailment, Speed is boosted 50%. Speed drop from paralysis is ignored.\",\n\t\t//Para/Shock negation handled in respective conditions\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (pokemon.status) {\n\t\t\t\tthis.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t},\n\tgaleform: {\n\t\tname: \"Gale Form\",\n\t\tshortDesc: \"Void-type skills are treated as Wind-type skills.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Void')  {\n\t\t\t\tmove.type = 'Wind';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\n\t\t},\n\t},\n\tgeneralsform: {\n\t\tname: \"General's Form\",\n\t\tshortDesc: \"Void-type skills are treated as Fighting-type skills.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Void')  {\n\t\t\t\tmove.type = 'Fightings';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\n\t\t},\n\t},\n\tgenteiswater: {\n\t\tname: \"Gentei's Water\",\n\t\tshortDesc: \"Water skills are 50% more powerful during Genbu. Earth-skill damage is halved.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\t\t\t\n\t\t\tif (move.type === 'Waters' && this.field.isTerrain('genbu'))\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (this.field.isTerrain('genbu') && effect.effectType === \"Move\" && effect.type === \"Earth\")\n\t\t\t\tthis.chainModify(0.5);\n\t\t},\n\t},\n\tghostform: {\n\t\tname: \"Ghost Form\",\n\t\tshortDesc: \"Void-type skills are treated as Nether-type skills.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Void')  {\n\t\t\t\tmove.type = 'Nether';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\n\t\t},\n\t},\n\tglamorous: {\n\t\tname: \"Glamorous\",\n\t\tshortDesc: \"Reduces damage of attacks that penetrate your barrier.\",\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.effectType === \"Move\" && this.dex.getEffectiveness(effect.type, target) > 0)\n\t\t\t\tthis.chainModify(0.75);\n\t\t},\n\t},\n\tgoodmanagement: {\n\t\tname: \"Good Management\",\n\t\tshortDesc: \"Stat changes from skills and hold items are doubled.\",\n\t\tonChangeBoost(boost, target, source, effect) {\n\t\t\tif (effect && effect.id === 'zpower') return;\n\t\t\tlet i: BoostID;\n\t\t\tfor (i in boost) {\n\t\t\t\tboost[i]! *= 2;\n\t\t\t}\n\t\t},\n\t},\n\tgraceofwater: {\n\t\tname: \"Grace of Water\",\n\t\tshortDesc: \"When hit by a Water-type skill, HP is restored.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Waters') {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Grace of Water');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tgrandopening: {\n\t\tname: \"Grand Opening\",\n\t\tshortDesc: \"This Puppet's Light moves have +1 priority.\",\n\t\tonModifyPriority(relayVar, source, target, move) {\n\t\t\tif (move.type === \"Light\")\n\t\t\t\treturn relayVar + 1;\n\t\t},\n\t},\n\tharassment: {\n\t\tname: \"Harassment\",\n\t\tshortDesc: \"When your stats drop, so does the foe. When the foe's stats increase, your stats increase as well.\",\n\t\tonAfterBoost(boost, target, source, effect) {\n\t\t\tconsole.log(target.name + \" \" + source.name + \" \" + effect);\n\t\t\tif (effect?.name === 'Harassment' || effect?.name === 'Bronze Mirror') return;\n\t\t\tconst boostPlus = this.effectState.boosts;\n\t\t\tif(target.adjacentFoes().length == 0) return;\n\t\t\tconst pokemon = this.sample(target.adjacentFoes());\n\t\t\tlet i: BoostID;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tboostPlus[i] = (boostPlus[i] || 0) + boost[i]!;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.boost(this.effectState.boosts, pokemon);\n\t\t},\n\t\tonFoeAfterBoost(boost, target, source, effect) {\n\t\t\tif (effect?.name === 'Harassment' || effect?.name === 'Bronze Mirror') return;\n\t\t\tif (!this.effectState.boosts) this.effectState.boosts = {} as SparseBoostsTable;\n\t\t\tconst boostPlus = this.effectState.boosts;\n\t\t\tlet i: BoostID;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! > 0) {\n\t\t\t\t\tboostPlus[i] = (boostPlus[i] || 0) + boost[i]!;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonAnySwitchInPriority: -3,\n\t\tonAnySwitchIn() {\n\t\t\tif (!this.effectState.boosts || !this.effectState.target) return;\n\t\t\tconsole.log(\"1: \" + this.effectState.boosts['spa'] + \" \" + this.effectState.target.name);\n\t\t\tthis.boost(this.effectState.boosts, this.effectState.target);\n\t\t\tdelete this.effectState.boosts;\n\t\t\tdelete this.effectState.target;\n\t\t},\n\t\tonAnyAfterMove() {\n\t\t\tif (!this.effectState.boosts || !this.effectState.target) return;\n\t\t\tconsole.log(\"2: \" + this.effectState.boosts['spa'] + \" \" + this.effectState.target.name);\n\t\t\tthis.boost(this.effectState.boosts, this.effectState.target);\n\t\t\tdelete this.effectState.boosts;\n\t\t\tdelete this.effectState.target;\n\t\t},\n\t\tonResidualOrder: 29,\n\t\tonResidual(pokemon) {\n\t\t\tif (!this.effectState.boosts || !this.effectState.target) return;\n\t\t\tconsole.log(\"3: \" + this.effectState.boosts['spa'] + \" \" + this.effectState.target.name);\n\t\t\tthis.boost(this.effectState.boosts, this.effectState.target);\n\t\t\tdelete this.effectState.boosts;\n\t\t\tdelete this.effectState.target;\n\t\t},\n\t\tonEnd() {\n\t\t\tdelete this.effectState.boosts;\n\t\t\tdelete this.effectState.target;\n\t\t},\n\t},\n\thateincarnate: {\n\t\tname: \"Hate Incarnate\",\n\t\tshortDesc: \"Damages the opponent if fainting is caused by an attack of 70 or more BP.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (!target.hp && move.basePower >= 70)\n\t\t\t\tsource.damage(source.baseMaxhp / 8);\n\t\t},\n\t},\n\thealingpower: {\n\t\tname: \"Healing Power\",\n\t\tshortDesc: \"Recovers 1/3 of maximum HP when switching out.\",\n\t\tonSwitchOut(pokemon) {\n\t\t\tif(!pokemon.status.includes('weak')) \n\t\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t},\n\thobgoblin: {\n\t\tname: \"Hobgoblin\",\n\t\tshortDesc: \"Changes appearance to match that of the last Puppet in the party. Reverts after taking a hit.\",\n\t\tonBeforeSwitchIn(pokemon) {\n\t\t\tpokemon.illusion = null;\n\t\t\tlet i;\n\t\t\tfor (i = pokemon.side.pokemon.length - 1; i > pokemon.position; i--) {\n\t\t\t\tif (!pokemon.side.pokemon[i]) continue;\n\t\t\t\tif (!pokemon.side.pokemon[i].fainted) break;\n\t\t\t}\n\t\t\tif (!pokemon.side.pokemon[i]) return;\n\t\t\tif (pokemon === pokemon.side.pokemon[i]) return;\n\t\t\tpokemon.illusion = pokemon.side.pokemon[i];\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (target.illusion) {\n\t\t\t\tthis.singleEvent('End', this.dex.abilities.get('Hobgoblin'), target.abilityData, target, source, move);\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tif (pokemon.illusion) {\n\t\t\t\tthis.debug('illusion cleared');\n\t\t\t\tpokemon.illusion = null;\n\t\t\t\tconst details = pokemon.species.name + (pokemon.level === 100 ? '' : ', L' + pokemon.level) +\n\t\t\t\t\t(pokemon.gender === '' ? '' : ', ' + pokemon.gender) + (pokemon.set.shiny ? ', shiny' : '');\n\t\t\t\tthis.add('replace', pokemon, details);\n\t\t\t\tthis.add('-end', pokemon, 'Hobgoblin');\n\t\t\t}\n\t\t},\n\t\tonFaint(pokemon) {\n\t\t\tpokemon.illusion = null;\n\t\t},\n\t},\n\thothead: {\n\t\tname: \"Hot Head\",\n\t\tshortDesc: \"FoAtk is increased after taking a critical hit.\",\n\t\tonHit(target, source, move) {\n\t\t\tif (!target.hp) return;\n\t\t\tif (move?.effectType === 'Move' && target.getMoveHitData(move).crit) {\n\t\t\t\ttarget.setBoost({atk: 6});\n\t\t\t\tthis.add('-setboost', target, 'atk', 12, '[from] ability: Hot Head');\n\t\t\t}\n\t\t},\n\t},\n\timmovable: {\n\t\tname: \"Immovable\",\n\t\tshortDesc: \"Immune to flinching.\",\n\t\tonTryAddVolatile(status, target, source, sourceEffect) {\n\t\t\tif (status.id === \"flinch\")\n\t\t\t\treturn false;\n\t\t},\n\t},\n\timposingstance: {\n\t\tname: \"Imposing Stance\",\n\t\tshortDesc: \"Damage is only received from skills.\",\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.effectType !== \"Move\")\n\t\t\t\treturn false;\n\t\t},\n\t},\n\timpulsive: {\n\t\tname: \"Impulsive\",\n\t\tshortDesc: \"Skills you're immune to will increase your Speed by one stage.\",\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (this.dex.types.isName(type))\n\t\t\t\tpokemon.boostBy({spd: 1});\n\t\t},\n\t},\n\tinsync: {\n\t\tname: \"In Sync\",\n\t\tshortDesc: \"When hit by an Warped-type skill, damage is nullified and any status ailment is cured.\",\n\t\tonTryHit(source, target, move) {\n\t\t\tif (target !== source && move.type === \"Warped\") {\n\t\t\t\tif (!source.clearStatus()) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: In Sync');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tindomitable: {\n\t\tname: \"Indomitable\",\n\t\tshortDesc: \"Cannot be OHKO'd. Will not receive critical hits either.\",\n\t\tonModifyCritRatioPriority: -1,\n\t\tonFoeModifyCritRatio(relayVar, source, target, move) {\n\t\t\tthis.chainModify(0);\n\t\t},\n\t\tonTryHit(source, target, move) {\n\t\t\tif (move.ohko) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Indomitable');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\tinfectious: {\n\t\tname: \"Infectious\",\n\t\tshortDesc: \"Spreads Infection through attacks that are below 95 BP.\",\n\t\tonAfterHit(source, target, move) {\n\t\t\tif (move.basePower <= 95) {\n\t\t\t\tthis.add('-ability', source, 'Infectious');\n\t\t\t\ttarget.setAbility('infectious');\n\t\t\t}\n\t\t},\n\t},\n\tinfiltration: {\n\t\tname: \"Infiltration\",\n\t\tshortDesc: \"Attacks ignore defensive fields.\",\n\t\tonModifyMove(move) {\n\t\t\tmove.infiltrates = true;\n\t\t},\n\t},\n\tinfinitechanges: {\n\t\tname: \"Infinite Changes\",\n\t\tshortDesc: \"Changes type to match skill immediately before use.\",\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (move.hasBounced || move.isFutureMove || move.sourceEffect === 'snatch') return;\n\t\t\tconst type = move.type;\n\t\t\tif (type && type !== '???' && source.getTypes().join() !== type) {\n\t\t\t\tif (!source.setType(type)) return;\n\t\t\t\tthis.effectState.protean = true;\n\t\t\t\tthis.add('-start', source, 'typechange', type, '[from] ability: Infinite Changes');\n\t\t\t}\n\t\t},\n\t},\n\tinsight: {\n\t\tname: \"Insight\",\n\t\tshortDesc: \"Easier to score critical hits.\",\n\t\tonModifyCritRatio(critRatio) {\n\t\t\treturn critRatio + 1;\n\t\t},\n\t},\n\tinstantwin: {\n\t\tname: \"Instant Win\",\n\t\tshortDesc: \"Your speed is increased by 50% on the first turn after entering the field.\",\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (!pokemon.activeTurns) return this.chainModify(1.5);\n\t\t},\n\t},\n\tintuition: {\n\t\tname: \"Intuition\",\n\t\tshortDesc: \"Blocks increased priority skills.\",\n\t\tonTryHit(source, target, move) {\n\t\t\tif (move.priority > 0) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Intuition');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\tinvalidate: {\n\t\tname: \"Invalidate\",\n\t\tshortDesc: \"Removes the opponent's Ability on entry.\",\n\t\tonSwitchIn(pokemon) {\n\t\t\tfor (const foe of pokemon.foes()) {\n\t\t\t\tfoe.addVolatile('gastroacid');\n\t\t\t}\n\t\t},\n\t},\n\tinversereaction: {\n\t\tname: \"Inverse Reaction\",\n\t\tshortDesc: \"When hit by a Light or Dark-type skill only half the damage is taken.\",\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.effectType === \"Move\" && (effect.type === \"Light\" || effect.type === \"Dark\")) {\n\t\t\t\tthis.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t},\n\tinversetoxin: {\n\t\tname: \"Inverse Toxin\",\n\t\tshortDesc: \"When poisoned, HP is restored instead of lost. Ignores Poison Labyrinth ability.\",\n\t\tonDamagePriority: 1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'psn' || effect.id === 'tox') {\n\t\t\t\tthis.heal(target.baseMaxhp / 8);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\tinvigorative: {\n\t\tname: \"Invigorative\",\n\t\tshortDesc: \"Skills you're immune to will increase your Fo.Atk by one stage.\",\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (this.dex.types.isName(type))\n\t\t\t\tpokemon.boostBy({atk: 1});\n\t\t},\n\t},\n\tironresolve: {\n\t\tname: \"Iron Resolve\",\n\t\tshortDesc: \"Cannot be forced to switch out.\",\n\t\tonDragOutPriority: 1,\n\t\tonDragOut(pokemon) {\n\t\t\tthis.add('-activate', pokemon, 'ability: Iron Resolve');\n\t\t\treturn null;\n\t\t},\n\t},\n\tjamming: {\n\t\tname: \"Jamming\",\n\t\tshortDesc: \"Reduces the opponent's Speed after receiving an attack of 80 or more BP.\",\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target !== source && effect.effectType === \"Move\" && effect.basePower >= 80) {\n\t\t\t\tsource.boostBy({spe: -1});\n\t\t\t}\n\t\t},\n\t},\n\tkarmicretribution: {\n\t\tname: \"Karmic Retribution\", //SANS UNDERTALE?????????????\n\t\tshortDesc: \"Damage the opponent after receiving an attack of 90 or more BP.\",\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target !== source && effect.effectType === \"Move\" && effect.basePower >= 90) {\n\t\t\t\tthis.add('-ability', target, 'Karmic Retribution');\n\t\t\t\tsource.damage(source.baseMaxhp/8);\n\t\t\t}\n\t\t},\n\t},\n\tknownlimits: {\n\t\tname: \"Known Limits\",\n\t\tshortDesc: \"Gives and receives less damage from skills that don't match the user's type.\",\n\t\tonBasePowerPriority: 19,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (!attacker.types.includes(move.type)) {\n\t\t\t\treturn this.chainModify(2, 3);\n\t\t\t}\n\t\t},\n\t\tonSourceBasePowerPriority: 17,\n\t\tonSourceBasePower(basePower, attacker, defender, move) {\n\t\t\tif (!attacker.types.includes(move.type)) {\n\t\t\t\treturn this.chainModify(2, 3);\n\t\t\t}\n\t\t},\n\t},\n\tkouteisearth: {\n\t\tname: \"Koutei's Earth\",\n\t\tshortDesc: \"Earth skills are 50% more powerful during Kohryu. Nature-skill damage is halved.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment'))\n\t\t\t\treturn;\n\t\t\t\n\t\t\tif (move.type === 'Earths' && this.field.isTerrain('kohryu'))\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (this.field.isTerrain('kohryu') && effect.effectType === \"Move\" && effect.type === \"Nature\")\n\t\t\t\tthis.chainModify(0.5);\n\t\t},\n\t},\n\tlastdefense: {\n\t\tname: \"Last Defense\",\n\t\tshortDesc: \"When inflicted with an ailment, FoDef is boosted by 50%.\",\n\t\tonModifyDef(relayVar, target, source, move) {\n\t\t\tif (source.status)\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t},\n\tlightcurtain: {\n\t\tname: \"Light Curtain\",\n\t\tshortDesc: \"During aurora, you're immune to confusion and status ailments are healed at the end of every turn.\",\n\t\tonResidual(target, source, effect) {\n\t\t\tif (this.field.isWeather('aurora')) {\n\t\t\t\ttarget.clearStatus();\n\t\t\t}\n\t\t},\n\t\tonTryAddVolatile(status, target, source, sourceEffect) {\n\t\t\tif (this.field.isWeather('aurora') && status.id === \"confusion\")\n\t\t\t\treturn false;\n\t\t},\n\t},\n\tlucky: {\n\t\tname: \"Lucky\",\n\t\tshortDesc: \"Secondary effects of skills have double the chance of occurring.\",\n\t\tonModifyMovePriority: -2,\n\t\tonModifyMove(move) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tthis.debug('doubling secondary chance');\n\t\t\t\tfor (const secondary of move.secondaries) {\n\t\t\t\t\tif (secondary.chance) secondary.chance *= 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (move.self?.chance) move.self.chance *= 2;\n\t\t},\n\t},\n\tmaintenance: {\n\t\tname: \"Maintenance\",\n\t\tshortDesc: \"30% chance to heal from ailments every turn.\",\n\t\tonResidual(target, source, effect) {\n\t\t\tif (this.randomChance(3,10)) {\n\t\t\t\tif (target.clearStatus()) {\n\t\t\t\t\tthis.add('-ability', target, 'Maintenance');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tmastersdefense: {\n\t\tname: \"Master's Defense\",\n\t\tshortDesc: \"When hit by a Fighting-type skill, damage is nullified and FoAtk is raised.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Fightings') {\n\t\t\t\tif (!this.boost({atk: 1})) {\n\t\t\t\t\tthis.add('-immune', target, \"[from] ability: Master's Defense\");\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tmelancholic: {\n\t\tname: \"Melancholic\",\n\t\tshortDesc: \"The weather becomes Heavy Fog.\",\n\t\tonStart(target) {\n\t\t\tthis.field.setWeather('heavyfog');\n\t\t},\n\t},\n\tmetallurgy: {\n\t\tname: \"Metallurgy\",\n\t\tshortDesc: \"When hit by a Steel-type skill, damage is nullified and FoAtk is raised.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Steels') {\n\t\t\t\tif (!this.boost({atk: 1})) {\n\t\t\t\t\tthis.add('-immune', target, \"[from] ability: Metallurgy\");\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tmidnightform: {\n\t\tname: \"Midnight Form\",\n\t\tshortDesc: \"Void-type skills are treated as Dark-type skills.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Void')  {\n\t\t\t\tmove.type = 'Darks';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\n\t\t},\n\t},\n\tmindlessdance: {\n\t\tname: \"Mindless Dance\",\n\t\tshortDesc: \"2-3 turn skills have no special effects, but are 10% less powerful.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (move.self && move.self.volatileStatus === \"lockedmove\") {\n\t\t\t\tthis.chainModify(0.9);\n\t\t\t\tmove.self.volatileStatus = null;\n\t\t\t}\n\t\t},\n\t},\n\tmindseye: {\n\t\tname: \"Mind's Eye\",\n\t\tshortDesc: \"When inflicted with a status FoAtk is boosted by 50%. FoAtk drop from blindness is ignored.\",\n\t\trating: 3.5,\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (pokemon.status) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t},\n\tmiraclemallet: {\n\t\tname: \"Miracle Mallet\",\n\t\tshortDesc: \"Defense Sukuna's FoAtk and FoDef are doubled.\",\n\t\tonModifyAtk(relayVar, source, target, move) {\n\t\t\tthis.chainModify(2);\n\t\t},\n\t\tonModifyDef(relayVar, source, target, move) {\n\t\t\tthis.chainModify(2);\n\t\t},\n\t},\n\tmodeshift: {\n\t\tname: \"Mode Shift\",\n\t\tshortDesc: \"Changes Extra Rika's form when using attack skills. Reverts using Supernatural Border.\",\n\t\tonBeforeMove(source, target, move) {\n\t\t\tif (move.category !== \"Status\" && source.species.id !== 'extrarikashift') {\n\t\t\t\tsource.formeChange(\"Extra Rika-Shift\", this.effect);\n\t\t\t}\n\t\t\telse if (move.id === \"supernaturalborder\" && source.species.id !== 'extrarika') {\n\t\t\t\tsource.formeChange(\"Extra Rika\", this.effect);\n\t\t\t}\n\t\t},\n\t},\n\tmoody: {\n\t\tname: \"Moody\", //yeah\n\t\tshortDesc: \"Every turn one random stat rises sharply and one random stat falls.\",\n\t\tonResidualOrder: 28,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tlet stats: BoostID[] = [];\n\t\t\tconst boost: SparseBoostsTable = {};\n\t\t\tlet statPlus: BoostID;\n\t\t\tfor (statPlus in pokemon.boosts) {\n\t\t\t\tif (statPlus === 'accuracy' || statPlus === 'evasion') continue;\n\t\t\t\tif (pokemon.boosts[statPlus] < 6) {\n\t\t\t\t\tstats.push(statPlus);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet randomStat: BoostID | undefined = stats.length ? this.sample(stats) : undefined;\n\t\t\tif (randomStat) boost[randomStat] = 2;\n\n\t\t\tstats = [];\n\t\t\tlet statMinus: BoostID;\n\t\t\tfor (statMinus in pokemon.boosts) {\n\t\t\t\tif (statMinus === 'accuracy' || statMinus === 'evasion') continue;\n\t\t\t\tif (pokemon.boosts[statMinus] > -6 && statMinus !== randomStat) {\n\t\t\t\t\tstats.push(statMinus);\n\t\t\t\t}\n\t\t\t}\n\t\t\trandomStat = stats.length ? this.sample(stats) : undefined;\n\t\t\tif (randomStat) boost[randomStat] = -1;\n\n\t\t\tthis.boost(boost, pokemon, pokemon);\n\t\t},\n\t},\n\tmoraleboost: {\n\t\tname: \"Morale Boost\",\n\t\tshortDesc: \"When an opponent is KO'd, FoAtk is raised.\",\n\t\tonFoeFaint(target, source, effect) {\n\t\t\tthis.boost({atk: 1});\n\t\t},\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tthis.boost({atk: length}, source);\n\t\t\t}\n\t\t}\n\t},\n\tnaturalform: {\n\t\tname: \"Natural Form\",\n\t\tshortDesc: \"Void-type skills are treated as Nature-type skills.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Void')  {\n\t\t\t\tmove.type = 'Nature';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\n\t\t},\n\t},\n\tnegativeaura: {\n\t\tname: \"Negative Aura\",\n\t\tshortDesc: \"When hit by a Dark-type skill, damage is nullified and FoAtk is raised.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Darks') {\n\t\t\t\tif (!this.boost({atk: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Negative Aura');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tniche: {\n\t\tname: \"Niche\",\n\t\tshortDesc: \"The power boost from same-type attacks is even higher.\",\n\t\tonModifyMove(move) {\n\t\t\tmove.stab = 2;\n\t\t},\n\t},\n\tnimble: {\n\t\tname: \"Nimble\",\n\t\tshortDesc: \"When a held charm is lost or consumed speed is doubled.\",\n\t\tonAfterUseItem(item, pokemon) {\n\t\t\tif (pokemon !== this.effectState.target) return;\n\t\t\tpokemon.addVolatile('nimble');\n\t\t},\n\t\tonTakeItem(item, pokemon) {\n\t\t\tpokemon.addVolatile('nimble');\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tpokemon.removeVolatile('nimble');\n\t\t},\n\t\tcondition: {\n\t\t\tonModifySpe(spe, pokemon) {\n\t\t\t\tif (!pokemon.item && !pokemon.ignoringAbility()) {\n\t\t\t\t\treturn this.chainModify(2);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\tnorthernexpanse: {\n\t\tname: \"Northern Expanse\",\n\t\tshortDesc: \"During Genbu, speed is halved.\",\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('genbu'))\n\t\t\t\tthis.chainModify(0.5);\n\t\t},\n\t},\n\tontheedge: {\n\t\tname: \"On the Edge\",\n\t\tshortDesc: \"At 1 HP, Speed is tripled and attacks do 30% more damage.\",\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (pokemon.hp === 1)\n\t\t\t\tthis.chainModify(3);\n\t\t},\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (source.hp === 1)\n\t\t\t\tthis.chainModify(1.3);\n\t\t},\n\t},\n\toptimist: {\n\t\tname: \"Optimist\",\n\t\tshortDesc: \"Immune to confusion.\",\n\t\tonTryAddVolatile(status, target, source, sourceEffect) {\n\t\t\tif (status.id === \"confusion\") {\n\t\t\t\tthis.add('-immune', target, \"[from] ability: Optimist\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\tovercompensate: {\n\t\tname: \"Overcompensate\",\n\t\tshortDesc: \"Draining skills absorb 30% more HP.\",\n\t},\n\toverwhelm: {\n\t\tname: \"Overwhelm\",\n\t\tshortDesc: \"Enemy Puppets cannot use charms.\",\n\t\tonPreStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Overwhelm');\n\t\t\tthis.effectState.unnerved = true;\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\tif (this.effectState.unnerved) return;\n\t\t\tthis.add('-ability', pokemon, 'Overwhelm');\n\t\t\tthis.effectState.unnerved = true;\n\t\t},\n\t\tonEnd() {\n\t\t\tthis.effectState.unnerved = false;\n\t\t},\n\t\tonFoeTryEatItem() {\n\t\t\treturn !this.effectState.unnerved;\n\t\t},\n\t\tonTryEatItem() {\n\t\t\treturn !this.effectState.unnerved;\n\t\t},\n\t},\n\tpeaceful: {\n\t\tname: \"Peaceful\",\n\t\tshortDesc: \"Can always escape from battle. Trumps other locking abilities.\",\n\t\tonTrapPokemonPriority: -1,\n\t\tonTrapPokemon(pokemon) {\n\t\t\tpokemon.trapped = false;\n\t\t},\n\t\tonMaybeTrapPokemon(pokemon) {\n\t\t\tpokemon.maybeTrapped = false;\n\t\t},\n\t},\n\tphalanx: {\n\t\tname: \"Phalanx\",\n\t\tshortDesc: \"Adjusts defensive stats based on the foe's offensive stats.\",\n\t\tonStart(pokemon) {\n\t\t\tlet totalatk = 0;\n\t\t\tlet totalspa = 0;\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\ttotalatk += target.getStat('atk', false, true);\n\t\t\t\ttotalspa += target.getStat('spa', false, true);\n\t\t\t}\n\t\t\tif (totalatk && totalatk >= totalspa) {\n\t\t\t\tthis.boost({def: 1});\n\t\t\t} else if (totalspa) {\n\t\t\t\tthis.boost({spd: 1});\n\t\t\t}\n\t\t},\n\t},\n\tphlegmatic: {\n\t\tname: \"Phlegmatic\",\n\t\tshortDesc: \"The weather becomes Calm.\",\n\t\tonStart(target) {\n\t\t\tthis.field.setWeather('calm');\n\t\t},\n\t},\n\tplacid: {\n\t\tname: \"Placid\",\n\t\tshortDesc: \"For 5 turns Power Yukari's SpAtk and Speed are cut in half. Ability changes to Serious, afterwards.\",\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('placid');\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 5,\n\t\t\tonModifySpA(relayVar, source, target, move) {\n\t\t\t\tthis.chainModify(0.5);\n\t\t\t},\n\t\t\tonModifySpe(relayVar, source) {\n\t\t\t\tthis.chainModify(0.5);\n\t\t\t},\n\t\t\tonEnd(pokemon) {\n\t\t\t\tpokemon.setAbility('serious');\n\t\t\t},\n\t\t}\n\t},\n\tpoisonbody: {\n\t\tname: \"Poison Body\",\n\t\tshortDesc: \"After an attack, the opponent has a 30% chance to become poisoned.\",\n\t\tonModifyMove(move) {\n\t\t\tif (!move || move.target === 'self') return;\n\t\t\tif (!move.secondaries) {\n\t\t\t\tmove.secondaries = [];\n\t\t\t}\n\t\t\tmove.secondaries.push({\n\t\t\t\tchance: 30,\n\t\t\t\tstatus: 'psn',\n\t\t\t\tability: this.dex.abilities.get('poisonbody'),\n\t\t\t});\n\t\t},\n\t},\n\tpoisonlabyrinth: {\n\t\tname: \"Poison Labyrinth\",\n\t\tshortDesc: \"Only Poison-type opponents can flee.\",\n\t\tonFoeTrapPokemon(pokemon) {\n\t\t\tif (!pokemon.hasType('Poisons') && !pokemon.hasAbility(['inversetoxin', 'strictdosage']))\n\t\t\t\tpokemon.tryTrap(true);\n\t\t},\n\t\tonFoeMaybeTrapPokemon(pokemon, source?) {\n\t\t\tif (!pokemon.hasType('Poisons') && !pokemon.hasAbility(['inversetoxin', 'strictdosage']))\n\t\t\t\tpokemon.maybeTrapped = true;\n\t\t},\n\t},\n\tpoisonthorns: {\n\t\tname: \"Poison Thorns\",\n\t\tshortDesc: \"Opponent has 30% chance to become poisoned from any attack.\",\n\t\tonFoeDamagingHit(damage, target, source, move) {\n\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\ttarget.trySetStatus('psn', source);\n\t\t\t}\n\t\t},\n\t},\n\tpokerface: {\n\t\tname: \"Poker Face\",\n\t\tshortDesc: \"Ignores the secondary skill effects from attackers.\",\n\t\tonFoeModifySecondaries(secondaries, target, source, move) {\n\t\t\treturn null;\n\t\t},\n\t},\n\tpositive: {\n\t\tname: \"Positive\",\n\t\tshortDesc: \"When a stat is decreased SpAtk is raised sharply.\",\n\t\tonAfterEachBoost(boost, target, source, effect) {\n\t\t\tif (!source || target.isAlly(source)) {\n\t\t\t\tif (effect.id === 'stickyweb') {\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Competitive only affects stats lowered by foes.\", true, source.side);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet statsLowered = false;\n\t\t\tlet i: BoostID;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tstatsLowered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (statsLowered) {\n\t\t\t\tthis.boost({spa: 2}, target, target, null, false, true);\n\t\t\t}\n\t\t},\n\t},\n\tpreciseaim: {\n\t\tname: \"Precise Aim\",\n\t\tshortDesc: \"Accuracy cannot be lowered. Ignores the foe's Evasion modifiers. Never-miss attacks are 50% stronger.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (move.accuracy === true) {\n\t\t\t\tthis.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\n\t\t\t\tdelete boost.accuracy;\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Precise Aim\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreEvasion = true;\n\t\t},\n\t},\n\tpride: {\n\t\tname: \"Pride\",\n\t\tshortDesc: \"When inflicted with an ailment, SpAtk is boosted 50%. SpAtk drop from Fear is ignored.\",\n\t\tonModifySpA(relayVar, source, target, move) {\n\t\t\tif (source.status) {\n\t\t\t\tthis.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t},\n\tprojection: {\n\t\tname: \"Projection\",\n\t\tshortDesc: \"Copies your opponent's ability during battle.\",\n\t\tonStart(pokemon) {\n\t\t\t// n.b. only affects Hackmons\n\t\t\t// interaction with No Ability is complicated: https://www.smogon.com/forums/threads/pokemon-sun-moon-battle-mechanics-research.3586701/page-76#post-7790209\n\t\t\tif (pokemon.side.foe.active.some(foeActive => foeActive.ability === 'noability')) {\n\t\t\t\tthis.effectState.gaveUp = true;\n\t\t\t}\n\t\t\t// interaction with Ability Shield is similar to No Ability\n\t\t\tif (pokemon.hasItem('Ability Shield')) {\n\t\t\t\tthis.add('-block', pokemon, 'item: Ability Shield');\n\t\t\t\tthis.effectState.gaveUp = true;\n\t\t\t}\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (!pokemon.isStarted || this.effectState.gaveUp) return;\n\n\t\t\tconst additionalBannedAbilities = [\n\t\t\t\t// Zen Mode included here for compatability with Gen 5-6\n\t\t\t\t'noability', 'flowergift', 'forecast', 'hungerswitch', 'illusion', 'imposter', 'neutralizinggas', 'powerofalchemy', 'receiver', 'trace', 'zenmode',\n\t\t\t];\n\t\t\tconst possibleTargets = pokemon.side.foe.active.filter(target => (\n\t\t\t\t!target.getAbility().isPermanent && !additionalBannedAbilities.includes(target.ability)\n\t\t\t));\n\t\t\tif (!possibleTargets.length) return;\n\n\t\t\tconst target = this.sample(possibleTargets);\n\t\t\tconst ability = target.getAbility();\n\t\t\tif (pokemon.setAbility(ability)) {\n\t\t\t\tthis.add('-ability', pokemon, ability, '[from] ability: Projection', '[of] ' + target);\n\t\t\t}\n\t\t},\n\t},\n\tquickeye: {\n\t\tname: \"Quick Eye\",\n\t\tshortDesc: \"Allows you to see the held item and ability of the opponent.\",\n\t\tonStart(pokemon) {\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\tif (target.item) {\n\t\t\t\t\tthis.add('-item', target, target.getItem().name, '[from] ability: Quick Eye', '[of] ' + pokemon, '[identify]');\n\t\t\t\t\tthis.add('-ability', target, target.getAbility().name, '[from] ability: Quick Eye', '[of] ' + pokemon, '[identify]');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\trecalibration: {\n\t\tname: \"Recalibration\",\n\t\tshortDesc: \"During calm, SpAtk and SpDef are boosted by 50%.\",\n\t\tonModifySpA(relayVar, source, target, move) {\n\t\t\tif (this.field.isWeather('calm'))\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t\tonModifySpD(relayVar, source, target, move) {\n\t\t\tif (this.field.isWeather('calm'))\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t},\n\treckless: {\n\t\tname: \"Reckless\",\n\t\tshortDesc: \"Damage dealt and recoil received by a recoil move is boosted by 20%.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (move.recoil)\n\t\t\t\tthis.chainModify(1.2);\n\t\t},\n\t},\n\trecoiloffset: {\n\t\tname: \"Recoil Offset\",\n\t\tshortDesc: \"Does not receive recoil damage.\",\n\t\tonModifyMove(move, pokemon, target) {\n\t\t\tif (move.recoil)\n\t\t\t\tdelete move.recoil;\n\t\t},\n\t},\n\treflectguard: {\n\t\tname: \"Reflect Guard\",\n\t\tshortDesc: \"Damages the attacker when hit with a EN skill.\",\n\t\tonDamagingHitOrder: 2,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (!move.flags.contact) {\n\t\t\t\tthis.damage(source.baseMaxhp / 8, source, target);\n\t\t\t}\n\t\t},\n\t},\n\tresonance: {\n\t\tname: \"Resonance\",\n\t\tshortDesc: \"Status ailments are reflected onto opponents when inflicted.\",\n\t\tonAfterSetStatus(status, target, source, effect) {\n\t\t\tif (!source || source === target) return;\n\t\t\tif (effect && effect.id === 'toxicspikes') return;\n\t\t\tthis.add('-activate', target, 'ability: Resonance');\n\t\t\tsource.setStatus(status, target);\n\t\t},\n\t},\n\trestraint: {\n\t\tname: \"Restraint\",\n\t\tshortDesc: \"If the foe uses a switch-out skill, they are unable to switch for 2 turns.\",\n\t\tonAnyModifyMove(move, pokemon) {\n\t\t\tif (pokemon.side === this.effectState.target.side) return;\n\t\t\tif (move.selfSwitch && !move.ignoreAbility) {\n\t\t\t\tdelete move.selfSwitch;\n\t\t\t\tthis.add('-message', `${pokemon.name} was restrained by ${this.effectState.target.name}!`);\n\t\t\t\tthis.add('-message', `${pokemon.name} is competely restricted!`);\n\t\t\t\tpokemon.addVolatile('restraint');\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 2,\n\t\t\tnoCopy: true,\n\t\t\tonTrapPokemon(pokemon) {\n\t\t\t\tpokemon.tryTrap();\n\t\t\t},\n\t\t\tonStart(target) {\n\t\t\t\tthis.add('-activate', target, 'restraint', '[silent]');\n\t\t\t},\n\t\t},\n\t},\n\treversefunction: {\n\t\tname: \"Reverse Function\",\n\t\tshortDesc: \"Opponent's stat changes are reversed.\",\n\t\tonFoeBoost(boost, target, source, effect) {\n\t\t\tlet i: BoostID;\n\t\t\tfor (i in boost) {\n\t\t\t\tboost[i]! *= -1;\n\t\t\t}\n\t\t},\n\t},\n\tsalvo: {\n\t\tname: \"Salvo\",\n\t\tshortDesc: \"Multi-Hit attacks always hit the maximum amount of times.\",\n\t\tonModifyMove(move) {\n\t\t\tif (move.multihit && Array.isArray(move.multihit) && move.multihit.length) {\n\t\t\t\tmove.multihit = move.multihit[1];\n\t\t\t}\n\t\t\tif (move.multiaccuracy) {\n\t\t\t\tdelete move.multiaccuracy;\n\t\t\t}\n\t\t},\n\t},\n\tsanddevil: {\n\t\tname: \"Sand Devil\",\n\t\tshortDesc: \"During dust storm, Speed is doubled. No sand damage is received.\",\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === \"duststorm\")\n\t\t\t\treturn false;\n\t\t},\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('duststorm')) {\n\t\t\t\tthis.chainModify(2);\n\t\t\t}\n\t\t},\n\t},\n\tsandforce: {\n\t\tname: \"Sand Force\",\n\t\tshortDesc: \"During dust storm, Fo.Atk is boosted by 30%. No sand damage is received\",\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === \"duststorm\")\n\t\t\t\treturn false;\n\t\t},\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (this.field.isWeather('duststorm')) {\n\t\t\t\tthis.chainModify(1.3);\n\t\t\t}\n\t\t},\n\t},\n\tsandmask: {\n\t\tname: \"Sand Mask\",\n\t\tshortDesc: \"During dust storm, Evasion is increased. No sand damage is received..\",\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === \"duststorm\")\n\t\t\t\treturn false;\n\t\t},\n\t\tonModifyAccuracyPriority: -1,\n\t\tonModifyAccuracy(accuracy) {\n\t\t\tif (typeof accuracy !== 'number') return;\n\t\t\tif (this.field.isWeather('duststorm')) {\n\t\t\t\tthis.debug('Sand Mask - decreasing accuracy');\n\t\t\t\treturn this.chainModify([4, 5]);\n\t\t\t}\n\t\t},\n\t},\n\tsanguine: {\n\t\tname: \"Sanguine\",\n\t\tshortDesc: \"The weather becomes Aurora.\",\n\t\tonStart(target) {\n\t\t\tthis.field.setWeather('aurora');\n\t\t},\n\t},\n\tsecretceremony: {\n\t\tname: \"Secret Ceremony\",\n\t\tshortDesc: \"[Semi-functional placeholder] Changes type based on terrain and weather.\",\n\t\tonStart(pokemon) {\n\t\t\tif (this.field.terrain) {\n\t\t\t\tpokemon.addVolatile('secretceremony');\n\t\t\t} else {\n\t\t\t\tconst types = pokemon.baseSpecies.types;\n\t\t\t\tif (pokemon.getTypes().join() === types.join() || !pokemon.setType(types)) return;\n\t\t\t\tthis.add('-start', pokemon, 'typechange', types.join('/'), '[from] ability: Secret Ceremony');\n\t\t\t\tthis.hint(\"Transform Secret Ceremony changes you to your original un-transformed types.\");\n\t\t\t}\n\t\t},\n\t\tonAnyTerrainStart() {\n\t\t\tconst pokemon = this.effectState.target;\n\t\t\tdelete pokemon.volatiles['secretceremony'];\n\t\t\tpokemon.addVolatile('secretceremony');\n\t\t},\n\t\tcondition: {\n\t\t\tonStart(pokemon) {\n\t\t\t\tlet weatherType = null;\n\t\t\t\tlet terrainType = null;\n\t\t\t\tswitch (pokemon.effectiveWeather()) {\n\t\t\t\t\tcase 'aurora':\n\t\t\t\t\t\tweatherType = 'Lights';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'calm':\n\t\t\t\t\t\tweatherType = 'Wind';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'duststorm':\n\t\t\t\t\t\tweatherType = 'Earths';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'heavyfog':\n\t\t\t\t\t\tweatherType = 'Darks';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'sunshower':\n\t\t\t\t\t\tweatherType = 'Warped';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tswitch (this.field.terrain) {\n\t\t\t\t\tcase 'byakko':\n\t\t\t\t\t\tterrainType = 'Steels';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'genbu':\n\t\t\t\t\t\tterrainType = 'Waters';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'kohryu':\n\t\t\t\t\t\tterrainType = 'Earths';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'seiryu':\n\t\t\t\t\t\tterrainType = 'Nature';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'suzaku':\n\t\t\t\t\t\tterrainType = 'Fires';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet newTypes:string[] = [];\n\t\t\t\tif(terrainType) newTypes.push(terrainType);\n\t\t\t\tif (!newTypes.length || pokemon.getTypes().join() === newTypes || !pokemon.setType(newTypes)) return;\n\t\t\t\tif (newTypes.length > 1 && newTypes[1] === newTypes[0]) newTypes.pop(); //Ensure monotype during Dust Storm + Kohryu\n\t\t\t\tthis.add('-start', pokemon, 'typechange', newTypes, '[from] ability: Secret Ceremony');\n\t\t\t},\n\t\t\tonUpdate(pokemon) {\n\t\t\t\tif (!this.field.terrain) {\n\t\t\t\t\tconst types = pokemon.species.types;\n\t\t\t\t\tif (pokemon.getTypes().join() === types.join() || !pokemon.setType(types)) return;\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Secret Ceremony');\n\t\t\t\t\tthis.add('-end', pokemon, 'typechange', '[silent]');\n\t\t\t\t\tpokemon.removeVolatile('secretceremony');\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\tseiteiswood: {\n\t\tname: \"Seitei's Wood\",\n\t\tshortDesc: \"Nature skills are 50% more powerful during Seiryu. Steel-skill damage is halved.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\t\t\t\n\t\t\tif (move.type === 'Nature' && this.field.isTerrain('seiryu'))\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (this.field.isTerrain('seiryu') && effect.effectType === \"Move\" && effect.type === \"Steel\")\n\t\t\t\tthis.chainModify(0.5);\n\t\t},\n\t},\n\tselfexorcism: {\n\t\tname: \"Self Exorcism\",\n\t\tshortDesc: \"When hit by a Nether-type skill FoAtk is raised.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Nether') {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Self Exorcism');\n\t\t\t\tthis.boost({atk: 1});\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tserious: {\n\t\tname: \"Serious\",\n\t\tshortDesc: \"Power Yukari's SpAtk and Speed increase one stage every turn.\",\n\t\tonResidual(target, source, effect) {\n\t\t\tthis.boost({spa: 1, spe: 1});\n\t\t},\n\t},\n\tsermon: {\n\t\tname: \"Sermon\",\n\t\tshortDesc: \"Opponent has a 30% chance to become weakened from any attack.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\tsource.trySetStatus('weak', target);\n\t\t\t}\n\t\t},\n\t},\n\tshadowstitch: {\n\t\tname: \"Shadow Stitch\",\n\t\tshortDesc: \"The opponent cannot flee or swap Puppets.\",\n\t\tonFoeTrapPokemon(pokemon) {\n\t\t\tif (!pokemon.isAdjacent(this.effectState.target)) return;\n\t\t\tpokemon.tryTrap(true);\n\t\t},\n\t\tonFoeMaybeTrapPokemon(pokemon, source) {\n\t\t\tif (!source) source = this.effectState.target;\n\t\t\tif (!source || !pokemon.isAdjacent(source)) return;\n\t\t\t\n\t\t\tpokemon.maybeTrapped = true;\n\t\t},\n\t},\n\tsilentrunning: {\n\t\tname: \"Silent Running\",\n\t\tshortDesc: \"During Calm, Speed is doubled.\",\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('calm'))\n\t\t\t\tthis.chainModify(2);\n\t\t},\n\t},\n\tsixthsense: {\n\t\tname: \"Sixth Sense\",\n\t\tshortDesc: \"Notifies you of barrier-penetrating skills your foe knows.\",\n\t\tonStart(target) {\n\t\t\tfor (const foe of target.foes()) {\n\t\t\t\tfor (const move of foe.moves) {\n\t\t\t\t\tif (this.dex.getEffectiveness(this.dex.moves.get(move), target) > 0) {\n\t\t\t\t\t\tthis.add('-activate', foe, 'ability: Sixth Sense', this.dex.moves.get(move).name, '[of] ' + target, '[identify]');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tskilledhand: {\n\t\tname: \"Skilled Hand\",\n\t\tshortDesc: \"Ignores the resistances of enemy barriers.\",\n\t\tonModifyDamage(damage, source, target, move) {\n\t\t\tif (target.getMoveHitData(move).typeMod < 0) {\n\t\t\t\tthis.debug('Skilled Hand boost');\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t},\n\tslowtempo: {\n\t\tname: \"Slow Tempo\",\n\t\tshortDesc: \"Always attacks second but receive 10% less damage.\",\n\t\tonFractionalPriority: -0.1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tthis.chainModify(0.9);\n\t\t},\n\t},\n\tsmoothsailing: {\n\t\tname: \"Smooth Sailing\",\n\t\tshortDesc: \"When hit by a Wind-type skill, damage is nullified and Speed is raised.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Wind') {\n\t\t\t\tif (!this.boost({spe: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Smooth Sailing');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tsniper: {\n\t\tname: \"Sniper\",\n\t\tshortDesc: \"Boosts the strength of critical hits.\",\n\t\tonModifyDamage(damage, source, target, move) {\n\t\t\tif (target.getMoveHitData(move).crit) {\n\t\t\t\tthis.debug('Sniper boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t},\n\tsomeguts: {\n\t\tname: \"Some Guts\",\n\t\tshortDesc: \"Damage the opponent after receiving an attack of 90 or more BP.\",\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target !== source && effect.effectType === \"Move\" && effect.basePower >= 90) {\n\t\t\t\tsource.damage(source.baseMaxhp/8);\n\t\t\t}\n\t\t},\n\t},\n\tsoreloser: {\n\t\tname: \"Sore Loser\",\n\t\tshortDesc: \"When a stat is decreased FoAtk is raised sharply.\",\n\t\tonAfterEachBoost(boost, target, source, effect) {\n\t\t\tif (!source || target.isAlly(source)) {\n\t\t\t\tif (effect.id === 'stickyweb') {\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Competitive only affects stats lowered by foes.\", true, source.side);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet statsLowered = false;\n\t\t\tlet i: BoostID;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tstatsLowered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (statsLowered) {\n\t\t\t\tthis.boost({atk: 2}, target, target, null, false, true);\n\t\t\t}\n\t\t},\n\t},\n\tsoundabsorb: {\n\t\tname: \"Sound Absorb\",\n\t\tshortDesc: \"When hit by a Sound-type skill, damage is nullified, FoAtk is raised, and SpAtk is raised.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Sounds') {\n\t\t\t\tif (!this.boost({atk: 1, spa: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Sound Absorb');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tsouthernexpanse: {\n\t\tname: \"Southern Expanse\",\n\t\tshortDesc: \"During Suzaku, your HP will recover a little bit each turn, ignoring Suzaku's effect.\",\n\t\tonResidual(target, source, effect) {\n\t\t\tif (this.field.isTerrain('suzaku')) {\n\t\t\t\tthis.heal(target.baseMaxhp / 16);\n\t\t\t}\n\t\t},\n\t},\n\tspiritofyang: {\n\t\tname: \"Spirit of Yang\",\n\t\tshortDesc: \"When hit by an Electric, Light, or Illusion-type skill, Speed is raised.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tconst affectedTypes = ['Electrics', 'Lights', 'Illusion'];\n\t\t\tif (target !== source && affectedTypes.includes(move.type)) {\n\t\t\t\tthis.chainModify(0.8);\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t}\n\t\t},\n\t},\n\tspiritofyin: {\n\t\tname: \"Spirit of Yin\",\n\t\tshortDesc: \"When hit by a Dark, Nether, or Poison-type skill, Speed is raised.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tconst affectedTypes = ['Darks', 'Nether', 'Poisons'];\n\t\t\tif (target !== source && affectedTypes.includes(move.type)) {\n\t\t\t\tthis.chainModify(0.8);\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t}\n\t\t},\n\t},\n\tstargazer: {\n\t\tname: \"Stargazer\",\n\t\tshortDesc: \"Weather skills last forever.\",\n\t\t//effect in conditions.ts\n\t},\n\tstimulative: {\n\t\tname: \"Stimulative\",\n\t\tshortDesc: \"Skills you're immune to will increase your Sp.Atk by one stage.\",\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (this.dex.types.isName(type))\n\t\t\t\tthis.boost({spa: 1});\n\t\t},\n\t},\n\tstonestacker: {\n\t\tname: \"Stone Stacker\",\n\t\tshortDesc: \"Status skills activate twice.\",\n\t\tonModifyMove(move, pokemon, target) {\n\t\t\tif (move.category === \"Status\") {\n\t\t\t\tif (move.multiaccuracy)\n\t\t\t\t\tdelete move.multiaccuracy;\n\t\t\t\tmove.multihit = 2;\n\t\t\t}\n\t\t},\n\t},\n\tstrangerainbow: {\n\t\tname: \"Strange Rainbow\",\n\t\tshortDesc: \"Boosts FoAtk by 30% during Sunshower.\",\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (this.field.isWeather(['sunshower'])) {\n\t\t\t\treturn this.chainModify(1.3);\n\t\t\t}\n\t\t},\n\t},\n\tstrategist: {\n\t\tname: \"Strategist\",\n\t\tshortDesc: \"Attacks with a base power of 60 or below are boosted by 50%.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (move.basePower <= 60)\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t},\n\tstreamform: {\n\t\tname: \"Stream Form\",\n\t\tshortDesc: \"Void-type skills are treated as Water-type skills.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Void')  {\n\t\t\t\tmove.type = 'Waters';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\n\t\t},\n\t},\n\tstrictdosage: {\n\t\tname: \"Strict Dosage\",\n\t\tshortDesc: \"When hit by a Poison-type skill, HP is restored. Ignores poison trap. Ignores Poison Labyrinth ability.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Poisons') {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Strict Dosage');\n\t\t\t\tthis.heal(target.baseMaxhp / 4);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tstrongsmile: {\n\t\tname: \"Strong Smile\",\n\t\tshortDesc: \"Opponent has a 30% chance to become afraid from their spread attacks.\",\n\t\tonFoeDamagingHit(damage, target, source, move) {\n\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\ttarget.trySetStatus('fear', source);\n\t\t\t}\n\t\t},\n\t},\n\tstubborn: {\n\t\tname: \"Stubborn\", //TODO - what are the \"certain skills\" prevented\n\t\tshortDesc: \"Cannot be OHKO'd. Neither of you can use certain skills either.\",\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.ohko) {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Stubborn');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: -30,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\n\t\t\t\tthis.add('-ability', target, 'Stubborn');\n\t\t\t\treturn target.hp - 1;\n\t\t\t}\n\t\t},\n\t},\n\tsupine: {\n\t\tname: \"Supine\",\n\t\tshortDesc: \"The weather becomes Sun Shower.\",\n\t\tonStart(target) {\n\t\t\tthis.field.setWeather('sunshower');\n\t\t},\n\t},\n\tsuppression: {\n\t\tname: \"Suppression\",\n\t\tshortDesc: \"When hit by an enemy skill there is a 30% chance to seal it.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (source.volatiles['disable']) return;\n\t\t\tif (!move.isMax && !move.isFutureMove && move.id !== 'struggle') {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.addVolatile('disable', this.effectState.target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tsurprisetactics: {\n\t\tname: \"Surprise Tactics\",\n\t\tshortDesc: \"During heavy fog, SpAtk is boosted by 50%. Damage is received at the end of the turn.\",\n\t\tonModifySpA(relayVar, source, target, move) {\n\t\t\tif (this.field.isWeather('heavyfog')) {\n\t\t\t\tthis.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonAfterMoveSecondary(target, source, move) {\n\t\t\tif (this.field.isWeather('heavyfog')) {\n\t\t\t\tsource.damage(source.baseMaxhp/8);\n\t\t\t}\n\t\t},\n\t},\n\tsuteisfire: {\n\t\tname: \"Sutei's Fire\",\n\t\tshortDesc: \"Fire skills are 50% more powerful during Suzaku. Water-skill damage is halved.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\n\t\t\t\treturn;\n\t\t\t\n\t\t\tif (move.type === 'Fires' && this.field.isTerrain('suzaku'))\n\t\t\t\tthis.chainModify(1.5);\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (this.field.isTerrain('suzaku') && effect.effectType === \"Move\" && effect.type === \"Water\")\n\t\t\t\tthis.chainModify(0.5);\n\t\t},\n\t},\n\ttelescopic: {\n\t\tname: \"Telescopic\",\n\t\tshortDesc: \"Accuracy is boosted by 30%.\",\n\t\tonModifyAccuracy(relayVar, target, source, move) {\n\t\t\tthis.chainModify(1.3);\n\t\t},\n\t},\n\tthreebodies: {\n\t\tname: \"Three Bodies\",\n\t\tshortDesc: \"Extra Hecatia's Form changes based on the class of skills used.\",\n\t\tonBeforeMove(source, target, move) {\n\t\t\tswitch (move.category) {\n\t\t\t\tcase \"Status\":\n\t\t\t\t\tif (source.species.id !== \"extrahecatia\") {\n\t\t\t\t\t\tthis.add('-activate', source, 'ability: Three Bodies');\n\t\t\t\t\t\tsource.formeChange(\"Extra Hecatia\");\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Physical\":\n\t\t\t\t\tif (source.species.id !== \"extrahecatiaearth\") {\n\t\t\t\t\t\tthis.add('-activate', source, 'ability: Three Bodies');\n\t\t\t\t\t\tsource.formeChange(\"Extra Hecatia-Earth\");\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Special\":\n\t\t\t\t\tif (source.species.id !== \"extrahecatiamoon\") {\n\t\t\t\t\t\tthis.add('-activate', source, 'ability: Three Bodies');\n\t\t\t\t\t\tsource.formeChange(\"Extra Hecatia-Moon\");\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t},\n\ttimegazer: {\n\t\tname: \"Timegazer\",\n\t\tshortDesc: \"Terrain skills last 8 turns.\",\n\t\t//Implemented in conditions.ts for each terrain condition\n\t},\n\ttrueadmin: {\n\t\tname: \"True Admin\",\n\t\tshortDesc: \"When HP is less than half FoAtk and SpAtk are halved.\",\n\t\tonModifyAtk(relayVar, pokemon) {\n\t\t\tif (pokemon.hp <= pokemon.baseMaxhp / 2) {\n\t\t\t\tthis.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpA(relayVar, pokemon) {\n\t\t\tif (pokemon.hp <= pokemon.baseMaxhp / 2) {\n\t\t\t\tthis.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t},\n\ttwoofakind: {\n\t\tname: \"Two of a Kind\",\n\t\tshortDesc: \"The power of skills go down by 40%, but you will do an additional attack.\",\n\t\tonBasePowerPriority: 7,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif(!this.field.isTerrain(\"kohryu\")) return this.chainModify(0.6);\n\t\t},\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (move.category === 'Status' || move.selfdestruct) return;\n\t\t\tif (['dynamaxcannon', 'endeavor', 'fling', 'iceball', 'rollout'].includes(move.id)) return;\n\t\t\tif (!move.flags['charge'] && !move.spreadHit && !move.isZ && !move.isMax) {\n\t\t\t\tif (move.multihit) { //Unline Parental Bond, Two of a Kind adds an additional hit to multihits\n\t\t\t\t\tif (typeof move.multihit !== 'number') {\n\t\t\t\t\t\tfor (let i = 0; i < move.multihit.length; i++) {\n\t\t\t\t\t\t\tmove.multihit[i]++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmove.multihit++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmove.multihit = 2;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSourceModifySecondaries(secondaries, target, source, move) {\n\t\t\tif (move.multihitType === 'twoofakind' && move.hit < 2) {\n\t\t\t\tif (move.recoil)\n\t\t\t\t\tdelete move.recoil;\n\t\t\t\tif (move.secondaries)\n\t\t\t\t\tdelete move.secondaries;\n\t\t\t}\n\t\t},\n\t},\n\tunbound: {\n\t\tname: \"Unbound\",\n\t\tshortDesc: \"Attacks ignore the foe's ability.\",\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreAbility = true;\n\t\t},\n\t},\n\tuniqueshield: {\n\t\tname: \"Unique Shield\",\n\t\tshortDesc: \"Only receive half damage from Focus Attacks.\",\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.effectType === \"Move\" && effect.category === \"Physical\") {\n\t\t\t\tthis.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t},\n\tunjustness: {\n\t\tname: \"Unjustness\",\n\t\tshortDesc: \"The enemy's SP consumption is increased by +1.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Unjustness');\n\t\t},\n\t\tonDeductPP(target, source) {\n\t\t\tif (target.isAlly(source)) return;\n\t\t\treturn 1;\n\t\t},\n\t},\n\tunwaveringheart: {\n\t\tname: \"Unwavering Heart\",\n\t\tshortDesc: \"When hit by an Illusion-type skill, damage is nullified and any status ailment is cured.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Illusion') {\n\t\t\t\tif(!target.clearStatus()){\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Unwavering Heart');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tunyieldingform: {\n\t\tname: \"Unyielding Form\",\n\t\tshortDesc: \"Void-type skills are treated as Steel-type skills.\",\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Void')  {\n\t\t\t\tmove.type = 'Steels';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\n\t\t},\n\t},\n\tuptempo: {\n\t\tname: \"Up Tempo\",\n\t\tshortDesc: \"Speed increases every turn.\",\n\t\tonResidualOrder: 28,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tif (pokemon.activeTurns) {\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t}\n\t\t},\n\t},\n\tusurpation: {\n\t\tname: \"Usurpation\",\n\t\tshortDesc: \"Inverts the stat changes.\",\n\t\tonChangeBoost(boost, target, source, effect) {\n\t\t\tlet i: BoostID;\n\t\t\tfor (i in boost) {\n\t\t\t\tboost[i]! *= -1;\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t},\n\tvanishingact: {\n\t\tname: \"Vanishing Act\",\n\t\tshortDesc: \"During heavy fog, evasion is increased.\",\n\t\tonModifyAccuracyPriority: -1,\n\t\tonModifyAccuracy(accuracy) {\n\t\t\tif (typeof accuracy !== 'number') return;\n\t\t\tif (this.field.isWeather(['heavyfog'])) {\n\t\t\t\tthis.debug('Vanishing Act - decreasing accuracy');\n\t\t\t\treturn this.chainModify(0.8);\n\t\t\t}\n\t\t},\n\t},\n\tvigorous: {\n\t\tname: \"Vigorous\",\n\t\tshortDesc: \"Takes half the turns to return from stop status.\",\n\t\t// Implemented in conditions.js\n\t},\n\tvisionbonus: {\n\t\tname: \"Vision Bonus\",\n\t\tshortDesc: \"Boosts the power of Illusion skills by 40%.\",\n\t\tonBasePowerPriority: 10,\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (move.type === \"Illusion\") {\n\t\t\t\tthis.chainModify(1.4);\n\t\t\t}\n\t\t},\n\t},\n\twariness: {\n\t\tname: \"Wariness\",\n\t\tshortDesc: \"Disables skills with 50 or less BP.\",\n\t\tonTryHitPriority: 30,\n\t\tonTryHit(source, target, move) {\n\t\t\tif (source !== target && move.category !== 'Status' && move.basePower <= 50) {\n\t\t\t\tthis.add('-immune', source, '[from] ability: Wariness');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\twarningshot: {\n\t\tname: \"Warning Shot\",\n\t\tshortDesc: \"Lowers the opponent's SpAtk upon switch in.\",\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Warning Shot', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({spa: -1}, target, pokemon, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\twasteful: {\n\t\tname: \"Wasteful\",\n\t\tshortDesc: \"Effects of held items are ignored.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.singleEvent('End', pokemon.getItem(), pokemon.itemState, pokemon);\n\t\t},\n\t},\n\tweatherresist: {\n\t\tname: \"Weather Resist\",\n\t\tshortDesc: \"This Puppet is immune to the effects of weather.\",\n\t\tonSwitchIn(pokemon) {\n\t\t\tthis.effectState.switchingIn = true;\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\tif (!this.effectState.switchingIn) {\n\t\t\t\tthis.add('-ability', pokemon, 'Weather Resist');\n\t\t\t\tthis.effectState.switchingIn = false;\n\t\t\t}\n\t\t\tthis.eachEvent('WeatherChange', this.effect);\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tthis.eachEvent('WeatherChange', this.effect);\n\t\t},\n\t\tsuppressWeather: true,\n\t},\n\twerehakutaku: {\n\t\tname: \"Were-Hakutaku\",\n\t\tshortDesc: \"When Defense Keine HP is less than half your form is changed.\",\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.species.forme !== \"Hakutaku\" && pokemon.hp <= pokemon.baseMaxhp / 2) {\n\t\t\t\tpokemon.formeChange(\"Defense Keine-Hakutaku\");\n\t\t\t}\n\t\t},\n\t},\n\twesternexpanse: {\n\t\tname: \"Western Expanse\",\n\t\tshortDesc: \"During Byakko, 100 acc skills power increases by 20%, no-miss skills power increases by 50%.\",\n\t\tonBasePower(relayVar, source, target, move) {\n\t\t\tif (this.field.isTerrain(\"byakko\")) {\n\t\t\t\tif (move.accuracy === 100) {\n\t\t\t\t\tthis.chainModify(1.2);\n\t\t\t\t}\n\t\t\t\telse if (move.accuracy === true) {\n\t\t\t\t\tthis.chainModify(1.5);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\twisdomeye: {\n\t\tname: \"Wisdom Eye\",\n\t\tshortDesc: \"Attacks ignore the opponent's stat gains other than speed.\",\n\t\tonAnyModifyBoost(boosts, pokemon) {\n\t\t\tconst unawareUser = this.effectState.target;\n\t\t\tif (unawareUser === pokemon) return;\n\t\t\tif (unawareUser === this.activePokemon && pokemon === this.activeTarget) {\n\t\t\t\tboosts['def'] = 0;\n\t\t\t\tboosts['spd'] = 0;\n\t\t\t\tboosts['evasion'] = 0;\n\t\t\t}\n\t\t\tif (pokemon === this.activePokemon && unawareUser === this.activeTarget) {\n\t\t\t\tboosts['atk'] = 0;\n\t\t\t\tboosts['def'] = 0;\n\t\t\t\tboosts['spa'] = 0;\n\t\t\t\tboosts['accuracy'] = 0;\n\t\t\t}\n\t\t},\n\t},\n\tworrywart: {\n\t\tname: \"Worrywart\",\n\t\tshortDesc: \"When HP is less than half the held charm is used.\",\n\t\tonStart(pokemon) {\n\t\t\tpokemon.abilityState.gluttony = true;\n\t\t},\n\t\tonDamage(item, pokemon) {\n\t\t\tpokemon.abilityState.gluttony = true;\n\t\t},\n\t},\n\tyatanokagami: {\n\t\tname: \"Yata no Kagami\",\n\t\tshortDesc: \"Takes half damage when at full HP.\",\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target.hp === target.baseMaxhp)\n\t\t\t\tthis.chainModify(0.5);\n\t\t},\n\t},\n\tzen: {\n\t\tname: \"Zen\",\n\t\tshortDesc: \"During calm, the user is immune to status ailments and recovers some HP at the end of every turn.\",\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (this.field.isWeather(\"calm\")) {\n\t\t\t\ttarget.clearStatus();\n\t\t\t}\n\t\t},\n\t\tonResidual(target, source, effect) {\n\t\t\tif (this.field.isWeather(\"calm\")) {\n\t\t\t\ttarget.heal(target.baseMaxhp / 16);\n\t\t\t}\n\t\t},\n\t},\n};\n"],
  "mappings": "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",
  "names": ["target"]
}

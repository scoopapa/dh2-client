{
  "version": 3,
  "sources": ["../../../../data/mods/inksrandbats/abilities.ts"],
  "sourcesContent": ["export const Abilities: {[abilityid: string]: AbilityData} = {\n\ticeface: {\n\t\tonStart(pokemon) {\n\t\t\tif (this.field.isWeather('hail') && (this.field.weatherData.layers !== 0) && pokemon.species.id === 'eiscuenoice' && !pokemon.transformed) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Ice Face');\n\t\t\t\tthis.effectState.busted = false;\n\t\t\t\tpokemon.formeChange('Eiscue', this.effect, true);\n\t\t\t} else if (this.field.isWeather('hail') && (this.field.weatherData.layers !== 0) && pokemon.species.id === 'castform' && !pokemon.transformed) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Ice Face');\n\t\t\t\tthis.effectState.busted = false;\n\t\t\t\tpokemon.formeChange('Castform-Snowy', this.effect, true);\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: 1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (\n\t\t\t\teffect && effect.effectType === 'Move' && effect.category === 'Physical' &&\n\t\t\t\t target.species.id === 'eiscue' || target.species.id === 'castformsnowy' && !target.transformed\n\t\t\t) {\n\t\t\t\tthis.add('-activate', target, 'ability: Ice Face');\n\t\t\t\tthis.effectState.busted = true;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\tonCriticalHit(target, type, move) {\n\t\t\tif (!target) return;\n\t\t\tif (move.category !== 'Physical' || target.species.id === 'eiscuenoice' || target.species.id === 'castform' || target.transformed) return;\n\t\t\tif (target.volatiles['substitute'] && !(move.flags['authentic'] || move.infiltrates)) return;\n\t\t\tif (!target.runImmunity(move.type)) return;\n\t\t\treturn false;\n\t\t},\n\t\tonEffectiveness(typeMod, target, type, move) {\n\t\t\tif (!target) return;\n\t\t\tif (move.category !== 'Physical' || target.species.id === 'eiscuenoice' || target.species.id === 'castform' || target.transformed) return;\n\t\t\tif (target.volatiles['substitute'] && !(move.flags['authentic'] || move.infiltrates)) return;\n\t\t\tif (!target.runImmunity(move.type)) return;\n\t\t\treturn 0;\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.species.id === 'eiscue' && this.effectState.busted) {\n\t\t\t\tpokemon.formeChange('Eiscue-Noice', this.effect, true);\n\t\t\t} else if (pokemon.species.id === 'castformsnowy' && this.effectState.busted) {\n\t\t\t\tpokemon.formeChange('Castform', this.effect, true);\n\t\t\t}\n\t\t},\n\t\tonAnyWeatherStart() {\n\t\t\tconst pokemon = this.effectState.target;\n\t\t\tif (this.field.isWeather('hail') && (this.field.weatherData.layers !== 0) && pokemon.species.id === 'eiscuenoice' && !pokemon.transformed) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Ice Face');\n\t\t\t\tthis.effectState.busted = false;\n\t\t\t\tpokemon.formeChange('Eiscue', this.effect, true);\n\t\t\t}\n\t\t\tif (this.field.isWeather('hail') && (this.field.weatherData.layers !== 0) && pokemon.species.id === 'castform' && !pokemon.transformed) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Ice Face');\n\t\t\t\tthis.effectState.busted = false;\n\t\t\t\tpokemon.formeChange('Castform-Snowy', this.effect, true);\n\t\t\t}\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Ice Face\",\n\t\trating: 3,\n\t\tnum: 248,\n\t},\n\n\tsnowwarning: {\n\t\tonStart(source) {\n\t\t\tthis.field.weatherData.layers++;\n\t\t\tthis.add('-activate', source, 'ability: Snow Warning');\n\t\t\tthis.hint(\"The hailstorm has worsened!\");\n\t\t},\n\t\tname: \"Snow Warning\",\n\t\trating: 4,\n\t\tnum: 117,\n\t},\n\n\tdrought: {\n\t\tonStart(source) { // Nullify hail\n\t\t\tthis.field.weatherData.layers = 0;\n\t\t\tthis.add('-activate', source, 'ability: Drought');\n\t\t\tthis.hint(\"The hailstorm has eased!\");\n\t\t},\n\t\tonSourceModifyDamage(damage, source, target, move) { // Water resist\n\t\t\tif (move.type === 'Water') {\n\t\t\t\tthis.debug('Drought resist');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonUpdate(pokemon) { // Cannot be frozen\n\t\t\tif (pokemon.status === 'frz') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Drought');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) { // Cannot be frozen\n\t\t\tif (type === 'frz') return false;\n\t\t},\n\t\tname: \"Drought\",\n\t\trating: 4,\n\t\tnum: 70,\n\t},\n\n\tslushrush: { // Doesn't activate on level 0 hail\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('hail') && (this.field.weatherData.layers !== 0)) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tname: \"Slush Rush\",\n\t\trating: 3,\n\t\tnum: 202,\n\t},\n\n\tsnowcloak: { // Doesn't activate on level 0 hail\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'hail') return false;\n\t\t},\n\t\tonModifyAccuracyPriority: 8,\n\t\tonModifyAccuracy(accuracy) {\n\t\t\tif (typeof accuracy !== 'number') return;\n\t\t\tif (this.field.isWeather('hail') && (this.field.weatherData.layers !== 0)) {\n\t\t\t\tthis.debug('Snow Cloak - decreasing accuracy');\n\t\t\t\treturn accuracy * 0.8;\n\t\t\t}\n\t\t},\n\t\tname: \"Snow Cloak\",\n\t\trating: 1.5,\n\t\tnum: 81,\n\t},\n\n\t// icebody: { // Doesn't activate on level 0 hail\n\t\t// onWeather(target, source, effect) {\n\t\t\t// if (effect.id === 'hail' && (this.field.weatherData.layers !== 0)) {\n\t\t\t\t// this.heal(target.baseMaxhp / 16);\n\t\t\t// }\n\t\t// },\n\t\t// onImmunity(type, pokemon) {\n\t\t\t// if (type === 'hail') return false;\n\t\t// },\n\t\t// name: \"Ice Body\",\n\t\t// rating: 1,\n\t\t// num: 115,\n\t// },\n\n\tflurryrush: { // Doesn't activate on level 0 hail\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('hail')) {\n\t\t\t\tif (this.field.weatherData.layers > 3) return this.chainModify(2.5);\n\t\t\t\telse if (this.field.weatherData.layers === 3) return this.chainModify(2);\n\t\t\t\telse if (this.field.weatherData.layers === 2) return this.chainModify(1.5);\n\t\t\t\telse if (this.field.weatherData.layers === 1) return;\n\t\t\t\telse return this.chainModify(0.75);\n\t\t\t}\n\t\t},\n\t\tname: \"Flurry Rush\",\n\t\trating: 3,\n\t\tnum: 202,\n\t},\n\n\ticebody: { // Alt version of Ice Body, that uses the variable hail damage amount, for something that REALLY needs a buff\n\t\tonWeather(target, source, effect) {\n\t\t\tif (effect.id === 'hail' && (this.field.weatherData.layers !== 0)) {\n\t\t\t\tthis.heal(target.baseMaxhp * (this.field.weatherData.layers / 16));\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'hail') return false;\n\t\t},\n\t\tname: \"Ice Body\",\n\t\trating: 1,\n\t\tnum: 115,\n\t},\n};\n"],
  "mappings": "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",
  "names": []
}

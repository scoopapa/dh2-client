{
  "version": 3,
  "sources": ["../../../../data/mods/inksrandbats/conditions.ts"],
  "sourcesContent": ["export const Conditions: {[k: string]: ConditionData} = {\n\thail: {\n\t\tname: 'Hail',\n\t\teffectType: 'Weather',\n\t\tduration: 0,\n\t\tonStart(battle) {\n\t\t\tthis.add('-weather', 'Hail');\n\t\t\tif (!battle.activeTurns) {\n\t\t\t\tthis.effectState.layers = 1;\n\t\t\t}\n\t\t\tthis.effectState.stage = 0;\n\t\t},\n\t\tonResidualOrder: 1,\n\t\tonResidual() {\n\t\t\tif (this.effectState.layers < 1) {\n\t\t\t\tthis.hint(\"The snow is falling gently.\");\n\t\t\t} else { this.add('-weather', 'Hail', '[upkeep]'); }\n\t\t\tif (this.field.isWeather('hail')) this.eachEvent('Weather');\n\t\t\tthis.effectState.stage++;\n\n\t\t\tif (this.effectState.stage > 2) {\n\t\t\t\tif (this.randomChance(1, 4)) {\n\t\t\t\t\tthis.effectState.layers = 0;\n\t\t\t\t\tthis.hint(\"The snow falls gently.\");\n\t\t\t\t} else if (this.randomChance(1, 4)) {\n\t\t\t\t\tthis.effectState.layers = 1;\n\t\t\t\t\tthis.hint(\"Hail is falling on the battlefield.\");\n\t\t\t\t} else if (this.randomChance(1, 4)) {\n\t\t\t\t\tthis.effectState.layers = 2;\n\t\t\t\t\tthis.hint(\"The hail is getting treacherous.\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.effectState.layers = 3;\n\t\t\t\t\tthis.hint(\"The hailstorm is blowing wildly!\");\n\t\t\t\t}\n\t\t\t\tthis.effectState.stage = 0;\n\t\t\t}\n\t\t},\n\t\tonWeather(target) {\n\t\t\tif (this.effectState.layers > 0) {\n\t\t\t\tthis.damage(target.baseMaxhp * (this.effectState.layers / 16));\n\t\t\t}\n\t\t},\n\t\tonEnd() {\n\t\t\tthis.add('-weather', 'none');\n\t\t},\n\n\t},\n\n\tsandstorm: {\n\t\tname: 'Sandstorm',\n\t\teffectType: 'Weather',\n\t\tduration: 0,\n\t\t// This should be applied directly to the stat before any of the other modifiers are chained\n\t\t// So we give it increased priority.\n\t\tonModifySpDPriority: 10,\n\t\tonModifySpD(spd, pokemon) {\n\t\t\tif (pokemon.hasType('Rock') && this.field.isWeather('sandstorm')) {\n\t\t\t\treturn this.modify(spd, 1.5);\n\t\t\t}\n\t\t},\n\t\tonStart(battle) {\n\t\t\tthis.add('-weather', 'Sandstorm');\n\t\t},\n\t\tonResidualOrder: 1,\n\t\tonResidual() {\n\t\t\tthis.add('-weather', 'Sandstorm', '[upkeep]');\n\t\t\tif (this.field.isWeather('sandstorm')) this.eachEvent('Weather');\n\t\t},\n\t\tonWeather(target) {\n\t\t\tthis.damage(target.baseMaxhp / 16);\n\t\t},\n\t\tonEnd() {\n\t\t\tthis.add('-weather', 'none');\n\t\t},\n\t},\n\n\tsunnyday: {\n\t\tname: 'SunnyDay',\n\t\teffectType: 'Weather',\n\t\tduration: 0,\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\tthis.debug('Sunny Day fire boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t\tif (move.type === 'Water') {\n\t\t\t\tthis.debug('Sunny Day water suppress');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonStart(battle) {\n\t\t\tthis.add('-weather', 'SunnyDay');\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (pokemon.hasItem('utilityumbrella')) return;\n\t\t\tif (type === 'frz') return false;\n\t\t},\n\t\tonResidualOrder: 1,\n\t\tonResidual() {\n\t\t\tthis.add('-weather', 'SunnyDay', '[upkeep]');\n\t\t\tthis.eachEvent('Weather');\n\t\t},\n\t\tonEnd() {\n\t\t\tthis.add('-weather', 'none');\n\t\t},\n\t},\n\n\traindance: {\n\t\tname: 'RainDance',\n\t\teffectType: 'Weather',\n\t\tduration: 0,\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\n\t\t\tif (move.type === 'Water') {\n\t\t\t\tthis.debug('rain water boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\tthis.debug('rain fire suppress');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonStart(battle) {\n\t\t\tthis.add('-weather', 'RainDance');\n\t\t},\n\t\tonResidualOrder: 1,\n\t\tonResidual() {\n\t\t\tthis.add('-weather', 'RainDance', '[upkeep]');\n\t\t\tthis.eachEvent('Weather');\n\t\t},\n\t\tonEnd() {\n\t\t\tthis.add('-weather', 'none');\n\t\t},\n\t},\n\n\tfrz: {\n\t\tname: 'frz',\n\t\teffectType: 'Status',\n\t\tonStart(target, source, sourceEffect) {\n\t\t\tif (sourceEffect && sourceEffect.effectType === 'Ability') {\n\t\t\t\tthis.add('-status', target, 'frz', '[from] ability: ' + sourceEffect.name, '[of] ' + source);\n\t\t\t} else {\n\t\t\t\tthis.add('-status', target, 'frz');\n\t\t\t}\n\t\t\tif (target.species.name === 'Shaymin-Sky' && target.baseSpecies.baseSpecies === 'Shaymin') {\n\t\t\t\ttarget.formeChange('Shaymin', this.effect, true);\n\t\t\t}\n\t\t\tthis.effectState.startTime = 2;\n\t\t\tthis.effectState.time = this.effectState.startTime;\n\t\t},\n\t\tonBeforeMovePriority: 10,\n\t\tonBeforeMove(pokemon, target, move) {\n\t\t\tif (move.flags['defrost']) return;\n\t\t\tif (this.effectState.time === 0) {\n\t\t\t\tpokemon.cureStatus();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.effectState.time--;\n\t\t\tthis.add('cant', pokemon, 'frz');\n\t\t\treturn false;\n\t\t},\n\t\tonModifyMove(move, pokemon) {\n\t\t\tif (move.flags['defrost']) {\n\t\t\t\tthis.add('-curestatus', pokemon, 'frz', '[from] move: ' + move);\n\t\t\t\tpokemon.setStatus('');\n\t\t\t}\n\t\t},\n\t\tonSourceModifyCritRatio(target, source, move) {\n\t\t\tif (!target) return;\n\t\t\treturn 5;\n\t\t},\n\t\tonCriticalHit(target, source, move) {\n\t\t\tif (move.category !== 'Status') {\n\t\t\t\tthis.hint('The attack shattered the ice!');\n\t\t\t\tthis.effectState.target.setStatus('');\n\t\t\t}\n\t\t},\n\t\tonHit(target, source, move) {\n\t\t\tif (move.thawsTarget || move.type === 'Fire' && move.category !== 'Status') {\n\t\t\t\ttarget.cureStatus();\n\t\t\t}\n\t\t},\n\t},\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,MAAM,aAA2C;AAAA,EACvD,MAAM;AAAA,IACL,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,QAAQ,QAAQ;AACf,WAAK,IAAI,YAAY,MAAM;AAC3B,UAAI,CAAC,OAAO,aAAa;AACxB,aAAK,YAAY,SAAS;AAAA,MAC3B;AACA,WAAK,YAAY,QAAQ;AAAA,IAC1B;AAAA,IACA,iBAAiB;AAAA,IACjB,aAAa;AACZ,UAAI,KAAK,YAAY,SAAS,GAAG;AAChC,aAAK,KAAK,6BAA6B;AAAA,MACxC,OAAO;AAAE,aAAK,IAAI,YAAY,QAAQ,UAAU;AAAA,MAAG;AACnD,UAAI,KAAK,MAAM,UAAU,MAAM;AAAG,aAAK,UAAU,SAAS;AAC1D,WAAK,YAAY;AAEjB,UAAI,KAAK,YAAY,QAAQ,GAAG;AAC/B,YAAI,KAAK,aAAa,GAAG,CAAC,GAAG;AAC5B,eAAK,YAAY,SAAS;AAC1B,eAAK,KAAK,wBAAwB;AAAA,QACnC,WAAW,KAAK,aAAa,GAAG,CAAC,GAAG;AACnC,eAAK,YAAY,SAAS;AAC1B,eAAK,KAAK,qCAAqC;AAAA,QAChD,WAAW,KAAK,aAAa,GAAG,CAAC,GAAG;AACnC,eAAK,YAAY,SAAS;AAC1B,eAAK,KAAK,kCAAkC;AAAA,QAC7C,OAAO;AACN,eAAK,YAAY,SAAS;AAC1B,eAAK,KAAK,kCAAkC;AAAA,QAC7C;AACA,aAAK,YAAY,QAAQ;AAAA,MAC1B;AAAA,IACD;AAAA,IACA,UAAU,QAAQ;AACjB,UAAI,KAAK,YAAY,SAAS,GAAG;AAChC,aAAK,OAAO,OAAO,aAAa,KAAK,YAAY,SAAS,GAAG;AAAA,MAC9D;AAAA,IACD;AAAA,IACA,QAAQ;AACP,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EAED;AAAA,EAEA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA;AAAA;AAAA,IAGV,qBAAqB;AAAA,IACrB,YAAY,KAAK,SAAS;AACzB,UAAI,QAAQ,QAAQ,MAAM,KAAK,KAAK,MAAM,UAAU,WAAW,GAAG;AACjE,eAAO,KAAK,OAAO,KAAK,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,QAAQ,QAAQ;AACf,WAAK,IAAI,YAAY,WAAW;AAAA,IACjC;AAAA,IACA,iBAAiB;AAAA,IACjB,aAAa;AACZ,WAAK,IAAI,YAAY,aAAa,UAAU;AAC5C,UAAI,KAAK,MAAM,UAAU,WAAW;AAAG,aAAK,UAAU,SAAS;AAAA,IAChE;AAAA,IACA,UAAU,QAAQ;AACjB,WAAK,OAAO,OAAO,YAAY,EAAE;AAAA,IAClC;AAAA,IACA,QAAQ;AACP,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EAEA,UAAU;AAAA,IACT,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,sBAAsB,QAAQ,UAAU,UAAU,MAAM;AACvD,UAAI,SAAS,QAAQ,iBAAiB;AAAG;AACzC,UAAI,KAAK,SAAS,QAAQ;AACzB,aAAK,MAAM,sBAAsB;AACjC,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AACA,UAAI,KAAK,SAAS,SAAS;AAC1B,aAAK,MAAM,0BAA0B;AACrC,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,QAAQ,QAAQ;AACf,WAAK,IAAI,YAAY,UAAU;AAAA,IAChC;AAAA,IACA,WAAW,MAAM,SAAS;AACzB,UAAI,QAAQ,QAAQ,iBAAiB;AAAG;AACxC,UAAI,SAAS;AAAO,eAAO;AAAA,IAC5B;AAAA,IACA,iBAAiB;AAAA,IACjB,aAAa;AACZ,WAAK,IAAI,YAAY,YAAY,UAAU;AAC3C,WAAK,UAAU,SAAS;AAAA,IACzB;AAAA,IACA,QAAQ;AACP,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EAEA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,sBAAsB,QAAQ,UAAU,UAAU,MAAM;AACvD,UAAI,SAAS,QAAQ,iBAAiB;AAAG;AACzC,UAAI,KAAK,SAAS,SAAS;AAC1B,aAAK,MAAM,kBAAkB;AAC7B,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AACA,UAAI,KAAK,SAAS,QAAQ;AACzB,aAAK,MAAM,oBAAoB;AAC/B,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,QAAQ,QAAQ;AACf,WAAK,IAAI,YAAY,WAAW;AAAA,IACjC;AAAA,IACA,iBAAiB;AAAA,IACjB,aAAa;AACZ,WAAK,IAAI,YAAY,aAAa,UAAU;AAC5C,WAAK,UAAU,SAAS;AAAA,IACzB;AAAA,IACA,QAAQ;AACP,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EAEA,KAAK;AAAA,IACJ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,QAAQ,QAAQ,QAAQ,cAAc;AACrC,UAAI,gBAAgB,aAAa,eAAe,WAAW;AAC1D,aAAK,IAAI,WAAW,QAAQ,OAAO,qBAAqB,aAAa,MAAM,UAAU,MAAM;AAAA,MAC5F,OAAO;AACN,aAAK,IAAI,WAAW,QAAQ,KAAK;AAAA,MAClC;AACA,UAAI,OAAO,QAAQ,SAAS,iBAAiB,OAAO,YAAY,gBAAgB,WAAW;AAC1F,eAAO,YAAY,WAAW,KAAK,QAAQ,IAAI;AAAA,MAChD;AACA,WAAK,YAAY,YAAY;AAC7B,WAAK,YAAY,OAAO,KAAK,YAAY;AAAA,IAC1C;AAAA,IACA,sBAAsB;AAAA,IACtB,aAAa,SAAS,QAAQ,MAAM;AACnC,UAAI,KAAK,MAAM,SAAS;AAAG;AAC3B,UAAI,KAAK,YAAY,SAAS,GAAG;AAChC,gBAAQ,WAAW;AACnB;AAAA,MACD;AACA,WAAK,YAAY;AACjB,WAAK,IAAI,QAAQ,SAAS,KAAK;AAC/B,aAAO;AAAA,IACR;AAAA,IACA,aAAa,MAAM,SAAS;AAC3B,UAAI,KAAK,MAAM,SAAS,GAAG;AAC1B,aAAK,IAAI,eAAe,SAAS,OAAO,kBAAkB,IAAI;AAC9D,gBAAQ,UAAU,EAAE;AAAA,MACrB;AAAA,IACD;AAAA,IACA,wBAAwB,QAAQ,QAAQ,MAAM;AAC7C,UAAI,CAAC;AAAQ;AACb,aAAO;AAAA,IACR;AAAA,IACA,cAAc,QAAQ,QAAQ,MAAM;AACnC,UAAI,KAAK,aAAa,UAAU;AAC/B,aAAK,KAAK,+BAA+B;AACzC,aAAK,YAAY,OAAO,UAAU,EAAE;AAAA,MACrC;AAAA,IACD;AAAA,IACA,MAAM,QAAQ,QAAQ,MAAM;AAC3B,UAAI,KAAK,eAAe,KAAK,SAAS,UAAU,KAAK,aAAa,UAAU;AAC3E,eAAO,WAAW;AAAA,MACnB;AAAA,IACD;AAAA,EACD;AACD;",
  "names": []
}

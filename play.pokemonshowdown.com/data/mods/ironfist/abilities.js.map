{
  "version": 3,
  "sources": ["../../../../data/mods/ironfist/abilities.ts"],
  "sourcesContent": ["import {FS} from '../../../lib';\nimport {toID} from '../../../sim/dex-data';\nimport {Pokemon} from \"../../../sim/pokemon\";\n\n// Similar to User.usergroups. Cannot import here due to users.ts requiring Chat\n// This also acts as a cache, meaning ranks will only update when a hotpatch/restart occurs\nconst usergroups: {[userid: string]: string} = {};\nconst usergroupData = FS('config/usergroups.csv').readIfExistsSync().split('\\n');\nfor (const row of usergroupData) {\n\tif (!toID(row)) continue;\n\n\tconst cells = row.split(',');\n\tif (cells.length > 3) throw new Error(`Invalid entry when parsing usergroups.csv`);\n\tusergroups[toID(cells[0])] = cells[1].trim() || ' ';\n}\n\nexport function getName(name: string): string {\n\tconst userid = toID(name);\n\tif (!userid) throw new Error('No/Invalid name passed to getSymbol');\n\n\tconst group = usergroups[userid] || ' ';\n\treturn group + name;\n}\n\nexport const Abilities: {[k: string]: ModdedAbilityData} = {\n\t/*\n\tplaceholder: {\n\t\t\n\t\tflags: {},\n\t\tname: \"\",\n\t\tshortDesc: \"\",\n\t},\n\t*/\n  \t//slate 1\n\tultraluck: {\n\t\tonModifyCritRatio(critRatio) {\n\t\t\treturn critRatio + 3;\n\t\t},\n\t\tflags: {},\n\t\tname: \"Ultra Luck\",\n\t\tshortDesc: \"This Pokemon's moves have +3 crit ratio.\",\n\t},\n    degenerator: {\n\t\tonSwitchOut(pokemon) {\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\tthis.add(`c:|${Math.floor(Date.now() / 1000)}|${getName(pokemon.name)}|Please grow and change as a person.`);\n\t\t\t\tthis.damage(target.baseMaxhp * 0.22, target, pokemon);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Degenerator\",\n\t\tshortDesc: \"When the user switches out, damage active opponents by 22% of their max HP.\",\n\t},\n\tdtairslash: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (move.type === 'Flying' && move.name !== 'Air Slash') {\n\t\t\t\tthis.add('-immune', target, '[from] ability: !dt air slash');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"!dt air slash\",\n\t\tshortDesc: \"This Pokemon is immune to most Flying-type moves.\",\n\t},\n  \talphasigmarizz: {\n\t\tonAllyTryAddVolatile(status, target, source, effect) {\n\t\t\tif (['attract', 'healblock', 'taunt'].includes(status.id)) {\n\t\t\t\tif (effect.effectType === 'Move') {\n\t\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\t\tthis.add('-block', target, 'ability: Alpha Sigma Rizz', '[of] ' + effectHolder);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif ((effect as Move)?.status) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Alpha Sigma Rizz');\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Alpha Sigma Rizz\",\n\t\trating: 2,\n\t\tnum: 165,\n\t\tshortDesc: \"This pokemon can't get infatuated, taunted, heal blocked, or statused.\",\n\t},\n\tperfectionist: {\n\t\tonModifyMove(move, pokemon) {\n\t\t\tconst basePowerAfterMultiplier = this.modify(move.basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Perfectionist boost');\n\t\t\t\tmove.basePower *= 1.5;\n\t\t\t\tmove.accuracy = true;\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Perfectionist\",\n\t\tshortDesc: \"This Pokemon's moves of 60 power or less have 1.5x power and can't miss.\",\n\t},\n    justalittleguy: {\n\t\tonSourceModifyAtkPriority: 6,\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (attacker.getWeight() > defender.getWeight()) {\n\t\t\t\tthis.debug('JALG weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonSourceModifySpAPriority: 5,\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\n\t\t\tif (attacker.getWeight() > defender.getWeight()) {\n\t\t\t\tthis.debug('JALG weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tflags: { breakable: 1 },\n\t\tname: \"Just a Little Guy\",\n\t\tshortDesc: \"This Pokemon takes halved damage from heavier attackers.\",\n\t},\n  \tchainedwrath: {\n\t\tonStart(pokemon) {\n\t\t\tlet ownspe = 0;\n\t\t\tlet foespe = 0;\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\townspe += pokemon.getStat('spe', false, true);\n\t\t\t\tfoespe += target.getStat('spe', false, true);\n\t\t\t}\n\t\t\tif (foespe > ownspe) {\n\t\t\t\tthis.boost({atk: 1});\n\t\t\t} \n\t\t},\n\t\tflags: {},\n\t\tname: \"Chained Wrath\",\n\t\tshortDesc: \"When the opponent's speed is higher than this Pokemon's, its Attack is raised by 1 stage.\",\n\t\trating: 3.5,\n\t\tnum: 88,\n\t},\n\tidentitycrisis: {\n        onResidualOrder: 28,\n        onResidualSubOrder: 2,\n        onResidual(pokemon) {\n            if (!pokemon.hp) return;\n            const names = ['anaconja', 'earl', 'Orangesodapop', 'Jumpheart', 'zxgzxg', 'TTTech_', 'gekokeso', 'MemesBita', 'regiboat', 'Tanny89k', 'Fragmented', 'Gaboswampert', 'DenebStargazer', 'Beebos', 'PalpitoadChamp', 'Soul Dew Latias', 'woo', 'AquaticPanic', 'Yoshiblaze'];\n            const avatars = ['shelly', 'janitor', 'crasherwake', 'bianca', 'miku-water', 'burglar', 'swimmer-gen4dp', 'wattson', 'blue-gen1', 'anabel', 'klara', 'psychic-lgpe', 'maid', 'pokemonbreederf', 'brycenman', 'lyra', 'lana-masters', 'hilda', 'schoolkid-gen4'];\n            const pokemons = this.dex.species.all();\n            pokemon.formeChange(this.sample(pokemons));\n            const randomNumber = this.random(names.length);\n            pokemon.side.name = names[randomNumber];\n            pokemon.side.avatar = avatars[randomNumber];\n        },\n        flags: {},\n        name: \"Identity Crisis\",\n        shortDesc: \"End of turn: change this Pokemon and its side's name and avatar to a random one.\",\n    },\n\tauctorwile: {\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif(move.flags['punch']) this.damage(source.baseMaxhp / 4, source, target);\n\t\t},\n\t\tflags: {},\n\t\tname: \"Auctor Wile\",\n\t\tshortDesc: \"If this Pokemon is damaged by a punching move, the attacker loses 25% max HP.\",\n\t},\n\t\n\t//slate 2\n\tironnose: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Steel') {\n\t\t\t\tif (!this.boost({atk: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Iron Nose');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAnyRedirectTarget(target, source, source2, move) {\n\t\t\tif (move.type !== 'Steel' || move.flags['pledgecombo']) return;\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\n\t\t\t\tif (this.effectState.target !== target) {\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Iron Nose');\n\t\t\t\t}\n\t\t\t\treturn this.effectState.target;\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Iron Nose\",\n\t\tshortDesc: \"This Pokemon draws Steel moves to itself to raise Atk by 1; Steel immunity.\"\n\t},\n\tprotostasis: {\n\t\tonStart(pokemon) {\n\t\t\tthis.singleEvent('WeatherChange', this.effect, this.effectState, pokemon);\n\t\t},\n\t\tonWeatherChange(pokemon) {\n\t\t\tif (pokemon.transformed) return;\n\t\t\t// Protostasis is not affected by Utility Umbrella\n\t\t\tif (this.field.isWeather('snow')) {\n\t\t\t\tpokemon.addVolatile('protostasis');\n\t\t\t} else if (!pokemon.volatiles['protostasis']?.fromBooster) {\n\t\t\t\tpokemon.removeVolatile('protostasis');\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tdelete pokemon.volatiles['protostasis'];\n\t\t\tthis.add('-end', pokemon, 'Protostasis', '[silent]');\n\t\t},\n\t\tcondition: {\n\t\t\tnoCopy: true,\n\t\t\tonStart(pokemon, source, effect) {\n\t\t\t\tif (effect?.id === 'boosterenergy') {\n\t\t\t\t\tthis.effectState.fromBooster = true;\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protostasis', '[fromitem]');\n\t\t\t\t} else {\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protostasis');\n\t\t\t\t}\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\n\t\t\t\tthis.add('-start', pokemon, 'protostasis' + this.effectState.bestStat);\n\t\t\t},\n\t\t\tonModifyAtkPriority: 5,\n\t\t\tonModifyAtk(atk, source, target, move) {\n\t\t\t\tif (this.effectState.bestStat !== 'atk') return;\n\t\t\t\tthis.debug('Protostasis atk boost');\n\t\t\t\treturn this.chainModify([5325, 4096]);\n\t\t\t},\n\t\t\tonModifyDefPriority: 6,\n\t\t\tonModifyDef(def, target, source, move) {\n\t\t\t\tif (this.effectState.bestStat !== 'def') return;\n\t\t\t\tthis.debug('Protostasis def boost');\n\t\t\t\treturn this.chainModify([5325, 4096]);\n\t\t\t},\n\t\t\tonModifySpAPriority: 5,\n\t\t\tonModifySpA(relayVar, source, target, move) {\n\t\t\t\tif (this.effectState.bestStat !== 'spa') return;\n\t\t\t\tthis.debug('Protostasis spa boost');\n\t\t\t\treturn this.chainModify([5325, 4096]);\n\t\t\t},\n\t\t\tonModifySpDPriority: 6,\n\t\t\tonModifySpD(relayVar, target, source, move) {\n\t\t\t\tif (this.effectState.bestStat !== 'spd') return;\n\t\t\t\tthis.debug('Protostasis spd boost');\n\t\t\t\treturn this.chainModify([5325, 4096]);\n\t\t\t},\n\t\t\tonModifySpe(spe, pokemon) {\n\t\t\t\tif (this.effectState.bestStat !== 'spe') return;\n\t\t\t\tthis.debug('Protostasis spe boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t},\n\t\t\tonEnd(pokemon) {\n\t\t\t\tthis.add('-end', pokemon, 'Protostasis');\n\t\t\t},\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\n\t\tname: \"Protostasis\",\n\t\trating: 3,\n\t\tshortDesc: \"Snow active or Booster Energy used: highest stat is 1.3x, or 1.5x if Speed.\",\n\t},\n\tilluminate: {\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Illuminate', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({evasion: -2}, target, pokemon, null, true);\n\t\t\t\t\tthis.boost({accuracy: 1}, pokemon);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Illuminate\",\n\t\tshortDesc: \"On switch-in, this Pokemon's accuracy +1 and foe(s)' evasion -2.\",\n\t},\n\tflyeater: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Bug') {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Fly Eater');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Fly Eater\",\n\t\tshortDesc: \"This Pokemon heals 1/4 of its max HP when hit by Bug moves; Bug immunity.\",\n\t},\n\tgrowthveil: {\n\t\tid: \"growthveil\",\n\t\tname: \"Growth Veil\",\n\t\tshortDesc: \"Regenerator + Flower Veil\",\n\t\tdesc: \"Restores 1/3 max HP on switch-out; ally Grass-types can't have stats lowered or status inflicted.\",\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t\tonAllyBoost(boost, target, source, effect) {\n\t\t\tif ((source && target === source) || !target.hasType('Grass')) return;\n\t\t\tlet showMsg = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tdelete boost[i];\n\t\t\t\t\tshowMsg = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries) {\n\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\tthis.add('-block', target, 'ability: Growth Veil', '[of] ' + effectHolder);\n\t\t\t}\n\t\t},\n\t\tonAllySetStatus(status, target, source, effect) {\n\t\t\tif (target.hasType('Grass') && source && target !== source && effect && effect.id !== 'yawn') {\n\t\t\t\tthis.debug('interrupting setStatus with Growth Veil');\n\t\t\t\tif (effect.id === 'synchronize' || (effect.effectType === 'Move' && !effect.secondaries)) {\n\t\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\t\tthis.add('-block', target, 'ability: Growth Veil', '[of] ' + effectHolder);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryAddVolatile(status, target) {\n\t\t\tif (target.hasType('Grass') && status.id === 'yawn') {\n\t\t\t\tthis.debug('Growth Veil blocking yawn');\n\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\tthis.add('-block', target, 'ability: Growth Veil', '[of] ' + effectHolder);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tbravery: {\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.ohko) {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Bravery');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: -30,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\n\t\t\t\tthis.add('-ability', target, 'Bravery');\n\t\t\t\treturn target.hp - 1;\n\t\t\t}\n\t\t},\n\t\tonModifyMovePriority: -5,\n\t\tonModifyMove(move) {\n\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\n\t\t\tif (move.ignoreImmunity !== true) {\n\t\t\t\tmove.ignoreImmunity['Fighting'] = true;\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\n\t\t\t}\n\t\t},\n\t\tonTryBoost(boost, target, source, effect) {\n\t\t\tif (effect.name === 'Intimidate' && boost.atk) {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Bravery', '[of] ' + target);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Bravery\",\n\t\tshortDesc: \"Sturdy + Scrappy\",\n\t},\n\tprismwings: {\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('prismwings');\n\t\t},\n\t\tcondition: {\n\t\t\tnoCopy: true,\n\t\t\tduration: 1,\n\t\t\tonStart(pokemon) {\n\t\t\t\tconst allTypes = this.dex.deepClone(this.dex.types.all());\n\t\t\t\tpokemon.setType(allTypes);\n\t\t\t\tthis.add('-start', pokemon, 'typechange', allTypes.join('/'), '[from] ability: Prism Wings');\n\t\t\t},\n\t\t\tonEnd(pokemon) {\n\t\t\t\tthis.add('-end', pokemon, 'typechange', '[silent]');\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Prism Wings\",\n\t\tshortDesc: \"On switch-in, this Pokemon is all types for one turn.\",\n\t},\n\tsteeldrummer: {\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target === source || move.hasBounced || move.type !== 'Steel') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.actions.useMove(newMove, target, source);\n\t\t\treturn null;\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (target.isAlly(source) || move.hasBounced || move.type !== 'Steel') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.actions.useMove(newMove, this.effectState.target, source);\n\t\t\treturn null;\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Steel Drummer\",\n\t\tshortDesc: \"This Pokemon blocks Steel-type moves and bounces them back to the user.\",\n\t},\n\ttimebomb: {\n\t\tonModifyMove(move) {\n\t\t\tif(move.category !== 'Status') move.selfdestruct = \"always\";\n\t\t},\n\t\t//screens code in moves.ts; weather code in conditions.ts\n\t\tflags: {},\n\t\tname: \"Time Bomb\",\n\t\tshortDesc: \"This Pokemon's attacks cause it to faint. Its use of Reflect/Light Screen/weather lasts 10 turns.\",\n\t},\n\timpalpable: {\n\t\tonSourceModifyDamage(damage, target, source, move) {\n\t\t\tif ((source.hasType(move.type) || target.hasType(move.type)) && target !== source) {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Impalpable\",\n\t\tshortDesc: \"This Pokemon is non-grounded, and takes halved damage from its/foe's STABs.\",\n\t},\n\tgetsilly: {\n\t\tonModifyCritRatio(critRatio) {\n\t\t\treturn critRatio + 1;\n\t\t},\n\t\tonSourceDamagingHit(damage, target, source, move) {\n\t\t\tif (target.getMoveHitData(move).crit) {\n\t\t\t\tthis.boost({def: -1}, target, source, null, true);\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: -30,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\n\t\t\t\tthis.add('-activate', target, 'ability: Get Silly');\n\t\t\t\tsource.addVolatile('clownnose');\n\t\t\t\treturn target.hp - 2;\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Get Silly\",\n\t\tshortDesc: \"Super Luck + Sturdy + crits lower Def by 1 + attacker grows a clown nose at 2 HP.\",\n\t},\n\tchampion: {\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('ability:swiftswim');\n\t\t\tpokemon.addVolatile('ability:hydration');\n\t\t\tpokemon.addVolatile('ability:waterabsorb');\n\t\t},\n\t\tflags: {},\n\t\tname: \"champion\",\n\t\tshortDesc: \"Swift Swim + Hydration + Water Absorb\",\n\t},\n\n\t//slate 3\n\tmilf: {\n\t\t//code in rulesets.ts\n\t\tflags: {},\n\t\tname: \"MILF\",\n\t\tshortDesc: \"At the start of the battle, add 2 Fishing Tokens to the user's side.\",\n\t},\n\tbenevolentblessing: {\n\t\tonModifyMovePriority: -2,\n\t\tonModifyMove(move) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tthis.debug('doubling secondary chance');\n\t\t\t\tfor (const secondary of move.secondaries) {\n\t\t\t\t\tif (secondary.chance) secondary.chance *= 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (move.self?.chance) move.self.chance *= 2;\n\t\t},\n\t\tonResidualOrder: 28,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tif(this.randomChance(1, 20)) pokemon.setStatus('slp');\n\t\t\tif(this.randomChance(1, 100)) {\n\t\t\t\tfor (const target of pokemon.adjacentFoes()) {\n\t\t\t\t\tthis.actions.useMove('finalgambit', pokemon, target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t//mogoff effect in its entry\n\t\tflags: {},\n\t\tname: \"Benevolent Blessing\",\n\t\tshortDesc: \"Serene Grace + 5% slp, 1% Final Gambit; Mog Off: 50% Swagger, 50% Self-Destruct.\",\n\t},\n\tfishercat: {\n\t\tonSourceDamagingHit(damage, target, source, move) {\n\t\t\tif(move.flags['fishing']) {\n\t\t\t\tthis.heal(source.baseMaxhp / 4, source, source);\n\t\t\t\tsource.side.addFishingTokens(1);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Fishercat\",\n\t\tshortDesc: \"This Pokemon heals 1/4 of its max HP and adds 1 Fishing Token after using a fishing move.\",\n\t},\n\trkssystem: {\n\t\tinherit: true,\n\t\tshortDesc: \"RKS System + Magic Guard\",\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.effectType !== 'Move') {\n\t\t\t\tif (effect.effectType === 'Ability') this.add('-activate', source, 'ability: ' + effect.name);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\tfrozenlandscape: {\n\t\tonStart(source) {\n\t\t\tthis.field.setTerrain('frigidterrain');\n\t\t},\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (this.checkMoveMakesContact(move, source, target, true)) {\n\t\t\t\tif(source.setType('Ice')) this.add('-start', source, 'typechange', 'Ice');\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Frozen Landscape\",\n\t\tshortDesc: \"On contact, attacker becomes Ice-type. Sets Frigid Terrain on switchin.\",\n\t},\n\tthediamondhand: {\n\t\tonStart(pokemon) {\n\t\t\tconst diamondHand = pokemon.side.pokemon.filter(p => p != pokemon && !p.fainted && p.baseSpecies.diamondHand);\n\t\t\tif (diamondHand.length > 0) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: The Diamond Hand');\n\t\t\t\tthis.add('-start', pokemon, `diamondHand${diamondHand.length}`, '[silent]');\n\t\t\t\tthis.effectState.diamondHand = diamondHand.length;\n\t\t\t\tthis.boost({atk: -1 * diamondHand.length, spa: -1 * diamondHand.length}, pokemon, pokemon);\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tthis.add('-end', pokemon, `diamondHand${this.effectState.diamondHand}`, '[silent]');\n\t\t},\n\t\tonModifyCritRatio(critRatio) {\n\t\t\treturn critRatio + this.effectState.diamondHand;\n\t\t},\n\t\tflags: {},\n\t\tname: \"The Diamond Hand\",\n\t\tshortDesc: \"This Pokemon's Atk/SpA -1, but crit rate +1 for each other unfainted Diamond Hand ally.\",\n\t},\n\tilovefishing: {\n\t\tonBasePowerPriority: 19,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['fishing']) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\t//tera effect in scripts.ts\n\t\tflags: {},\n\t\tname: \"I Love Fishing\",\n\t\tshortDesc: \"This Pokemon's fishing moves have 1.5x power; Big Button Teras Water.\",\n\t},\n\ttoxicmasculinity: {\n\t\tonTryBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tif (boost.atk && boost.atk < 0) {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\n\t\t\t\t\ttarget.side.addSideCondition('toxicspikes', source);\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Attack\", \"[from] ability: toxic masculinity\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"toxic masculinity\",\n\t\tshortDesc: \"This Pokemon's Attack cannot be lowered. If it would, set Toxic Spikes on the opponent's side.\",\n\t},\n\tmagneticstorm: {\n\t\tshortDesc: \"Magnet Pull + Storm Drain\",\n\t\tonFoeTrapPokemon(pokemon) {\n\t\t\tif (pokemon.hasType('Steel') && pokemon.isAdjacent(this.effectState.target)) {\n\t\t\t\tpokemon.tryTrap(true);\n\t\t\t}\n\t\t},\n\t\tonFoeMaybeTrapPokemon(pokemon, source) {\n\t\t\tif (!(source ||= this.effectState.target) || !pokemon.isAdjacent(source)) return;\n\t\t\tif (!pokemon.knownType || pokemon.hasType('Steel')) {\n\t\t\t\tpokemon.maybeTrapped = true;\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Water') {\n\t\t\t\tif (!this.boost({spa: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Magnetic Storm');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAnyRedirectTarget(target, source, source2, move) {\n\t\t\tif (move.type !== 'Water' || move.flags['pledgecombo']) return;\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\n\t\t\t\tif (this.effectState.target !== target) {\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Magnetic Storm');\n\t\t\t\t}\n\t\t\t\treturn this.effectState.target;\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Magnetic Storm\",\n\t},\n\triverthief: {\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (source.baseSpecies.fish || source.hasType('Water')) {\n\t\t\t\tthis.debug('River Thief neutralize');\n\t\t\t\treturn this.chainModify(0.75);\n\t\t\t}\n\t\t},\n\t\tonModifyDamage(damage, source, target, move) {\n\t\t\tif (move && source.baseSpecies.fish || source.hasType('Water')) {\n\t\t\t\treturn this.chainModify([5120, 4096]);\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"River Thief\",\n\t\tshortDesc: \"Takes 0.75x damage from Fish/Water Pokemon and deals 1.25x damage to them.\",\n\t},\n\tfishysurge: {\n\t\tonStart(source) {\n\t\t\tthis.field.setTerrain('fishingterrain');\n\t\t},\n\t\tflags: {},\n\t\tname: \"Fishy Surge\",\n\t\tshortDesc: \"On switchin, this Pokemon sets Fishing Terrain.\",\n\t},\n\tbiglady: {\n\t\tonUpdate(pokemon) {\n\t\t\tif (!pokemon.bigLadyBoosted && pokemon.volatiles['bigbutton']) {\n\t\t\t\tpokemon.bigLadyBoosted = true;\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Big Lady');\n\t\t\t\tthis.boost({atk: 1, def: 1, spa: 1, spd: 1, spe: 1});\n\t\t\t}\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.bigLadyBoosted = false;\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Big Lady\",\n\t\tshortDesc: \"When this Pokemon uses Big Button, its stats are raised by 1 stage.\",\n\t},\n\tpvzfishing: {\n\t\tonDragOutPriority: 1,\n\t\tonDragOut(pokemon) {\n\t\t\tthis.add('-activate', pokemon, 'ability: PVZ Fishing');\n\t\t\treturn null;\n\t\t},\n\t\tonEffectiveness(typeMod, target, type, move) {\n\t\t\tif(move.type === 'Grass') return 1;\n\t\t},\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (move.type === 'Grass') return this.chainModify(2);\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tdelete move.flags['contact'];\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"PVZ Fishing\",\n\t\tshortDesc: \"Suction Cups + Long Reach; this Pokemon is 4x weak to Grass moves.\",\n\t},\n\tkaijukiller: {\n\t\tonUpdate(pokemon) {\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\n\t\t\t\tif (!pokemon.kaijuKillerBoosted && target.volatiles['bigbutton']) {\n\t\t\t\t\tpokemon.kaijuKillerBoosted = true;\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Kaiju Killer');\n\t\t\t\t\tthis.boost({atk: 1, def: 1, spa: 1, spd: 1, spe: 1});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.kaijuKillerBoosted = false;\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Kaiju Killer\",\n\t\tshortDesc: \"When another Pokemon uses Big Button, this Pokemon's stats are raised by 1 stage.\",\n\t},\n\tironlady: {\n\t\tonStart(pokemon) {\n\t\t\tif (pokemon.side.totalFainted) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Iron Lady');\n\t\t\t\tconst fallen = Math.min(pokemon.side.totalFainted, 5);\n\t\t\t\tthis.add('-start', pokemon, `fallen${fallen}`, '[silent]');\n\t\t\t\tthis.effectState.fallen = fallen;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tthis.add('-end', pokemon, `fallen${this.effectState.fallen}`, '[silent]');\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (this.effectState.fallen) {\n\t\t\t\tconst powMod = [4096, 4506, 4915, 5325, 5734, 6144];\n\t\t\t\tthis.debug(`Iron Lady boost: ${powMod[this.effectState.fallen]}/4096`);\n\t\t\t\treturn this.chainModify([powMod[this.effectState.fallen], 4096]);\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.forceSTAB = true;\n\t\t},\n\t\tflags: {},\n\t\tname: \"Iron Lady\",\n\t\tshortDesc: \"Supreme Overlord + This Pokemon's moves have STAB.\",\n\t},\n\tskillissue: {\n\t\tonFlinch(pokemon) {\n\t\t\tthis.boost({spe: 1});\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\t// n.b. only affects Hackmons\n\t\t\t// interaction with No Ability is complicated: https://www.smogon.com/forums/threads/pokemon-sun-moon-battle-mechanics-research.3586701/page-76#post-7790209\n\t\t\tif (pokemon.adjacentFoes().some(foeActive => foeActive.ability === 'noability')) {\n\t\t\t\tthis.effectState.gaveUp = true;\n\t\t\t}\n\t\t\t// interaction with Ability Shield is similar to No Ability\n\t\t\tif (pokemon.hasItem('Ability Shield')) {\n\t\t\t\tthis.add('-block', pokemon, 'item: Ability Shield');\n\t\t\t\tthis.effectState.gaveUp = true;\n\t\t\t}\n\t\t\t\n\t\t\tif (!pokemon.isStarted || this.effectState.gaveUp) return;\n\n\t\t\tconst possibleTargets = pokemon.adjacentFoes().filter(\n\t\t\t\ttarget => !target.getAbility().flags['notrace'] && target.ability !== 'noability'\n\t\t\t);\n\t\t\tif (!possibleTargets.length) return;\n\n\t\t\tconst target = this.sample(possibleTargets);\n\t\t\tconst oldAbility = target.setAbility(pokemon.ability);\n\t\t\tif (oldAbility) {\n\t\t\t\tthis.add('-ability', target, target.getAbility().name, '[from] ability: Skill Issue');\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1},\n\t\tname: \"Skill Issue\",\n\t\tshortDesc: \"Steadfast + On switchin, this Pokemon changes the ability of the opponent to this one.\",\n\t},\n\tmysticslicer: {\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tconst noModifyType = [\n\t\t\t\t'judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'terrainpulse', 'weatherball',\n\t\t\t];\n\t\t\tif (move.type === 'Normal' && !noModifyType.includes(move.id) &&\n\t\t\t\t!(move.isZ && move.category !== 'Status') && !(move.name === 'Tera Blast' && pokemon.terastallized)) {\n\t\t\t\tmove.type = 'Fairy';\n\t\t\t\tmove.typeChangerBoosted = this.effect;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tlet mod = 1;\n\t\t\tif (move.typeChangerBoosted === this.effect) mod *= 1.2;\n\t\t\tif (move.flags['slicing']) mod *= 1.5;\n\t\t\treturn this.chainModify(mod);\n\t\t},\n\t\tflags: {},\n\t\tname: \"Mystic Slicer\",\n\t\tshortDesc: \"Sharpness + Pixilate\",\n\t},\n\tpartinggift: {\n\t\tonFaint(pokemon) {\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\n\t\t\t\tif (pokemon.item) this.actions.useMove('fling', pokemon, target);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Parting Gift\",\n\t\tshortDesc: \"When this Pokemon's HP drops to 0, it uses Fling before fainting.\",\n\t},\n\tabomacare: {\n\t\tonSwitchOut(pokemon) {\n\t\t\tthis.damage(pokemon.baseMaxhp / 8, pokemon, pokemon);\n\t\t\tpokemon.side.addSideCondition('abomacarespikes');\n\t\t},\n\t\tflags: {},\n\t\tname: \"Aboma Care\",\n\t\tshortDesc: \"Upon switching out, this Pokemon loses 12% HP but the incoming Pokemon heals 25% HP.\",\n\t},\n\tbramblinmentality: {\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('ability:comatose');\n\t\t\tif (pokemon.side.faintedThisTurn && ['bramblin', 'abomasnow', 'margaretthatcher', 'ronaldreagan'].includes(pokemon.side.faintedThisTurn.baseSpecies.id)) this.boost({atk: 1, def: 1, spe: -1}, pokemon);\n\t\t},\n\t\t// Permanent sleep \"status\" implemented in the relevant sleep-checking effects\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Bramblin Mentality\",\n\t\tshortDesc: \"Comatose; +1 Atk/Def/-1 Spe when replacing a fainted Bramblin/Abomasnow/Thatcher/Reagan.\",\n\t},\n\n\t//slate 4\n\treaganomics: {\n\t\tonStart(pokemon) {\n\t\t\tif (pokemon.reagan) return;\n\t\t\tpokemon.reagan = true;\n\t\t\tif(pokemon.side.fishingTokens > 0) pokemon.side.addFishingTokens(pokemon.side.fishingTokens);\n\t\t\tif(this.randomChance(1, 8192)) pokemon.side.foe.addFishingTokens(1);\n\t\t},\n\t\tflags: {},\n\t\tname: \"Reaganomics\",\n\t\tshortDesc: \"On switchin, side's Fishing tokens x2. 1/8192 chance for +1 token for the foe. Once per battle.\",\n\t},\n\tgexserver: {\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Gex Server');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.add(`c:|${Math.floor(Date.now() / 1000)}|${getName(pokemon.name)}|https://twitter.com/Duo__M2`);\n\t\t\t\t\ttarget.addVolatile('ability:hacked');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Gex Server\",\n\t\tshortDesc: \"On switchin, adjacent opponents have a 30% chance for -6 priority.\",\n\t},\n\tlemonsqueezy: {\n\t\tonDamagingHit(damage, target, source, effect) {\n\t\t\tthis.add('-activate', target, 'ability: Lemon Squeezy');\n\t\t\tthis.add('-activate', target, 'move: Aromatherapy');\n\t\t\tfor (const ally of target.side.pokemon) {\n\t\t\t\tif (ally !== target && (ally.volatiles['substitute'] && !move.infiltrates)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tally.cureStatus();\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Lemon Squeezy\",\n\t\tshortDesc: \"This Pokemon cures its party of status conditions after it is damaged by a move.\",\n\t},\n\tclownery: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (['Normal', 'Fighting'].includes(move.type) && target !== source) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Clownery');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonFractionalPriorityPriority: -1,\n\t\tonFractionalPriority(priority, pokemon, target, move) {\n\t\t\treturn -0.1;\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Clownery\",\n\t\tshortDesc: \"This Pokemon moves last in its priority bracket, but is immune to Normal/Fighting.\",\n\t},\n\tzesty: {\n\t\tonBasePowerPriority: 19,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.type === 'Lemon' || move.type === 'Silly') {\n\t\t\t\treturn this.chainModify(1.3);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Zesty\",\n\t\tshortDesc: \"This Pokemon's Lemon/Silly-type moves have 1.3x power.\",\n\t},\n\tlemonade: {\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif(source.setType('Lemon')) this.add('-start', source, 'typechange', 'Lemon');\n\t\t},\n\t\tflags: {},\n\t\tname: \"Lemonade\",\n\t\tshortDesc: \"If this Pok\u00E9mon is damaged by an attack, the attacker becomes a Lemon-type.\",\n\t},\n\twreckingball: {\n\t\tonTryHit(pokemon) {\n\t\t\tpokemon.side.removeSideCondition('reflect');\n\t\t\tpokemon.side.removeSideCondition('lightscreen');\n\t\t\tpokemon.side.removeSideCondition('auroraveil');\n\t\t},\n\t\tflags: {},\n\t\tname: \"Wrecking Ball\",\n\t\tshortDesc: \"This Pokemon's moves destroy screens.\",\n\n\t},\n\n\t//slate 5\n\tcrossover: {\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tconst nonVanilla = [\"Anarlvet\",  \"Kingler-Mega\",  \"microwave\",  \"Lytlegai\",  \"Ohmyrod\",  \"Big Crammer\",  \"Samurott-Sinnoh\",  \"Goomba\",  \"Fridgile\",  \"Melmetal 2\",  \"Pidown\",  \"Kurayami\",  \"Zelda\",  \"Drigike\",  \"Phish\",  \"Smelmetal\",  \"Bondra\",  \"Tangette-Eternal\",  \"Donmigo\",  \"Dragoone\",  \"Collachet\",  \"Guiltrism\",  \"Swooliobat\",  \"Electrode-Mega\",  \"Mario Kart Wii\",  \"Impalpitoad\",  \"Scrubby\",  \"Ogerpon-Cornerstone\",  \"palpitoad is so cool\",  \"Moltres-Mega\",  \"Jirachitwo\",  \"Shinx-Fishing\",  \"Conquescape\",  \"Daiyakuza\",  \"Pokestar Fisherman\",  \"Magnegiri\",  \"mario\",  \"Contamicow\",  \"Whonhef\",  \"Fish Factory\",  \"cowboy_bandido\",  \"Pokestar Giant\",  \"Richard Petty\",  \"Impidimp-Mega\",  \"Lemon\",  \"Fishing Zombie\",  \"Pokestar MT\",  \"Margaret Thatcher\",  \"Flesh Valiant\",  \"Flesh Valiant-Mega\",  \"Ronald Reagan\",  \"Lime Lips\",  \"Lemotic\",  \"Zestii\",  \"Rawring Moon\",  \"Boogerpon-CLOWNerstone\",  \"Keisberg-IF\",  \"Apple's Newest Emoji\",  \"Lemon Fish\",  \"Goddease\",  \"Jableye\",  \"Kyrum\",  \"Raccoon\",  \"Lucario-Calm\",  \"Nedontrol\",  \"Princirang\",  \"Iron Clown\",  \"The Pearl Hand\",  \"McFish\",  \"Applwirm\",  \"minun and plusle :D\", \"Traike\", \"Dr. Liberty\", \"Sunflora-Grave\", \"Hydralemon\", \"Hiveweb\", \"Syndican\\'t\", \"Fish Marketing 3\", \"Lemonganium\", \"Carnivine-IF\", \"Grumpig\", \"Impromancer\", \"Pander Dragoon\", \"Soruarc\", \"Skibidragon\", \"Hitmontop-Mega\", \"Porygon-Z-Mega\", \"Furumo\", \"mega man\", \"Fudgesaur\", \"Fudgesaur-Mega\", \"darkpoison\", \"Sigma Rice Lion\", \"Lickilord\", \"Citrus Jams\", \"Everh\u00E1l\", \"Grimace\", \"Pyroaring\", \"Tyler the Creator\", \"Bart\", \"Upvybones\", \"Ludicolo\", \"T'La'\u00C1gh\", \"Regibloom\", \"Old Duke\"];\n\t\t\tif (!target || target === pokemon) {\n\t\t\t\tif (!pokemon.adjacentFoes().length) return;\n\t\t\t\ttarget = this.sample(pokemon.adjacentFoes());\n\t\t\t}\n\t\t\tif (nonVanilla.includes(target.baseSpecies.name)) return priority + 1;\n\t\t},\n\t\tflags: {},\n\t\tname: \"Crossover\",\n\t\tshortDesc: \"This Pokemon's moves have +1 priority against Fakemon.\",\n\t},\n\twhatthesigma: {\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Silly') {\n\t\t\t\tif (!this.boost({atk: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: What the Sigma');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"What the Sigma\",\n\t\tshortDesc: \"This Pokemon's Attack is raised 1 stage if hit by a Silly move; Silly immunity.\",\n\t},\n\tsteadfast: {\n\t\tinherit: true,\n\t\tonTryAddVolatile(status, pokemon) {\n\t\t\tif (status.id === 'flinch') {\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tshortDesc: \"If this Pokemon were to flinch, its Speed is raised by 1 instead.\",\n\t},\n\tjustified: {\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Dark') {\n\t\t\t\tif (!this.boost({atk: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Justified');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Justified\",\n\t\tshortDesc: \"This Pokemon's Attack is raised 1 stage if hit by a Dark move; Dark immunity.\",\n\t},\n\tbonappetit: {\n\t\tonResidualOrder: 28,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tif (pokemon.hp < pokemon.baseMaxhp && pokemon.side.fishingTokens > 0) {\n\t\t\t\tpokemon.side.removeFishingTokens(1);\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 8);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Bon Appetit\",\n\t\tshortDesc: \"At the end of each turn, consume 1 Fishing Token to heal 1/8 max HP.\",\n\t},\n\tthepearlhand: {\n\t\tonStart(pokemon) {\n\t\t\tconst diamondHand = pokemon.side.foe.pokemon.filter(p => p.baseSpecies.diamondHand);\n\t\t\tif (diamondHand.length === 0) return;\n\t\t\tconst diamondHandFainted = pokemon.side.foe.pokemon.filter(p => p.fainted && p.baseSpecies.diamondHand);\n\t\t\tif (diamondHandFainted.length) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: The Pearl Hand');\n\t\t\t\tconst fallen = Math.min(diamondHandFainted.length, 5);\n\t\t\t\tthis.add('-start', pokemon, `fallen${fallen}`, '[silent]');\n\t\t\t\tthis.effectState.fallen = fallen;\n\t\t\t\tthis.boost({atk: fallen, spa: fallen});\n\t\t\t} else this.boost({spe: -2}, pokemon);\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tthis.add('-end', pokemon, `fallen${this.effectState.fallen}`, '[silent]');\n\t\t},\n\t\tflags: {},\n\t\tname: \"The Pearl Hand\",\n\t\tshortDesc: \"+1 Atk/SpA per fainted Diamond Hand on foe side (max 5). Else -2 Spe.\",\n\t},\n\ttheevergrowinghungerofcapitalism: {\n\t\tonSourceDamagingHit(damage, target, source, move) {\n\t\t\tif(target.side.fishingTokens > 0) {\n\t\t\t\ttarget.side.removeFishingTokens(1);\n\t\t\t\tsource.side.addFishingTokens(1);\n\t\t\t} else this.boost({spe: 1}, source, source);\n\t\t},\n\t\tflags: {},\n\t\tname: \"The Ever-Growing Hunger of Capitalism\u2122\",\n\t\tshortDesc: \"This Pokemon's attacks steal one token. If there are none, +1 Spe instead.\",\n\t},\n\tkatabaticwinds: {\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (this.field.getPseudoWeather('gravity') && move.type === 'Flying' && target !== source) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Katabatic Winds');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Katabatic Winds\",\n\t\tshortDesc: \"This Pokemon is immune to Flying-type moves in Gravity.\",\n\t},\n\tbestfriends: {\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (move.category === 'Status' || move.multihit || move.flags['noparentalbond'] || move.flags['charge'] ||\n\t\t\tmove.flags['futuremove'] || move.isZ || move.isMax) return;\n\t\t\tmove.multihit = 2;\n\t\t\tmove.multihitType = 'bestfriends';\n\t\t},\n\t\t// Damage modifier implemented in BattleActions#modifyDamage()\n\t\tonSourceModifySecondaries(secondaries, target, source, move) {\n\t\t\tif (move.multihitType === 'bestfriends' && move.id === 'secretpower' && move.hit < 2) {\n\t\t\t\t// hack to prevent accidentally suppressing King's Rock/Razor Fang\n\t\t\t\treturn secondaries.filter(effect => effect.volatileStatus === 'flinch');\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"best friends\",\n\t\tshortDesc: \"This Pokemon's moves hit twice at 0.33x power.\",\n\t},\n\thonorstudent: {\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tconst diamondHand = pokemon.side.pokemon.filter(p => p !== pokemon && !p.fainted && p.baseSpecies.diamondHand);\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\n\t\t\t\tif (diamondHand.length > 0) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Honor Student');\n\t\t\t\t\tactivated = true;\n\t\t\t\t\tthis.damage(0.02 * diamondHand.length * target.baseMaxhp, target, pokemon);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Honor Student\",\n\t\tshortDesc: \"On switchin, foes lose 2% max HP for each other allied Diamond Hand member.\",\n\t},\n\tjankster: {\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tthis.add('-ability', target, 'Jankster');\n\t\t\tconst newatk = Math.floor((target.storedStats.atk + source.storedStats.atk) / 2);\n\t\t\ttarget.storedStats.atk = newatk;\n\t\t\tsource.storedStats.atk = newatk;\n\t\t\tconst newspa = Math.floor((target.storedStats.spa + source.storedStats.spa) / 2);\n\t\t\ttarget.storedStats.spa = newspa;\n\t\t\tsource.storedStats.spa = newspa;\n\t\t\tthis.add('-activate', source, 'move: Power Split', '[of] ' + target);\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Jankster\",\n\t\tshortDesc: \"When this Pokemon is hit, it splits its corresponding attack stat with the attacker.\",\n\t},\n\t\n\t//slate 6\n\thoneyedweb: {\n\t\tonDamagingHit(damage, target, source, effect) {\n\t\t\tthis.heal(target.baseMaxhp / 8, target, target);\n\t\t\tfor (const allyActive of target.adjacentAllies()) {\n                this.heal(allyActive.baseMaxhp / 8, allyActive);\n            }\n\t\t},\n\t\tflags: {},\n\t\tname: \"Honeyed Web\",\n\t\tshortDesc: \"This Pokemon and its allies heal 1/8 max HP on hit.\",\n\t},\n\tacidicdrizzle: {\n\t\tonStart(source) {\n\t\t\tthis.field.setWeather('acidrain');\n\t\t},\n\t\tflags: {},\n\t\tname: \"Acidic Drizzle\",\n\t\tshortDesc: \"On switchin, this Pokemon sets Acid Rain.\",\n\t},\n\tmadscientist: {\n\t\tonStart(source) {\n\t\t\tsource.side.addSideCondition('madnesscounter');\n\t\t\tconsole.log(source.side.sideConditions);\n\t\t},\n\t\tflags: {},\n\t\tname: \"Mad Scientist\",\n\t\tshortDesc: \"On switchin, this Pokemon adds a Madness Counter to its side.\",\n\t},\n\tdivininghorn: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (move.flags['disaster']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Divining Horn');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryHit(target, source, move) {\n\t\t\tif (move.flags['disaster']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Divining Horn');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryHitField(target, source, move) {\n\t\t\tif (move.flags['disaster']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Divining Horn');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (move.flags['disaster']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Divining Horn');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\t//effects of weather in scripts/pokemon\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (['sandstorm', 'hail', 'acidrain', 'graveyard', 'spikes', 'stealthrock'].includes(type)) return false;\n\t\t},\n\t\tonAllyImmunity(type, pokemon) {\n\t\t\tif (['sandstorm', 'hail', 'acidrain', 'graveyard', 'spikes', 'stealthrock'].includes(type)) return false;\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Divining Horn\",\n\t\tshortDesc: \"This Pokemon and its allies are immune to disasters and hazards, and ignore weather.\",\n\t},\n\thoennstan: {\n\t\tonStart(pokemon) {\n\t\t\tlet hoenn = pokemon.side.pokemon.filter(p => p !== pokemon && p.fainted && p.baseSpecies.gen === 3).length;\n\t\t\tif (hoenn) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Hoenn Stan');\n\t\t\t\thoenn = Math.min(hoenn, 5);\n\t\t\t\tthis.add('-start', pokemon, `hoenn${hoenn}`, '[silent]');\n\t\t\t\tthis.effectState.hoenn = hoenn;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tthis.add('-end', pokemon, `hoenn${this.effectState.hoenn}`, '[silent]');\n\t\t},\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (this.effectState.hoenn) {\n\t\t\t\treturn this.chainModify(1 + 0.15 * this.effectState.hoenn);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (this.effectState.hoenn) {\n\t\t\t\treturn this.chainModify(1 + 0.15 * this.effectState.hoenn);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Hoenn Stan\",\n\t\tshortDesc: \"This Pokemon's Atk/SpA gain 15% for each other fainted Gen 3 ally.\",\n\t},\n\tzombiesonyourlawn: {\n\t\tonStart(source) {\n\t\t\tthis.add('-message', 'The angry ghost returns to haunt Iron Fist...');\n\t\t\tthis.field.setWeather('graveyard');\n\t\t},\n\t\tflags: {},\n\t\tname: \"Zombies on Your Lawn\",\n\t\tshortDesc: \"On switchin, this Pokemon sets Graveyard.\",\n\t},\n\tsupersoursyrup: {\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Supersour Syrup', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({spe: -1}, target, pokemon, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Supersour Syrup\",\n\t\tshortDesc: \"On switch-in, this Pokemon lowers the Speed of opponents by 1 stage.\",\n\t},\n\t\n\t//slate 7\n\tinningsout: {\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (!target.hp) {\n\t\t\t\tsource.trySetStatus('baseball', target);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Innings Out\",\n\t\tshortDesc: \"If this Pokemon is KOed with a move, that move's user gets Baseballed.\",\n\t},\n\teusociality: {\n\t\tonFaint(pokemon) {\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\n\t\t\t\tthis.actions.useMove('pounce', pokemon, target);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Eusociality\",\n\t\tshortDesc: \"When this Pokemon's HP drops to 0, it uses Pounce before fainting.\",\n\t},\n\tbuyfish: {\n\t\tonSourceDamagingHit(damage, target, source, move) {\n\t\t\tsource.side.addFishingTokens(1);\n\t\t},\n\t\tflags: {},\n\t\tname: \"buy fish\",\n\t\tshortDesc: \"This Pokemon's attacks add one token to its side.\",\n\t},\n\tsourhour: {\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.type === 'Grass') { // hardcode\n\t\t\t\tmove.type = 'Lemon';\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Sour Hour\",\n\t\tshortDesc: \"This Pokemon's Grass-type moves are Lemon-type.\",\n\t},\n\tghoulgobbler: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ghost') {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Ghoul Gobbler');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonSourceBasePowerPriority: 17,\n\t\tonSourceBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\treturn this.chainModify(1.25);\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'graveyard') return false;\n\t\t},\n\t\tonWeather(target, source, effect) {\n\t\t\tif (target.hasItem('utilityumbrella')) return;\n\t\t\tif (effect.id === 'graveyard') {\n\t\t\t\tthis.heal(target.baseMaxhp / 8);\n\t\t\t} else if (effect.id === 'sunnyday' || effect.id === 'desolateland') {\n\t\t\t\tthis.damage(target.baseMaxhp / 8, target, target);\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Ghoul Gobbler\",\n\t\tshortDesc: \"This Pokemon is healed 1/4 by Ghost, 1/8 by Graveyard; is hurt 1.25x by Fire, 1/8 by Sun.\",\n\t},\n\t\n\t//slate 8\n\tblightofthefallen: {\n\t\tonSourceTryPrimaryHit(target, source, move) {\n\t\t\tif (move.type === 'Ghost' && target.hp <= target.maxhp / 4 && this.field.isWeather('graveyard')) {\n\t\t\t\tthis.add('-activate', source, 'ability: Blight of the Fallen');\n\t\t\t\ttarget.faint();\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Blight of the Fallen\",\n\t\tshortDesc: \"This Pokemon's Ghost-type moves faint targets under 25% HP in Graveyard.\",\n\t},\n\ttimefrozenbody: {\n\t\tonResidualOrder: 28,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tthis.boost({spe: -1});\n\t\t\tif(pokemon.boosts['spe'] === -6 && pokemon.status !== 'frz') {\n\t\t\t\tpokemon.cureStatus();\n\t\t\t\tpokemon.setStatus('frz');\n\t\t\t}\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tif (pokemon.status === 'frz') pokemon.cureStatus();\n\t\t},\n\t\tflags: {},\n\t\tname: \"Timefrozen Body\",\n\t\tshortDesc: \"-1 Spe each turn. -6 Spe: frozen. Thaws upon switching out.\",\n\t},\n\tbloodlinespellblazeball: {\n\t\tonStart(pokemon) {\n\t\t\tfor (const move of pokemon.moveSlots) {\n\t\t\t\tif (move.id === 'blazeball') return;\n\t\t\t}\n\t\t\tconst blazeball = this.dex.moves.get('blazeball');\n\t\t\tconst newMove = {\n\t\t\t\tmove: blazeball.name,\n\t\t\t\tid: blazeball.id,\n\t\t\t\tpp: blazeball.pp * 1.6,\n\t\t\t\tmaxpp: blazeball.pp * 1.6,\n\t\t\t\ttarget: blazeball.target,\n\t\t\t\tdisabled: false,\n\t\t\t\tused: false,\n\t\t\t\tvirtual: true,\n\t\t\t};\n\t\t\tpokemon.moveSlots[pokemon.moveSlots.length] = newMove;\n\t\t\tpokemon.baseMoveSlots[pokemon.baseMoveSlots.length] = newMove;\n\t\t},\n\t\tflags: {},\n\t\tname: \"Bloodline Spell: Blazeball\",\n\t\tshortDesc: \"This Pokemon has Blazeball as an additional moveslot.\",\n\t},\n\tunitedparty: {\n\t\t//Death\n\t\tonStart(pokemon) {\n\t\t\tconst copen = pokemon.side.pokemon.filter(p => p != pokemon && !p.fainted && p.baseSpecies.copen);\n\t\t\tif (copen.length > 0) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: United Party');\n\t\t\t\tthis.add('-start', pokemon, `copen${copen.length}`, '[silent]');\n\t\t\t\tpokemon.copen = copen.length;\n\t\t\t}\n\t\t\t//effects in respective fields (gonna do this later lol...)\n\t\t},\n\t\tflags: {},\n\t\tname: \"United Party\",\n\t\tshortDesc: \"(Non-functional) Field effects have 1 extra turn per Copen Pokemon.\",\n\t},\n\tbathroombreak: {\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.type === 'Water') target.switchFlag = true;\n\t\t},\n\t\tname: \"Bathroom Break\",\n\t\tshortDesc: \"This Pokemon switches out when hit by a Water move.\",\n\t},\n\tnecrodancer: {\n\t\tonResidualOrder: 28,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tif (!pokemon.hp) return;\n\t\t\tfor (const target of pokemon.foes()) {\n\t\t\t\tif (target.effectiveWeather() === 'graveyard') {\n\t\t\t\t\tthis.damage(target.baseMaxhp / 16, target, pokemon);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Necrodancer\",\n\t\tshortDesc: \"If Graveyard is active, foes lose 1/16 of their max HP at the end of each turn.\",\n\t},\n\tconversionz: {\n\t\tshortDesc: \"If the Pok\u00E9mon changes its type, the result is permanent. Deletes STAB.\",\n\t\tonSwitchIn(pokemon) {\n\t\t\tif (pokemon.species.id !== 'porygonzmega') return;\n\t\t\tconst type = this.dex.species.get(pokemon.species).types[0];\n\t\t\tif (pokemon.hasType(type) || !pokemon.setType(type)) return;\n\t\t\tthis.add('-start', pokemon, 'typechange', type);\n\t\t},\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (source.species.id !== 'porygonzmega') return;\n\t\t\tif (move.id === 'conversion' || move.id === 'conversion2') {\n\t\t\t\tthis.add('-ability', source, 'Conversion-Z');\n\t\t\t\tconst pokemon = this.dex.species.get(source.species);\n\t\t\t\tpokemon.types[0] = source.types[0];\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tdelete move.stab;\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Conversion-Z\",\n\t\trating: 5,\n\t\tnum: -5000,\n\t},\n\tsnakewood: {\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('ability:bulletproof');\n\t\t\tpokemon.addVolatile('ability:gluttony');\n\t\t\tpokemon.addVolatile('ability:quickfeet');\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Snakewood\",\n\t\tshortDesc: \"Bulletproof + Gluttony + Quick Feet\",\n\t},\n\tpristinedessert: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (['Bug', 'Grass'].includes(move.type) && target !== source) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Pristine Dessert');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('pristinedessert');\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 3,\n\t\t\tonResidualOrder: 28,\n\t\t\tonResidualSubOrder: 2,\n\t\t\tonStart(target) {\n\t\t\t\tthis.add('-start', target, 'ability: Pristine Dessert');\n\t\t\t},\n\t\t\tonResidual(pokemon) {\n\t\t\t\tif (!pokemon.activeTurns) {\n\t\t\t\t\tthis.effectState.duration += 1;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonModifySpe(spe, pokemon) {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t},\n\t\t\tonEnd(target) {\n\t\t\t\tthis.add('-end', target, 'Pristine Dessert');\n\t\t\t},\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Pristine Dessert\",\n\t\tshortDesc: \"This Pokemon is immune to Bug/Grass, but has halved Spe for 3 turns.\",\n\t},\n\tdisgustingrepulsivedessert: {\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('ability:aromaveil');\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Disgusting, Repulsive Dessert\",\n\t\tshortDesc: \"Aroma Veil\",\n\t},\n\t\n\t//slate 9\n\tcarcinization: {\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tsource.addVolatile('carcinization');\n\t\t},\n\t\tcondition: {\n\t\t\tnoCopy: true, // doesn't get copied by Baton Pass\n\t\t\tduration: 2,\n\t\t\tonStart(target, source) {\n\t\t\t\tthis.add('-start', target, 'Carcinization', '[silent]');\n\t\t\t},\n\t\t\tonResidualOrder: 23,\n\t\t\tonEnd(target) {\n\t\t\t\tthis.add('-start', target, 'Carcinization', '[silent]');\n\t\t\t\ttarget.formeChange('Kingler');\n\t\t\t},\n\t\t},\n\t\tflags: {},\n\t\tname: \"Carcinization\",\n\t\tshortDesc: \"Pokemon who damage this Pokemon forme change into Kingler in 1 turn.\",\n\t},\n\tsoursipper: {\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Lemon') {\n\t\t\t\tif (!this.boost({atk: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Sour Sipper');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (source === this.effectState.target || !target.isAlly(source)) return;\n\t\t\tif (move.type === 'Lemon') {\n\t\t\t\tthis.boost({atk: 1}, this.effectState.target);\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Sour Sipper\",\n\t\tshortDesc: \"This Pokemon's Attack is raised 1 stage if hit by a Lemon move; Lemon immunity.\",\n\t},\n\tsigmasurge: {\n\t\tonStart(source) {\n\t\t\tthis.field.addPseudoWeather('liondeluge');\n\t\t},\n\t\tflags: {},\n\t\tname: \"Sigma Surge\",\n\t\tshortDesc: \"On switchin, this Pokemon sets Lion Deluge.\",\n\t},\n\tultranecrozmaclause: {\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('trapped', pokemon);\n\t\t\tpokemon.addVolatile('perishsong');\n\t\t},\n\t\tflags: {},\n\t\tname: \"Ultra Necrozma Clause\",\n\t\tshortDesc: \"On switchin, this Pokemon becomes trapped and faints in 3 turns.\",\n\t},\n\tskeptic: {\n\t\tonSourceModifyAtkPriority: 6,\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (['Fairy', 'Dragon', 'Dark'].includes(move.type)) {\n\t\t\t\tthis.debug('Skeptic weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonSourceModifySpAPriority: 5,\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\n\t\t\tif (['Fairy', 'Dragon', 'Dark'].includes(move.type)) {\n\t\t\t\tthis.debug('Skeptic weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Skeptic\",\n\t\tshortDesc: \"This Pokemon takes halved damage from Fairy/Dragon/Dark moves.\",\n\t},\n\tjustthebirds: {\n\t\tonSourceDamagingHit(damage, target, source, move) {\n\t\t\ttarget.addVolatile('justthebirds');\n\t\t},\n\t\tcondition: {\n\t\t\tnoCopy: true,\n\t\t\tonStart(target) {\n\t\t\t\tthis.add('-start', target, 'Bird', '[silent]');\n\t\t\t\tconst targetSide = target.side;\n\t\t\t\tif (targetSide.getSideCondition('stealthrock')) {\n\t\t\t\t\tif (target.hasItem('heavydutyboots')) return;\n\t\t\t\t\tconst typeMod = this.clampIntRange(target.runEffectiveness(this.dex.getActiveMove('stealthrock')), -6, 6);\n\t\t\t\t\tthis.damage(target.maxhp * Math.pow(2, typeMod) / 8);\n\t\t\t\t\tthis.add('-message', `Pointed stones dug into ${target.name}!`);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tflags: {},\n\t\tname: \"just the birds\",\n\t\tshortDesc: \"When this Pokemon damages a target, they gain the Bird volatile.\",\n\t},\n\tslayerofbeasts: {\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tconst nonVanilla = [\"Anarlvet\",  \"Kingler-Mega\",  \"microwave\",  \"Lytlegai\",  \"Ohmyrod\",  \"Big Crammer\",  \"Samurott-Sinnoh\",  \"Goomba\",  \"Fridgile\",  \"Melmetal 2\",  \"Pidown\",  \"Kurayami\",  \"Zelda\",  \"Drigike\",  \"Phish\",  \"Smelmetal\",  \"Bondra\",  \"Tangette-Eternal\",  \"Donmigo\",  \"Dragoone\",  \"Collachet\",  \"Guiltrism\",  \"Swooliobat\",  \"Electrode-Mega\",  \"Mario Kart Wii\",  \"Impalpitoad\",  \"Scrubby\",  \"Ogerpon-Cornerstone\",  \"palpitoad is so cool\",  \"Moltres-Mega\",  \"Jirachitwo\",  \"Shinx-Fishing\",  \"Conquescape\",  \"Daiyakuza\",  \"Pokestar Fisherman\",  \"Magnegiri\",  \"mario\",  \"Contamicow\",  \"Whonhef\",  \"Fish Factory\",  \"cowboy_bandido\",  \"Pokestar Giant\",  \"Richard Petty\",  \"Impidimp-Mega\",  \"Lemon\",  \"Fishing Zombie\",  \"Pokestar MT\",  \"Margaret Thatcher\",  \"Flesh Valiant\",  \"Flesh Valiant-Mega\",  \"Ronald Reagan\",  \"Lime Lips\",  \"Lemotic\",  \"Zestii\",  \"Rawring Moon\",  \"Boogerpon-CLOWNerstone\",  \"Keisberg-IF\",  \"Apple's Newest Emoji\",  \"Lemon Fish\",  \"Goddease\",  \"Jableye\",  \"Kyrum\",  \"Raccoon\",  \"Lucario-Calm\",  \"Nedontrol\",  \"Princirang\",  \"Iron Clown\",  \"The Pearl Hand\",  \"McFish\",  \"Applwirm\",  \"minun and plusle :D\", \"Traike\", \"Dr. Liberty\", \"Sunflora-Grave\", \"Hydralemon\", \"Hiveweb\", \"Syndican\\'t\", \"Fish Marketing 3\", \"Lemonganium\", \"Carnivine-IF\", \"Grumpig\", \"Impromancer\", \"Pander Dragoon\", \"Soruarc\", \"Skibidragon\", \"Hitmontop-Mega\", \"Porygon-Z-Mega\", \"Furumo\", \"mega man\", \"Fudgesaur\", \"Fudgesaur-Mega\", \"darkpoison\", \"Sigma Rice Lion\", \"Lickilord\", \"Citrus Jams\", \"Everh\u00E1l\", \"Grimace\", \"Pyroaring\", \"Tyler the Creator\", \"Bart\", \"Upvybones\", \"Ludicolo\", \"T'La'\u00C1gh\", \"Regibloom\", \"Old Duke\"];\n\t\t\tif (nonVanilla.includes(target.baseSpecies.name)) return this.chainModify([4915, 4096]);\n\t\t},\n\t\tonModifyMovePriority: 1,\n\t\tonModifyMove(move, attacker, defender) {\n\t\t\tconst nonVanilla = [\"Anarlvet\",  \"Kingler-Mega\",  \"microwave\",  \"Lytlegai\",  \"Ohmyrod\",  \"Big Crammer\",  \"Samurott-Sinnoh\",  \"Goomba\",  \"Fridgile\",  \"Melmetal 2\",  \"Pidown\",  \"Kurayami\",  \"Zelda\",  \"Drigike\",  \"Phish\",  \"Smelmetal\",  \"Bondra\",  \"Tangette-Eternal\",  \"Donmigo\",  \"Dragoone\",  \"Collachet\",  \"Guiltrism\",  \"Swooliobat\",  \"Electrode-Mega\",  \"Mario Kart Wii\",  \"Impalpitoad\",  \"Scrubby\",  \"Ogerpon-Cornerstone\",  \"palpitoad is so cool\",  \"Moltres-Mega\",  \"Jirachitwo\",  \"Shinx-Fishing\",  \"Conquescape\",  \"Daiyakuza\",  \"Pokestar Fisherman\",  \"Magnegiri\",  \"mario\",  \"Contamicow\",  \"Whonhef\",  \"Fish Factory\",  \"cowboy_bandido\",  \"Pokestar Giant\",  \"Richard Petty\",  \"Impidimp-Mega\",  \"Lemon\",  \"Fishing Zombie\",  \"Pokestar MT\",  \"Margaret Thatcher\",  \"Flesh Valiant\",  \"Flesh Valiant-Mega\",  \"Ronald Reagan\",  \"Lime Lips\",  \"Lemotic\",  \"Zestii\",  \"Rawring Moon\",  \"Boogerpon-CLOWNerstone\",  \"Keisberg-IF\",  \"Apple's Newest Emoji\",  \"Lemon Fish\",  \"Goddease\",  \"Jableye\",  \"Kyrum\",  \"Raccoon\",  \"Lucario-Calm\",  \"Nedontrol\",  \"Princirang\",  \"Iron Clown\",  \"The Pearl Hand\",  \"McFish\",  \"Applwirm\",  \"minun and plusle :D\", \"Traike\", \"Dr. Liberty\", \"Sunflora-Grave\", \"Hydralemon\", \"Hiveweb\", \"Syndican\\'t\", \"Fish Marketing 3\", \"Lemonganium\", \"Carnivine-IF\", \"Grumpig\", \"Impromancer\", \"Pander Dragoon\", \"Soruarc\", \"Skibidragon\", \"Hitmontop-Mega\", \"Porygon-Z-Mega\", \"Furumo\", \"mega man\", \"Fudgesaur\", \"Fudgesaur-Mega\", \"darkpoison\", \"Sigma Rice Lion\", \"Lickilord\", \"Citrus Jams\", \"Everh\u00E1l\", \"Grimace\", \"Pyroaring\", \"Tyler the Creator\", \"Bart\", \"Upvybones\", \"Ludicolo\", \"T'La'\u00C1gh\", \"Regibloom\", \"Old Duke\"];\n\t\t\tif (nonVanilla.includes(defender.baseSpecies.name)) move.accuracy = true;\n\t\t},\n\t\tflags: {},\n\t\tname: \"Slayer of Beasts\",\n\t\tshortDesc: \"This Pokemon's moves have 1.2x power and cannot miss against Fakemon.\",\n\t},\n\tdoomer: {\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.flags['futuremove']) return this.chainModify([4915, 4096]);\n\t\t},\n\t\tflags: {},\n\t\tname: \"Doomer\",\n\t\tshortDesc: \"This Pokemon's future moves have 1.2x power.\",\n\t},\n\tfruitybars: {\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tif (move.flags['sound']) move.type = 'Lemon';\n\t\t},\n\t\tflags: {},\n\t\tname: \"Fruity Bars\",\n\t\tshortDesc: \"This Pokemon's sound moves are Lemon-type.\",\n\t},\n\tsociallyunaware: {\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('ability:unaware');\n\t\t\tpokemon.addVolatile('ability:oblivious');\n\t\t},\n\t\tflags: {breakable: 1},\n\t\tname: \"Socially Unaware\",\n\t\tshortDesc: \"Unaware + Oblivious\",\n\t},\n\t\n\t//slate 10\n\tfashionicon: {\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(spa, pokemon) {\n\t\t\tif (['graveyard'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'graveyard') return false;\n\t\t},\n\t\tflags: {},\n\t\tname: \"Fashion icon\",\n\t\tshortDesc: \"This Pokemon's Sp. Atk is 1.5x in Graveyard; immunity to Graveyard.\",\n\t},\n\tdilf: {\n\t\tonResidualOrder: 28,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tif (!pokemon.hp) return;\n\t\t\tpokemon.side.addFishingTokens(1);\n\t\t},\n\t\tflags: {},\n\t\tname: \"DILF\",\n\t\tshortDesc: \"This Pokemon gains one Fishing Token at the end of each turn.\",\n\t},\n\tstillwater: {\n\t\t//effect in madness counter\n\t\tflags: {},\n\t\tname: \"Still Water\",\n\t\tshortDesc: \"When this Pokemon consumes a Madness Counter, it adds 3 Fishing Tokens instead of raising its highest stat.\",\n\t},\n\tracersspirit: {\n\t\tonStart(pokemon) {\n\t\t\tpokemon.addVolatile('ability:adaptability');\n\t\t\tpokemon.addVolatile('ability:moxie');\n\t\t\tpokemon.addVolatile('ability:scrappy');\n\t\t},\n\t\t//tera steel in scripts.ts\n\t\tflags: {},\n\t\tname: \"Racer's Spirit\",\n\t\tshortDesc: \"Adaptability + Moxie + Scrappy + Big Button Teras Steel.\",\n\t},\n\thoennlover: {\n\t\tonStart(pokemon) {\n\t\t\tlet hoenn = pokemon.side.pokemon.filter(p => p !== pokemon && p.baseSpecies.gen === 3).length;\n\t\t\tif (hoenn) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Hoenn Lover');\n\t\t\t\thoenn = Math.min(hoenn, 5);\n\t\t\t\tthis.add('-start', pokemon, `hoenn${hoenn}`, '[silent]');\n\t\t\t\tthis.effectState.hoenn = hoenn;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tthis.add('-end', pokemon, `fallen${this.effectState.hoenn}`, '[silent]');\n\t\t},\n\t\tonModifySpe(spe) {\n\t\t\tif (this.field.isTerrain('electricterrain')) {\n\t\t\t\treturn this.chainModify(1 + 0.15 * this.effectState.hoenn);\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Hoenn Lover\",\n\t\tshortDesc: \"This Pokemon's Spe is 1.15x for each other Hoenn Pokemon on its team.\",\n\t},\n\tmacabremourner: {\n\t\tonStart(source) {\n\t\t\tthis.field.setWeather('graveyard');\n\t\t\tconst fainted = source.side.totalFainted + source.side.foe.totalFainted;\n\t\t\tif (fainted) this.heal(source.baseMaxhp / 10 * fainted);\n\t\t\tif (source.addType('Ghost')) this.add('-start', source, 'typeadd', 'Ghost', '[from] ability: Macabre Mourner');\n\t\t},\n\t\tflags: {},\n\t\tname: \"Macabre Mourner\",\n\t\tshortDesc: \"On switchin, sets Graveyard, adds Ghost, heals 10% for each fainted Pokemon.\",\n\t},\n\tjestersfolly: {\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (this.checkMoveMakesContact(move, source, target)) {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.addVolatile('insanity', target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Jester's Folly\",\n\t\tshortDesc: \"30% chance a Pokemon making contact with this Pokemon will get Insanity.\"\n\t},\n\twrathofthesmogonbird: {\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move?.type === 'Flying') return priority + 1;\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.type === 'Fire') return this.chainModify([4915, 4096]);\n\t\t},\n\t\tflags: {},\n\t\tname: \"WRATH OF THE SMOGONBIRD\",\n\t\tshortDesc: \"This Pokemon's Fire-type moves have 1.2x power, and its Flying moves +1 priority.\",\n\t},\n\ttoxicwisdom: {\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('acidrain')) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'acidrain') return false;\n\t\t},\n\t\tflags: {},\n\t\tname: \"Toxic Wisdom\",\n\t\tshortDesc: \"This Pokemon's Spe is doubled in Acid Rain; immunity to Acid Rain.\",\n\t},\n\tmonstermash: {\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('graveyard')) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'graveyard') return false;\n\t\t},\n\t\tflags: {},\n\t\tname: \"Monster Mash\",\n\t\tshortDesc: \"This Pokemon's Spe is doubled in Graveyard; immunity to Graveyard.\",\n\t},\n\t\n\t//vanilla\n\tmimicry: {\n\t\tinherit: true,\n\t\tonTerrainChange(pokemon) {\n\t\t\tlet types;\n\t\t\tswitch (this.field.terrain) {\n\t\t\tcase 'electricterrain':\n\t\t\t\ttypes = ['Electric'];\n\t\t\t\tbreak;\n\t\t\tcase 'grassyterrain':\n\t\t\t\ttypes = ['Grass'];\n\t\t\t\tbreak;\n\t\t\tcase 'mistyterrain':\n\t\t\t\ttypes = ['Fairy'];\n\t\t\t\tbreak;\n\t\t\tcase 'psychicterrain':\n\t\t\t\ttypes = ['Psychic'];\n\t\t\t\tbreak;\n\t\t\tcase 'fishingterrain':\n\t\t\t\ttypes = ['Water'];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttypes = pokemon.baseSpecies.types;\n\t\t\t}\n\t\t\tconst oldTypes = pokemon.getTypes();\n\t\t\tif (oldTypes.join() === types.join() || !pokemon.setType(types)) return;\n\t\t\tif (this.field.terrain || pokemon.transformed) {\n\t\t\t\tthis.add('-start', pokemon, 'typechange', types.join('/'), '[from] ability: Mimicry');\n\t\t\t\tif (!this.field.terrain) this.hint(\"Transform Mimicry changes you to your original un-transformed types.\");\n\t\t\t} else {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Mimicry');\n\t\t\t\tthis.add('-end', pokemon, 'typechange', '[silent]');\n\t\t\t}\n\t\t},\n\t},\n\tpoisonpuppeteer: {\n\t\tinherit: true,\n\t\tshortDesc: \"Thatcher: If this Pokemon poisons a target, the target also becomes confused.\",\n\t\tonAnyAfterSetStatus(status, target, source, effect) {\n\t\t\tif (source.baseSpecies.name !== \"Margaret Thatcher\") return;\n\t\t\tif (source !== this.effectState.target || target === source || effect.effectType !== 'Move') return;\n\t\t\tif (status.id === 'psn' || status.id === 'tox') {\n\t\t\t\ttarget.addVolatile('confusion');\n\t\t\t}\n\t\t},\n\t},\n\tlibero: {\n\t\tinherit: true,\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (move.hasBounced || move.flags['futuremove'] || move.sourceEffect === 'snatch' || move.callsMove) return;\n\t\t\tconst type = move.type;\n\t\t\tif (type && type !== '???' && source.getTypes().join() !== type) {\n\t\t\t\tif (!source.setType(type)) return;\n\t\t\t\tthis.effectState.libero = source.previouslySwitchedIn;\n\t\t\t\tthis.add('-start', source, 'typechange', type, '[from] ability: Libero');\n\t\t\t}\n\t\t},\n\t\tshortDesc: \"This Pokemon's type changes to the type of the move it is using.\",\n\t},\n\tdrought: {\n\t\tinherit: true,\n\t\tonStart(source) {\n\t\t\tif (this.field.isTerrain('fishingterrain')) {\n\t\t\t\tthis.add('-message', 'The fishing terrain blocked out the sun!');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.field.setWeather('sunnyday');\n\t\t},\n\t},\n\t\n\t//fake ability\n\thacked: {\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-message', `${pokemon.name} was hacked!`);\n\t\t},\n\t\tonFractionalPriorityPriority: -1,\n\t\tonFractionalPriority(priority, pokemon, target, move) {\n\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\tthis.add(`c:|${Math.floor(Date.now() / 1000)}|${getName(pokemon.name)}|https://twitter.com/Duo__M2`);\n\t\t\t\tif (target) target.addVolatile('ability:hacked');\n\t\t\t\treturn priority - 6.0;\n\t\t\t}\n\t\t},\n\t\tflags: {},\n\t\tname: \"Hacked\",\n\t},\n};\n"],
  "mappings": "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",
  "names": ["move", "target"]
}

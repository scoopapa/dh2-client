{
  "version": 3,
  "sources": ["../../../../data/mods/gen3advdx/conditions.ts"],
  "sourcesContent": ["export const Conditions: import('../../../sim/dex-conditions').ModdedConditionDataTable = {\n\tpartiallytrapped: {\n\t\tname: 'partiallytrapped',\n\t\tduration: 5,\n\t\tdurationCallback(target, source) {\n\t\t\tif (source?.hasItem('gripclaw')) return 8;\n\t\t\treturn this.random(5, 7);\n\t\t},\n\t\tonStart(pokemon, source) {\n\t\t\tthis.add('-activate', pokemon, 'move: ' + this.effectState.sourceEffect, '[of] ' + source);\n\t\t\tthis.effectState.boundDivisor = source.hasItem('gripclaw') ? 4 : 8;\n\t\t},\n\t\tonResidualOrder: 13,\n\t\tonResidual(pokemon) {\n\t\t\tconst source = this.effectState.source;\n\t\t\t// G-Max Centiferno and G-Max Sandblast continue even after the user leaves the field\n\t\t\tconst gmaxEffect = ['gmaxcentiferno', 'gmaxsandblast'].includes(this.effectState.sourceEffect.id);\n\t\t\tif (source && (!source.isActive || source.hp <= 0 || !source.activeTurns) && !gmaxEffect) {\n\t\t\t\tdelete pokemon.volatiles['partiallytrapped'];\n\t\t\t\tthis.add('-end', pokemon, this.effectState.sourceEffect, '[partiallytrapped]', '[silent]');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.damage(pokemon.baseMaxhp / this.effectState.boundDivisor);\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tthis.add('-end', pokemon, this.effectState.sourceEffect, '[partiallytrapped]');\n\t\t},\n\t\tonTrapPokemon(pokemon) {\n\t\t\tconst gmaxEffect = ['gmaxcentiferno', 'gmaxsandblast'].includes(this.effectState.sourceEffect.id);\n\t\t\tif (!pokemon.hasAbility('runaway') && (this.effectState.source?.isActive || gmaxEffect)) pokemon.tryTrap();\n\t\t},\n\t},\n\tsnow: {\n\t\tname: 'Snow',\n\t\teffectType: 'Weather',\n\t\tduration: 5,\n\t\tdurationCallback(source, effect) {\n\t\t\tif (source?.hasItem('icyrock')) {\n\t\t\t\treturn 8;\n\t\t\t}\n\t\t\treturn 5;\n\t\t},\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\n\t\t\tif (move.type === 'Ice') {\n\t\t\t\tthis.debug('Snowscape ice boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonFieldStart(field, source, effect) {\n\t\t\tif (effect?.effectType === 'Ability') {\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\n\t\t\t\tthis.add('-weather', 'Snow', '[from] ability: ' + effect.name, '[of] ' + source);\n\t\t\t} else {\n\t\t\t\tthis.add('-weather', 'Snow');\n\t\t\t}\n\t\t},\n\t\tonFieldResidualOrder: 1,\n\t\tonFieldResidual() {\n\t\t\tthis.add('-weather', 'Snow', '[upkeep]');\n\t\t\tif (this.field.isWeather('snow')) this.eachEvent('Weather');\n\t\t},\n\t\tonFieldEnd() {\n\t\t\tthis.add('-weather', 'none');\n\t\t},\n\t},\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,MAAM,aAA6E;AAAA,EACzF,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,UAAU;AAAG,eAAO;AACxC,aAAO,KAAK,OAAO,GAAG,CAAC;AAAA,IACxB;AAAA,IACA,QAAQ,SAAS,QAAQ;AACxB,WAAK,IAAI,aAAa,SAAS,WAAW,KAAK,YAAY,cAAc,UAAU,MAAM;AACzF,WAAK,YAAY,eAAe,OAAO,QAAQ,UAAU,IAAI,IAAI;AAAA,IAClE;AAAA,IACA,iBAAiB;AAAA,IACjB,WAAW,SAAS;AACnB,YAAM,SAAS,KAAK,YAAY;AAEhC,YAAM,aAAa,CAAC,kBAAkB,eAAe,EAAE,SAAS,KAAK,YAAY,aAAa,EAAE;AAChG,UAAI,WAAW,CAAC,OAAO,YAAY,OAAO,MAAM,KAAK,CAAC,OAAO,gBAAgB,CAAC,YAAY;AACzF,eAAO,QAAQ,UAAU,kBAAkB;AAC3C,aAAK,IAAI,QAAQ,SAAS,KAAK,YAAY,cAAc,sBAAsB,UAAU;AACzF;AAAA,MACD;AACA,WAAK,OAAO,QAAQ,YAAY,KAAK,YAAY,YAAY;AAAA,IAC9D;AAAA,IACA,MAAM,SAAS;AACd,WAAK,IAAI,QAAQ,SAAS,KAAK,YAAY,cAAc,oBAAoB;AAAA,IAC9E;AAAA,IACA,cAAc,SAAS;AACtB,YAAM,aAAa,CAAC,kBAAkB,eAAe,EAAE,SAAS,KAAK,YAAY,aAAa,EAAE;AAChG,UAAI,CAAC,QAAQ,WAAW,SAAS,MAAM,KAAK,YAAY,QAAQ,YAAY;AAAa,gBAAQ,QAAQ;AAAA,IAC1G;AAAA,EACD;AAAA,EACA,MAAM;AAAA,IACL,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,SAAS,GAAG;AAC/B,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA,IACA,sBAAsB,QAAQ,UAAU,UAAU,MAAM;AACvD,UAAI,SAAS,QAAQ,iBAAiB;AAAG;AACzC,UAAI,KAAK,SAAS,OAAO;AACxB,aAAK,MAAM,qBAAqB;AAChC,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,aAAa,OAAO,QAAQ,QAAQ;AACnC,UAAI,QAAQ,eAAe,WAAW;AACrC,YAAI,KAAK,OAAO;AAAG,eAAK,YAAY,WAAW;AAC/C,aAAK,IAAI,YAAY,QAAQ,qBAAqB,OAAO,MAAM,UAAU,MAAM;AAAA,MAChF,OAAO;AACN,aAAK,IAAI,YAAY,MAAM;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,sBAAsB;AAAA,IACtB,kBAAkB;AACjB,WAAK,IAAI,YAAY,QAAQ,UAAU;AACvC,UAAI,KAAK,MAAM,UAAU,MAAM;AAAG,aAAK,UAAU,SAAS;AAAA,IAC3D;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AACD;",
  "names": []
}

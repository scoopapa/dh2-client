{
  "version": 3,
  "sources": ["../../../../data/mods/gen2stadium2/moves.ts"],
  "sourcesContent": ["export const Moves: import('../../../sim/dex-moves').ModdedMoveDataTable = {\n\t// Belly Drum no longer boosts attack by 2 stages if under 50% health.\n\tbellydrum: {\n\t\tinherit: true,\n\t\tonHit(target) {\n\t\t\tif (target.boosts.atk >= 6 || target.hp <= target.maxhp / 2) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.directDamage(target.maxhp / 2);\n\t\t\tconst originalStage = target.boosts.atk;\n\t\t\tlet currentStage = originalStage;\n\t\t\tlet boosts = 0;\n\t\t\tlet loopStage = 0;\n\t\t\twhile (currentStage < 6) {\n\t\t\t\tloopStage = currentStage;\n\t\t\t\tcurrentStage++;\n\t\t\t\tif (currentStage < 6) currentStage++;\n\t\t\t\ttarget.boosts.atk = loopStage;\n\t\t\t\tif (target.getStat('atk', false, true) < 999) {\n\t\t\t\t\ttarget.boosts.atk = currentStage;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttarget.boosts.atk = currentStage - 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tboosts = target.boosts.atk - originalStage;\n\t\t\ttarget.boosts.atk = originalStage;\n\t\t\tthis.boost({atk: boosts});\n\t\t},\n\t},\n\tdestinybond: {\n\t\tinherit: true,\n\t\tonPrepareHit(pokemon) {\n\t\t\tif (pokemon.side.pokemonLeft === 1) {\n\t\t\t\tthis.hint(\"In Pokemon Stadium 2, Destiny Bond fails if it is being used by your last Pokemon.\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\t/**\n\t * In Stadium 2, moves which affect the stat stages of a Pokemon, such as moves which boost ones own stats,\n\t * lower the targets stats, or Haze, causes the afflicted stat to be re-calculated without factoring in\n\t * status aliments, thus if a Pokemon is burned or paralyzed and either active Pokemon uses Haze, then their\n\t * attack and speed are re-calculated while ignoring their status ailments, so their attack would go from 50% to normal\n\t */\n\thaze: {\n\t\tinherit: true,\n\t\tonHitField() {\n\t\t\tthis.add('-clearallboost');\n\t\t\tfor (const pokemon of this.getAllActive()) {\n\t\t\t\tpokemon.clearBoosts();\n\t\t\t\tpokemon.removeVolatile('brnattackdrop');\n\t\t\t\tpokemon.removeVolatile('parspeeddrop');\n\t\t\t}\n\t\t},\n\t},\n\tperishsong: {\n\t\tinherit: true,\n\t\tonPrepareHit(pokemon) {\n\t\t\tif (pokemon.side.pokemonLeft === 1) {\n\t\t\t\tthis.hint(\"In Pokemon Stadium 2, Perish Song fails if it is being used by your last Pokemon.\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,MAAM,QAA8D;AAAA;AAAA,EAE1E,WAAW;AAAA,IACV,SAAS;AAAA,IACT,MAAM,QAAQ;AACb,UAAI,OAAO,OAAO,OAAO,KAAK,OAAO,MAAM,OAAO,QAAQ,GAAG;AAC5D,eAAO;AAAA,MACR;AACA,WAAK,aAAa,OAAO,QAAQ,CAAC;AAClC,YAAM,gBAAgB,OAAO,OAAO;AACpC,UAAI,eAAe;AACnB,UAAI,SAAS;AACb,UAAI,YAAY;AAChB,aAAO,eAAe,GAAG;AACxB,oBAAY;AACZ;AACA,YAAI,eAAe;AAAG;AACtB,eAAO,OAAO,MAAM;AACpB,YAAI,OAAO,QAAQ,OAAO,OAAO,IAAI,IAAI,KAAK;AAC7C,iBAAO,OAAO,MAAM;AACpB;AAAA,QACD;AACA,eAAO,OAAO,MAAM,eAAe;AACnC;AAAA,MACD;AACA,eAAS,OAAO,OAAO,MAAM;AAC7B,aAAO,OAAO,MAAM;AACpB,WAAK,MAAM,EAAC,KAAK,OAAM,CAAC;AAAA,IACzB;AAAA,EACD;AAAA,EACA,aAAa;AAAA,IACZ,SAAS;AAAA,IACT,aAAa,SAAS;AACrB,UAAI,QAAQ,KAAK,gBAAgB,GAAG;AACnC,aAAK,KAAK,oFAAoF;AAC9F,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,MAAM;AAAA,IACL,SAAS;AAAA,IACT,aAAa;AACZ,WAAK,IAAI,gBAAgB;AACzB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,gBAAQ,YAAY;AACpB,gBAAQ,eAAe,eAAe;AACtC,gBAAQ,eAAe,cAAc;AAAA,MACtC;AAAA,IACD;AAAA,EACD;AAAA,EACA,YAAY;AAAA,IACX,SAAS;AAAA,IACT,aAAa,SAAS;AACrB,UAAI,QAAQ,KAAK,gBAAgB,GAAG;AACnC,aAAK,KAAK,mFAAmF;AAC7F,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACD;AACD;",
  "names": []
}

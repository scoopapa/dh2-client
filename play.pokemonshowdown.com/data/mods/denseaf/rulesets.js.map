{
  "version": 3,
  "sources": ["../../../../data/mods/denseaf/rulesets.ts"],
  "sourcesContent": ["export const Rulesets: {[k: string]: ModdedFormatData} = {\n\n\t//copying Nihilslave\n\tdenseafmod: {\n\t\teffectType: 'Rule',\n\t\tname: \"Dense AF Mod\",\n\t\tonBegin() {\n\t\t\tthis.add('rule', 'Dense AF Mod: Modifies types, stats and team preview.');\n\t\t},\n\n\t\tonModifySpeciesPriority: 2,\n\t\tonModifySpecies(species, target, source, effect) {\n\t\t\tif (!target) return; // Chat command\n\t\t\tif (effect && ['imposter', 'transform'].includes(effect.id)) return;\n\n\t\t\tconst set = target.set;\n\n\t\t\t// set types\n\t\t\tconst types = new Set<string>();\n\t\t\tconst ivtypes = [\n\t\t\t\t'Bug', 'Dark', 'Dragon', 'Electric', 'Fairy', 'Fighting', 'Fire', 'Flying', 'Ghost', \n\t\t\t\t'Grass', 'Ground', 'Ice', 'Normal', 'Poison', 'Psychic', 'Rock', 'Steel', 'Water',\n\t\t\t];\n\t\t\t\n\t\t\ttypes.add(set.ivs['hp']<18 ? ivtypes[set.ivs['hp']] : species.types[0]);\n\t\t\ttypes.add(set.ivs['spe']<18 ? ivtypes[set.ivs['spe']] : species.types[1]);\n\n\t\t\treturn {...species, types: [...types]};\n\t\t},\t\n\t\t\n\t\t//revealing mon types at team preview\n\t\tonTeamPreview() {\n\t\t\tthis.add('clearpoke');\n\t\t\tfor (const side of this.sides) {\n\t\t\t\tfor (const pokemon of side.pokemon) {\n\t\t\t\t\tlet details = pokemon.details;\n\t\t\t\t\tthis.add('poke', pokemon.side.id, details, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.makeRequest('teampreview');\n\t\t\tfor (const side of this.sides) {\n\t\t\t\tlet buf = `raw|<strong>${side.name}'s team:</strong><br/>`;\n\t\t\t\tfor (const pokemon of side.pokemon) {\n\t\t\t\t\tif (!buf.endsWith('|')) buf += '</span>&#8203;';\n\t\t\t\t\tconst species = this.dex.deepClone(pokemon.species);\n\t\t\t\t\t// manually print details cuz using Chat.getDataPokemonHTML() will cause client build issues\n\t\t\t\t\tbuf += '<div class=\"message\"><ul class=\"utilichart\">';\n\t\t\t\t\tbuf += '<li class=\"result\">';\n\t\t\t\t\tbuf += `<span class=\"col iconcol\"><psicon pokemon=\"${species.id}\"/></span> `;\n\t\t\t\t\tbuf += `<span class=\"col pokemonnamecol\" style=\"white-space:nowrap\"><a href=\"https://dex.pokemonshowdown.com/pokemon/${species.id}\" target=\"_blank\">${species.name}</a></span> `;\n\t\t\t\t\tbuf += '<span class=\"col typecol\">';\n\t\t\t\t\tif (species.types) {\n\t\t\t\t\t\tfor (const type of species.types) {\n\t\t\t\t\t\t\tbuf += `<img src=\"https://${Config.routes.client}/sprites/types/${type}.png\" alt=\"${type}\" height=\"14\" width=\"32\">`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbuf += '</span> ';\n\t\t\t\t\tbuf += '<span style=\"float:left;min-height:26px\">';\n\t\t\t\t\tbuf += '<span class=\"col abilitycol\">' + species.abilities['0'] + '<br />' + species.abilities['1'] + '</span>';\n\t\t\t\t\tbuf += '</span>';\n\t\t\t\t\tbuf += '<span style=\"float:left;min-height:26px\">';\n\t\t\t\t\tbuf += '<span class=\"col statcol\"><em>HP</em><br />' + species.baseStats.hp + '</span> ';\n\t\t\t\t\tbuf += '<span class=\"col statcol\"><em>Atk</em><br />' + species.baseStats.atk + '</span> ';\n\t\t\t\t\tbuf += '<span class=\"col statcol\"><em>Def</em><br />' + species.baseStats.def + '</span> ';\n\t\t\t\t\tbuf += '<span class=\"col statcol\"><em>SpA</em><br />' + species.baseStats.spa + '</span> ';\n\t\t\t\t\tbuf += '<span class=\"col statcol\"><em>SpD</em><br />' + species.baseStats.spd + '</span> ';\n\t\t\t\t\tbuf += '<span class=\"col statcol\"><em>Spe</em><br />' + species.baseStats.spe + '</span> ';\n\t\t\t\t\tbuf += '<span class=\"col bstcol\"><em>BST<br />' + species.bst + '</em></span> ';\n\t\t\t\t\tbuf += '</span>';\n\t\t\t\t\tbuf += '</li>';\n\t\t\t\t\tbuf += '<li style=\"clear:both\"></li></ul></div>';\n\t\t\t\t}\n\t\t\t\tthis.add(`${buf}</span>`);\n\t\t\t}\n\t\t},\n\t\tonSwitchIn(pokemon) {\n\t\t\tlet buf = 'raw|';\n\t\t\tif (!buf.endsWith('|')) buf += '/</span>&#8203;';\n\t\t\tconst species = this.dex.deepClone(pokemon.illusion ? pokemon.illusion.species : pokemon.species);\n\t\t\t// manually print details cuz using Chat.getDataPokemonHTML() will cause client build issues\n\t\t\tbuf += '<div class=\"message\"><ul class=\"utilichart\">';\n\t\t\tbuf += '<li class=\"result\">';\n\t\t\tbuf += `<span class=\"col iconcol\"><psicon pokemon=\"${species.id}\"/></span> `;\n\t\t\tbuf += `<span class=\"col pokemonnamecol\" style=\"white-space:nowrap\"><a href=\"https://dex.pokemonshowdown.com/pokemon/${species.id}\" target=\"_blank\">${species.name}</a></span> `;\n\t\t\tbuf += '<span class=\"col typecol\">';\n\t\t\tif (species.types) {\n\t\t\t\tfor (const type of species.types) {\n\t\t\t\t\tbuf += `<img src=\"https://${Config.routes.client}/sprites/types/${type}.png\" alt=\"${type}\" height=\"14\" width=\"32\">`;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf += '</span> ';\n\t\t\tbuf += '<span style=\"float:left;min-height:26px\">';\n\t\t\tbuf += '<span class=\"col twoabilitycol\">' + species.abilities['0'] + '<br />' + species.abilities['1'] + '</span>'; \n\t\t\tbuf += '</span>';\n\t\t\tbuf += '<span style=\"float:left;min-height:26px\">';\n\t\t\tbuf += '<span class=\"col statcol\"><em>HP</em><br />' + species.baseStats.hp + '</span> ';\n\t\t\tbuf += '<span class=\"col statcol\"><em>Atk</em><br />' + species.baseStats.atk + '</span> ';\n\t\t\tbuf += '<span class=\"col statcol\"><em>Def</em><br />' + species.baseStats.def + '</span> ';\n\t\t\tbuf += '<span class=\"col statcol\"><em>SpA</em><br />' + species.baseStats.spa + '</span> ';\n\t\t\tbuf += '<span class=\"col statcol\"><em>SpD</em><br />' + species.baseStats.spd + '</span> ';\n\t\t\tbuf += '<span class=\"col statcol\"><em>Spe</em><br />' + species.baseStats.spe + '</span> ';\n\t\t\tbuf += '<span class=\"col bstcol\"><em>BST<br />' + species.bst + '</em></span> ';\n\t\t\tbuf += '</span>';\n\t\t\tbuf += '<span style=\"float:left;min-height:26px\" class=\"col abilitycol\"><strong>' + pokemon.side.name + '</strong></span>';\n\t\t\tbuf += '</li>';\n\t\t\tbuf += '<li style=\"clear:both\"></li></ul></div>';\n\t\t\tthis.add(`${buf}</span>`);\n\t\t\t\n\t\t\t//for in-battle display i think?\n\t\t\tthis.add('-start', pokemon, 'typechange', (pokemon.illusion || pokemon).getTypes(true).join('/'), '[silent]');\n\t\t\tthis.add('-start', pokemon, 'denseafstats', Object.values((pokemon.illusion || pokemon).set.evs).join('/'), '[silent]');\n\t\t},\n\t},\n};\n"],
  "mappings": "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",
  "names": []
}

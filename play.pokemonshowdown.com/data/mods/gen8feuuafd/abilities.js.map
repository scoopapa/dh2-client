{
  "version": 3,
  "sources": ["../../../../data/mods/gen8feuuafd/abilities.ts"],
  "sourcesContent": ["export const Abilities: {[k: string]: ModdedAbilityData} = {\n\t// Set 1\n\tporous: {// Feel like this might be wrong\n\t\tid: \"porous\",\n\t\tname: \"Porous\",\n\t\tshortDesc: \"Ignores foe's stat stages; restores 1/4 max HP if hit by Water; Water immunity.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && (move.type === 'Water')) {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Porous');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAnyModifyBoost(boosts, pokemon) {\n\t\t\tconst unawareUser = this.effectState.target;\n\t\t\tif (unawareUser === pokemon) return;\n\t\t\tif (unawareUser === this.activePokemon && pokemon === this.activeTarget) {\n\t\t\t\tboosts['def'] = 0;\n\t\t\t\tboosts['spd'] = 0;\n\t\t\t\tboosts['evasion'] = 0;\n\t\t\t}\n\t\t\tif (pokemon === this.activePokemon && unawareUser === this.activeTarget) {\n\t\t\t\tboosts['atk'] = 0;\n\t\t\t\tboosts['def'] = 0;\n\t\t\t\tboosts['spa'] = 0;\n\t\t\t\tboosts['accuracy'] = 0;\n\t\t\t}\n\t\t},\n\t},\n\tdespicable: {\n\t\tid: \"despicable\",\n\t\tname: \"Despicable\",\n\t\tshortDesc: \"This Pokemon's attacks are critical hits if the target is burned or poisoned.\",\n\t\tonModifyCritRatio(critRatio, source, target) {\n\t\t\t// /////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\n\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\tignore = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (ignore) return;\n\t\t\t// /////////END PLACEHOLDER\n\t\t\tif (target && ['psn', 'tox', 'brn'].includes(target.status)) return 5;\n\t\t},\n\t},\n\tkingsguard: {\n\t\tid: \"kingsguard\",\n\t\tname: \"King's Guard\",\n\t\tshortDesc: \"Protected from enemy priority moves and Attack reduction.\",\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tif (boost.atk && boost.atk < 0) {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Attack\", \"[from] ability: King's Guard\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonFoeTryMove(target, source, move) {\n\t\t\tconst targetAllExceptions = ['perishsong', 'flowershield', 'rototiller'];\n\t\t\tif (move.target === 'foeSide' || (move.target === 'all' && !targetAllExceptions.includes(move.id))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst dazzlingHolder = this.effectState.target;\n\t\t\tif ((source.side === dazzlingHolder.side || move.target === 'all') && move.priority > 0.1) {\n\t\t\t\tthis.attrLastMove('[still]');\n\t\t\t\tthis.add('cant', dazzlingHolder, \"ability: King's Guard\", move, '[of] ' + target);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\tgrowthveil: { // Too long\n\t\tid: \"growthveil\",\n\t\tname: \"Growth Veil\",\n\t\tshortDesc: \"Restores 1/3 max HP on switch-out; ally Grass-types safe from enemy stat drops & status.\",\n\t\tdesc: \"Restores 1/3 max HP on switch-out; ally Grass-types can't have stats lowered or status inflicted.\",\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t\tonAllyBoost(boost, target, source, effect) {\n\t\t\tif ((source && target === source) || !target.hasType('Grass')) return;\n\t\t\tlet showMsg = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tdelete boost[i];\n\t\t\t\t\tshowMsg = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries) {\n\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\tthis.add('-block', target, 'ability: Growth Veil', '[of] ' + effectHolder);\n\t\t\t}\n\t\t},\n\t\tonAllySetStatus(status, target, source, effect) {\n\t\t\tif (target.hasType('Grass') && source && target !== source && effect && effect.id !== 'yawn') {\n\t\t\t\tthis.debug('interrupting setStatus with Growth Veil');\n\t\t\t\tif (effect.id === 'synchronize' || (effect.effectType === 'Move' && !effect.secondaries)) {\n\t\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\t\tthis.add('-block', target, 'ability: Growth Veil', '[of] ' + effectHolder);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryAddVolatile(status, target) {\n\t\t\tif (target.hasType('Grass') && status.id === 'yawn') {\n\t\t\t\tthis.debug('Growth Veil blocking yawn');\n\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\tthis.add('-block', target, 'ability: Growth Veil', '[of] ' + effectHolder);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tsurgeoneye: {\n\t\tid: \"surgeoneye\",\n\t\tname: \"Surgeon Eye\",\n\t\tshortDesc: \"Restores 1/3 max HP on switch-out. Attack power 1.3x if it moves last in a turn.\",\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon) {\n\t\t\tlet boosted = true;\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue; // PLACEHOLDER\n\t\t\t\tif (this.queue.willMove(target)) {\n\t\t\t\t\tboosted = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boosted) {\n\t\t\t\tthis.debug('Surgeon Eye boost');\n\t\t\t\treturn this.chainModify([0x14CD, 0x1000]);\n\t\t\t}\n\t\t},\n\t},\n\t// Set 2\n\troughresult: { // Too long\n\t\tid: \"roughresult\",\n\t\tname: \"Rough Result\",\n\t\tshortDesc: \"Foes making contact lose 1/8 max HP; if KOed by contact, attacker loses 1/4 max HP.\",\n\t\tdsc: \"Pokemon making contact lose 1/8 max HP; if KOed by a contact move, attacker loses 1/4 max HP.\",\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tthis.damage(source.baseMaxhp / 8, source, target);\n\t\t\t}\n\t\t\tif (move.flags['contact'] && !target.hp) {\n\t\t\t\tthis.damage(source.baseMaxhp / 4, source, target);\n\t\t\t}\n\t\t},\n\t},\n\teyeforaneye: {\n\t\tid: \"eyeforaneye\",\n\t\tname: \"Eye for an Eye\",\n\t\tshortDesc: \"This Pokemon blocks Dark-type moves and bounces them back to the user.\",\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target === source || move.hasBounced || move.type !== 'Dark') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.useMove(newMove, target, source);\n\t\t\treturn null;\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (target.side === source.side || move.hasBounced || move.type !== 'Dark') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.useMove(newMove, this.effectState.target, source);\n\t\t\treturn null;\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t},\n\t},\n\tnaturalheal: {\n\t\tid: \"naturalheal\",\n\t\tname: \"Natural Heal\",\n\t\tshortDesc: \"Restores 1/3 max HP and cures non-volatile status on switch-out.\",\n\t\tonCheckShow(pokemon) {\n\t\t\t// This is complicated\n\t\t\t// For the most part, in-game, it's obvious whether or not Natural Cure activated,\n\t\t\t// since you can see how many of your opponent's pokemon are statused.\n\t\t\t// The only ambiguous situation happens in Doubles/Triples, where multiple pokemon\n\t\t\t// that could have Natural Cure switch out, but only some of them get cured.\n\t\t\tif (pokemon.side.active.length === 1) return;\n\t\t\tif (pokemon.showCure === true || pokemon.showCure === false) return;\n\n\t\t\tconst cureList = [];\n\t\t\tlet noCureCount = 0;\n\t\t\tfor (const curPoke of pokemon.side.active) {\n\t\t\t\t// pokemon not statused\n\t\t\t\tif (!curPoke || !curPoke.status) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: not statused or doesn't exist\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (curPoke.showCure) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: Natural Cure already known\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst species = curPoke.species;\n\t\t\t\t// pokemon can't get Natural Cure\n\t\t\t\tif (!Object.values(species.abilities).includes('Natural Cure') && !Object.values(species.abilities).includes('Natural Heal')) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: no Natural Cure\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// pokemon's ability is known to be Natural Cure\n\t\t\t\tif (!species.abilities['1'] && !species.abilities['H']) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: only one ability\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// pokemon isn't switching this turn\n\t\t\t\tif (curPoke !== pokemon && !this.queue.willSwitch(curPoke)) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: not switching\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (curPoke.hasAbility('naturalcure') || curPoke.hasAbility('naturalheal')) {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" confirmed: could be Natural Cure (and is)\");\n\t\t\t\t\tcureList.push(curPoke);\n\t\t\t\t} else {\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" confirmed: could be Natural Cure (but isn't)\");\n\t\t\t\t\tnoCureCount++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!cureList.length || !noCureCount) {\n\t\t\t\t// It's possible to know what pokemon were cured\n\t\t\t\tfor (const pkmn of cureList) {\n\t\t\t\t\tpkmn.showCure = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// It's not possible to know what pokemon were cured\n\n\t\t\t\t// Unlike a -hint, this is real information that battlers need, so we use a -message\n\t\t\t\tthis.add('-message', \"(\" + cureList.length + \" of \" + pokemon.side.name + \"'s pokemon \" + (cureList.length === 1 ? \"was\" : \"were\") + \" cured by Natural Heal.)\");\n\n\t\t\t\tfor (const pkmn of cureList) {\n\t\t\t\t\tpkmn.showCure = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t\tif (!pokemon.status) return;\n\n\t\t\t// if pokemon.showCure is undefined, it was skipped because its ability\n\t\t\t// is known\n\t\t\tif (pokemon.showCure === undefined) pokemon.showCure = true;\n\n\t\t\tif (pokemon.showCure) this.add('-curestatus', pokemon, pokemon.status, '[from] ability: Natural Heal');\n\t\t\tpokemon.setStatus('');\n\n\t\t\t// only reset .showCure if it's false\n\t\t\t// (once you know a Pokemon has Natural Cure, its cures are always known)\n\t\t\tif (!pokemon.showCure) pokemon.showCure = undefined;\n\t\t},\n\t},\n\toverseeingmonarch: {\n\t\tname: \"Overseeing Monarch\",\n\t\tdesc: \"On switch-in, identifies foes' items; on switch-out, restores 1/3 max HP.\",\n\t\tonStart(pokemon) {\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || target.fainted) continue;\n\t\t\t\tif (target.item) {\n\t\t\t\t\tthis.add('-item', target, target.getItem().name, '[from] ability: Overseeing Monarch', '[of] ' + pokemon, '[identify]');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t},\n\tporousfat: {\n\t\tid: \"porousfat\",\n\t\tname: \"Porous Fat\",\n\t\tshortDesc: \"Fire/Ice/Water moves against this Pokemon deal damage with a halved attacking stat.\",\n\t\tonSourceModifyAtkPriority: 6,\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire' || move.type === 'Water') {\n\t\t\t\tthis.debug('Porous Fat weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonSourceModifySpAPriority: 5,\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire' || move.type === 'Water') {\n\t\t\t\tthis.debug('Porous Fat weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t},\n\n\t// set 3\n\tnullsystem: {\n\t\tid: \"nullsystem\",\n\t\tname: \"Null System\",\n\t\tshortDesc: \"This Pokemon can be any type (selected in teambuilder).\",\n\t},\n\tinthicktrator: {\n\t\tid: \"inthicktrator\",\n\t\tname: \"Inthicktrator\",\n\t\tshortDesc: \"This Pokemon's moves ignore Screens/Substitutes/Abilities.\",\n\t\tonModifyMove(move, pokemon) {\n\t\t\t// /////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\t\tignore = true;\n\t\t\t\t\tconsole.log(\"Target has Sturdy Mold\");\n\t\t\t\t\treturn;\n\t\t\t\t} else { console.log(\"Target does not have Sturdy Mold\"); }\n\t\t\t}\n\t\t\tif ((move.target === 'allAdjacentFoes' || move.target === 'allAdjacent') && ignore) return;\n\t\t\t// /////////END PLACEHOLDER\n\t\t\tmove.infiltrates = true;\n\t\t\tmove.ignoreAbility = true;\n\t\t},\n\t},\n\tmagicsurge: {\n\t\tid: \"magicsurge\",\n\t\tname: \"Magic Surge\",\n\t\tshortDesc: \"Summons Magic Room for 5 turns when switching in.\",\n\t\tonStart(source) {\n\t\t\tthis.add('-activate', source, 'ability: Magic Surge');\n\t\t\tthis.field.addPseudoWeather('magicroom');\n\t\t},\n\t},\n\tmultiantlers: {\n\t\tid: \"multiantlers\",\n\t\tname: \"Multi Antlers\",\n\t\tshortDesc: \"User takes half damage when switching in or at full HP.\",\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (!target.activeTurns) {\n\t\t\t\tthis.debug('Multi Antlers weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t} else if (target.hp >= target.maxhp) {\n\t\t\t\tthis.debug('Multi Antlers weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t},\n\tconcussion: {// test\n\t\tid: \"concussion\",\n\t\tname: \"Concussion\",\n\t\tshortDesc: \"While this Pokemon is active, the opponents' held items have no effect.\",\n\t\tonStart(source) {\n\t\t\tlet activated = false;\n\t\t\tfor (const pokemon of source.side.foe.active) {\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', source, 'Concussion');\n\t\t\t\t}\n\t\t\t\tactivated = true;\n\t\t\t\tif (!pokemon.volatiles['embargo']) {\n\t\t\t\t\tpokemon.addVolatile('embargo');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonAnySwitchIn(pokemon) {\n\t\t\tconst source = this.effectState.target;\n\t\t\tif (pokemon === source) return;\n\t\t\tfor (const target of source.side.foe.active) {\n\t\t\t\tif (!target.volatiles['embargo']) {\n\t\t\t\t\ttarget.addVolatile('embargo');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tconst source = this.effectState.target;\n\t\t\tfor (const target of source.side.foe.active) {\n\t\t\t\ttarget.removeVolatile('embargo');\n\t\t\t}\n\t\t},\n\t\trating: 4,\n\t\tnum: 109,\n\t},\n\tnotfunny: {\n\t\tid: \"notfunny\",\n\t\tname: \"Not Funny\",\n\t\tshortDesc: \"No Guard + Prankster.\",\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move?.category === 'Status') {\n\t\t\t\tif (target && target !== pokemon && target.hasAbility('sturdymold')) return;\n\t\t\t\tmove.pranksterBoosted = true;\n\t\t\t\treturn priority + 1;\n\t\t\t}\n\t\t},\n\t\tonAnyInvulnerabilityPriority: 1,\n\t\tonAnyInvulnerability(target, source, move) {\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target)) return 0;\n\t\t},\n\t\tonAnyAccuracy(accuracy, target, source, move) {\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn accuracy;\n\t\t},\n\t},\n\tfowlbehavior: {\n\t\tid: \"fowlbehavior\",\n\t\tname: \"Fowl Behavior\",\n\t\tshortDesc: \"This Pokemon's Sp. Atk is 1.5x, but it can only select the first move it executes.\",\n\t\tonStart(pokemon) {\n\t\t\tpokemon.abilityData.choiceLock = \"\";\n\t\t},\n\t\tonBeforeMove(pokemon, target, move) {\n\t\t\tif (move.isZOrMaxPowered || move.id === 'struggle') return;\n\t\t\tif (pokemon.abilityData.choiceLock && pokemon.abilityData.choiceLock !== move.id) {\n\t\t\t\t// Fails unless ability is being ignored (these events will not run), no PP lost.\n\t\t\t\tthis.addMove('move', pokemon, move.name);\n\t\t\t\tthis.attrLastMove('[still]');\n\t\t\t\tthis.debug(\"Disabled by Fowl Behavior\");\n\t\t\t\tthis.add('-fail', pokemon);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move, pokemon) {\n\t\t\tif (pokemon.abilityData.choiceLock || move.isZOrMaxPowered || move.id === 'struggle') return;\n\t\t\tpokemon.abilityData.choiceLock = move.id;\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, pokemon, move) {\n\t\t\tif (pokemon.volatiles['dynamax']) return;\n\t\t\t// /////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\t\tignore = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((move.target === 'allAdjacentFoes' || move.target === 'allAdjacent') && ignore) return;\n\t\t\t// /////////END PLACEHOLDER\n\t\t\t// PLACEHOLDER\n\t\t\tthis.debug('Fowl Behavior Sp. Atk Boost');\n\t\t\treturn this.chainModify(1.5);\n\t\t},\n\t\tonDisableMove(pokemon) {\n\t\t\tif (!pokemon.abilityData.choiceLock) return;\n\t\t\tif (pokemon.volatiles['dynamax']) return;\n\t\t\tfor (const moveSlot of pokemon.moveSlots) {\n\t\t\t\tif (moveSlot.id !== pokemon.abilityData.choiceLock) {\n\t\t\t\t\tpokemon.disableMove(moveSlot.id, false, this.effectState.sourceEffect);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tpokemon.abilityData.choiceLock = \"\";\n\t\t},\n\t},\n\tpillage: {\n\t\tid: \"pillage\",\n\t\tname: \"Pillage\",\n\t\tshortDesc: \"On switch-in, swaps ability with the opponent.\",\n\t\tonSwitchIn(pokemon) {\n\t\t\tthis.effectState.switchingIn = true;\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\tif ((pokemon.side.foe.active.some(\n\t\t\t\tfoeActive => foeActive && pokemon.isAdjacent(foeActive) && foeActive.ability === 'noability'\n\t\t\t)) ||\n\t\t\tpokemon.species.id !== 'yaciancrowned' && pokemon.species.id !== 'porygrigus' && pokemon.species.id !== 'porymask' && pokemon.species.id !== 'hatterune' && pokemon.species.id !== 'hatamaskgalar') {\n\t\t\t\tthis.effectState.gaveUp = true;\n\t\t\t}\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (!pokemon.isStarted || this.effectState.gaveUp) return;\n\t\t\tif (!this.effectState.switchingIn) return;\n\t\t\tconst possibleTargets = pokemon.side.foe.active.filter(foeActive => foeActive && pokemon.isAdjacent(foeActive));\n\t\t\twhile (possibleTargets.length) {\n\t\t\t\tlet rand = 0;\n\t\t\t\tif (possibleTargets.length > 1) rand = this.random(possibleTargets.length);\n\t\t\t\tconst target = possibleTargets[rand];\n\t\t\t\tconst ability = target.getAbility();\n\t\t\t\tconst additionalBannedAbilities = [\n\t\t\t\t\t// Zen Mode included here for compatability with Gen 5-6\n\t\t\t\t\t'noability', 'flowergift', 'forecast', 'hungerswitch', 'illusion', 'pillage',\n\t\t\t\t\t'imposter', 'neutralizinggas', 'powerofalchemy', 'receiver', 'trace', 'zenmode',\n\t\t\t\t\t'magicmissile', 'ecopy', 'lemegeton', 'modeshift', 'rebootsystem', 'concussion',\n\t\t\t\t];\n\t\t\t\tif (target.getAbility().isPermanent || additionalBannedAbilities.includes(target.ability)) {\n\t\t\t\t\tpossibleTargets.splice(rand, 1);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttarget.setAbility('pillage', pokemon);\n\t\t\t\tpokemon.setAbility(ability);\n\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Pillage');\n\t\t\t\tthis.add('-activate', pokemon, 'Skill Swap', '', '', '[of] ' + target);\n\t\t\t\tthis.add('-activate', pokemon, 'ability: ' + ability.name);\n\t\t\t\tthis.add('-activate', target, 'ability: Pillage');\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t},\n\t/*\n\tmagneticwaves: {\n\t\tid: \"magneticwaves\",\n\t\tname: \"Magnetic Waves\",\n\t\tshortDesc: \"Normal moves: Electric type, 1.2x power. Immune to Ground moves.\",\n\t\t// airborneness implemented in sim/pokemon.js:Pokemon#isGrounded (via scripts.ts in this case)\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\t///////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\t\tignore = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((move.target === 'allAdjacentFoes' || move.target === 'allAdjacent') && ignore) return;\n\t\t\t///////////END PLACEHOLDER\n\t\t\tconst noModifyType = [\n\t\t\t\t'judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'terrainpulse', 'weatherball',\n\t\t\t];\n\t\t\tif (move.type === 'Normal' && !noModifyType.includes(move.id) && !(move.isZ && move.category !== 'Status')) {\n\t\t\t\tmove.type = 'Electric';\n\t\t\t\tmove.galvanizeBoosted = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.galvanizeBoosted) return this.chainModify([0x1333, 0x1000]);\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown'] ) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Magnetic Waves');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n*/\n\tdoggysmaw: {\n\t\tid: \"doggysmaw\",\n\t\tname: \"Doggy's Maw\",\n\t\tshortDesc: \"This Pokemon's Normal, Fighting and Dragon moves ignore type-based immunities and this Pokemon's Normal-type moves deal 1.5x damage.\",\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Normal') {\n\t\t\t\tthis.debug('Doggy\\'s Maw boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Normal') {\n\t\t\t\tthis.debug('Doggy\\'s Maw boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifyMovePriority: -5,\n\t\tonModifyMove(move, pokemon) {\n\t\t\t// /////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\t\tignore = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((move.target === 'allAdjacentFoes' || move.target === 'allAdjacent') && ignore) return;\n\t\t\t// /////////END PLACEHOLDER\n\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\n\t\t\tif (move.ignoreImmunity !== true) {\n\t\t\t\tmove.ignoreImmunity['Fighting'] = true;\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\n\t\t\t\tmove.ignoreImmunity['Dragon'] = true;\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate' || effect.id === 'scarilyadorable' || effect.id === 'metalhead' || effect.id === 'creepy' || effect.id === 'ragingrapids') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Doggy\\'s Maw');\n\t\t\t}\n\t\t\tif (effect.id === 'peckingorder') {\n\t\t\t\tdelete boost.def;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Doggy\\'s Maw');\n\t\t\t}\n\t\t\tif (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Doggy\\'s Maw');\n\t\t\t}\n\t\t\tif (effect.id === 'sinkorswim' || effect.id === 'scarilyadorable') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Doggy\\'s Maw');\n\t\t\t}\n\t\t},\n\t},\n\t// slate 5\n\tsturdymold: {// this one's gonna be a fucking adventure\n\t\tid: \"sturdymold\",\n\t\tname: \"Sturdy Mold\",\n\t\tshortDesc: \"Sturdy + Mold Breaker.\",\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.ohko) {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Sturdy Mold');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: -100,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\n\t\t\t\tthis.add('-ability', target, 'Sturdy Mold');\n\t\t\t\treturn target.hp - 1;\n\t\t\t}\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Sturdy Mold');\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreAbility = true;\n\t\t},\n\t\t// I'm gonna figure out how to code this legit at some point, I swear,\n\t\t// but for now, since we have so few abilities,\n\t\t// I'm just gonna hard-code it into everything.\n\t},\n\ttherapeutic: {\n\t\tid: \"therapeutic\",\n\t\tname: \"Therapeutic\",\n\t\tshortDesc: \"Poison Heal effects. Upon losing its item, this Pokemon poisons itself.\",\n\t\tonDamagePriority: 1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'psn' || effect.id === 'tox') {\n\t\t\t\tthis.heal(target.baseMaxhp / 8);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonAfterUseItem(item, pokemon) {\n\t\t\tif (pokemon !== this.effectState.target) return;\n\t\t\tpokemon.trySetStatus('psn', pokemon);\n\t\t},\n\t\tonTakeItem(item, pokemon) {\n\t\t\tpokemon.trySetStatus('psn', pokemon);\n\t\t},\n\t},\n\tsolarpanel: {\n\t\tid: \"solarpanel\",\n\t\tname: \"Solar Panel\",\n\t\tshortDesc: \"If hit by Grass, Electric or Fire: +1 SpA. Grass/Electric/Fire immunity.\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && (move.type === 'Electric' || move.type === 'Fire')) {\n\t\t\t\tif (!this.boost({spa: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Solar Panel');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\t// For purposes of cancelling this ability out for Sturdy Mold:\n\ttoughclaws: {\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['contact'] && !defender.hasAbility('sturdymold')) {\n\t\t\t\treturn this.chainModify([0x14CD, 0x1000]);\n\t\t\t}\n\t\t},\n\t\tname: \"Tough Claws\",\n\t\trating: 3.5,\n\t\tnum: 181,\n\t},\n\thustle: {\n\t\t// This should be applied directly to the stat as opposed to chaining with the others\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon, move) {\n\t\t\t// /////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\t\tignore = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((move.target === 'allAdjacentFoes' || move.target === 'allAdjacent') && ignore) return;\n\t\t\t// /////////END PLACEHOLDER\n\t\t\treturn this.modify(atk, 1.5);\n\t\t},\n\t\tonSourceModifyAccuracyPriority: 7,\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\n\t\t\tif (move.category === 'Physical' && typeof accuracy === 'number' && !target.hasAbility('sturdymold')) {\n\t\t\t\treturn accuracy * 0.8;\n\t\t\t}\n\t\t},\n\t\tname: \"Hustle\",\n\t\trating: 3.5,\n\t\tnum: 55,\n\t},\n\tscrappy: {\n\t\tonModifyMovePriority: -5,\n\t\tonModifyMove(move, pokemon) {\n\t\t\t// /////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\t\tignore = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((move.target === 'allAdjacentFoes' || move.target === 'allAdjacent') && ignore) return;\n\t\t\t// /////////END PLACEHOLDER\n\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\n\t\t\tif (move.ignoreImmunity !== true) {\n\t\t\t\tmove.ignoreImmunity['Fighting'] = true;\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, \"[from] ability: Scrappy\");\n\t\t\t} else if (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, \"[from] ability: Scrappy\");\n\t\t\t} else if (effect.id === 'sinkorswim') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, \"[from] ability: Scrappy\");\n\t\t\t}\n\t\t},\n\t\tname: \"Scrappy\",\n\t\trating: 3,\n\t\tnum: 113,\n\t},\n\tsandforce: {\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (this.field.isWeather('sandstorm')) {\n\t\t\t\tif (defender && defender.hasAbility('sturdymold')) return;\n\t\t\t\tif (move.type === 'Rock' || move.type === 'Ground' || move.type === 'Steel') {\n\t\t\t\t\tthis.debug('Sand Force boost');\n\t\t\t\t\treturn this.chainModify([0x14CD, 0x1000]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'sandstorm') return false;\n\t\t},\n\t\tname: \"Sand Force\",\n\t\trating: 2,\n\t\tnum: 159,\n\t},\n\t// next\n\tnoguard: {// Edited for Sturdy Mold\n\t\tonAnyInvulnerabilityPriority: 1,\n\t\tonAnyInvulnerability(target, source, move) {\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target) && !target.hasAbility('sturdymold')) return 0;\n\t\t},\n\t\tonAnyAccuracy(accuracy, target, source, move) {\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target) && !target.hasAbility('sturdymold')) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn accuracy;\n\t\t},\n\t\tname: \"No Guard\",\n\t\trating: 4,\n\t\tnum: 99,\n\t},\n\tbigpressure: {\n\t\tname: \"Big Pressure\",\n\t\tshortDesc: \"Moves targeting this Pokemon lose 1 additional PP; Foes cannot lower its Defense.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Big Pressure');\n\t\t},\n\t\tonDeductPP(target, source) {\n\t\t\tif (target.side === source.side) return;\n\t\t\treturn 1;\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tif (boost.def && boost.def < 0) {\n\t\t\t\tdelete boost.def;\n\t\t\t\tif (!(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Defense\", \"[from] ability: Big Pecks\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tfriendshield: {\n\t\tname: \"Friend Shield\",\n\t\tshortDesc: \"Gets +1 Def and SpD on switch-in. Allies recieve 3/4 damage from foes' attacks.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.boost({def: 1, spd: 1}, pokemon);\n\t\t},\n\t\tonAnyModifyDamage(damage, source, target, move) {\n\t\t\tif (target !== this.effectState.target && target.side === this.effectState.target.side) {\n\t\t\t\tthis.debug('Friend Shield weaken');\n\t\t\t\treturn this.chainModify(0.75);\n\t\t\t}\n\t\t},\n\t},\n\tdebilitate: {\n\t\tname: \"Debilitate\",\n\t\tshortDesc: \"On switch-in, this Pokemon lowers the Special Attack of adjacent opponents by 1 stage.\",\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || !target.isAdjacent(pokemon)) continue;\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Debilitate', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({spa: -1}, target, pokemon, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tleafyarmor: {// unsure\n\t\tname: \"Leafy Armor\",\n\t\tshortDesc: \"If a status condition is inflicted on this Pokemon: Cure status, -1 Defense, +2 Speed.\",\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.status && !pokemon.m.orbItemStatus) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Leafy Armor');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t\tthis.boost({def: -1, spe: 2}, pokemon, pokemon);\n\t\t\t}\n\t\t},\n\t},\n\tsurroundsound: {// unsure\n\t\tname: \"Surround Sound\",\n\t\tshortDesc: \"This Pokemon recieves 1/2 damage from multitarget moves. Its own have 1.3x power.\",\n\t\tonBasePowerPriority: 7,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (['allAdjacent', 'allAdjacentFoes', 'all'].includes(move.target)) {\n\t\t\t\tif (defender.hasAbility('sturdymold')) return;\n\t\t\t\tthis.debug('Surround Sound boost');\n\t\t\t\treturn this.chainModify([0x14CD, 0x1000]);\n\t\t\t}\n\t\t},\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (['allAdjacent', 'allAdjacentFoes', 'all'].includes(move.target)) {\n\t\t\t\tthis.debug('Surround Sound weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t},\n\tspikyhold: {\n\t\tname: \"Spiky Hold\",\n\t\tshortDesc: \"Cannot lose held item due to others' attacks; others making contact lose 1/8 max HP.\",\n\t\tonTakeItem(item, pokemon, source) {\n\t\t\tif (this.suppressingAttackEvents(pokemon) || !pokemon.hp || pokemon.item === 'stickybarb') return;\n\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\n\t\t\tif ((source && source !== pokemon) || this.activeMove.id === 'knockoff') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Spiky Hold');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tthis.damage(source.baseMaxhp / 8, source, target);\n\t\t\t}\n\t\t},\n\t},\n\n\t// slate 7\n\tsinkorswim: {\n\t\tname: \"Sink or Swim\",\n\t\tshortDesc: \"On switch-in, lowers adjacent opponents' Speed by 1 stage.\",\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || !target.isAdjacent(pokemon)) continue;\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Sink or Swim', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({spe: -1}, target, pokemon, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tdownpour: {\n\t\tname: \"Downpour\",\n\t\tshortDesc: \"If targeted by a foe's move: move loses 1 extra PP, this Pokemon restores 1/16 max HP.\",\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Downpour');\n\t\t},\n\t\tonDeductPP(target, source) {\n\t\t\tif (target.side === source.side) return;\n\t\t\tthis.heal(target.baseMaxhp / 16);\n\t\t\treturn 1;\n\t\t},\n\t\trating: 2.5,\n\t\tnum: 46,\n\t},\n\t/* //No longer in use\n\toverclock: {\n\t\tname: \"Overclock\",\n\t\tshortDesc: \"If stats are lowered by foe or if hit by Electric move: Atk +2.\",\n\t\tonAfterEachBoost(boost, target, source, effect) {\n\t\t\tif (!source || target.side === source.side) {\n\t\t\t\tif (effect.id === 'stickyweb') {\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Defiant only affects stats lowered by foes.\", true, source.side);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet statsLowered = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tstatsLowered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (statsLowered) {\n\t\t\t\tthis.add('-ability', target, 'Overclock');\n\t\t\t\tthis.boost({atk: 2}, target, target, null, true);\n\t\t\t}\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.type === 'Electric') {\n\t\t\t\tthis.boost({atk: 2});\n\t\t\t}\n\t\t},\n\t},\n\t*/\n\tmagicmissile: {\n\t\t/*\n\t\tNeed to test:\n\t\t- any Berry\n\t\t- Toxic Orb, Flame Orb or Light Ball (just one they're the same code)\n\t\t- White Herb\n\t\t- Mental Herb\n\t\t- um, I guess making sure Razor Claw or Razor Fang (just one they're the same code) doesn't immediately crash,\n\t\tbut it would be basically impossible for them to cause a flinch in a singles context\n\t\t(how does this behave with Instruct? maybe you could test with that if you're doing the doubles format Aquatic mentioned)\n\t\t*/\n\t\tname: \"Magic Missile\",\n\t\tshortDesc: \"If hit by a contact move while holding an item: lose item, apply item Fling effects, attacker loses 1/4 max HP. If hitting a foe with a contact move while not holding an item: steals the foe's item.\",\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (!move || !target) return;\n\t\t\tif (target !== source && move.category !== 'Status') {\n\t\t\t\tif (source.item || source.volatiles['gem'] || move.id === 'fling') return;\n\t\t\t\tconst yourItem = target.takeItem(source);\n\t\t\t\tif (!yourItem) return;\n\t\t\t\tif (!source.setItem(yourItem)) {\n\t\t\t\t\ttarget.item = yourItem.id; // bypass setItem so we don't break choicelock or anything\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.add('-item', source, yourItem, '[from] ability: Magic Missile', '[of] ' + target);\n\t\t\t}\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (target.isSemiInvulnerable()) return;\n\t\t\tif (target.ignoringItem()) return false;\n\t\t\tconst item = target.getItem();\n\t\t\tif (!this.singleEvent('TakeItem', item, target.itemData, target, target, move, item)) return false;\n\t\t\tif (item.id && !item.megaStone) {\n\t\t\t\tthis.damage(source.baseMaxhp / 4, source, target);\n\t\t\t\ttarget.addVolatile('fling');\n\t\t\t\tif (item.isBerry) {\n\t\t\t\t\tif (this.singleEvent('Eat', item, null, source, null, null)) {\n\t\t\t\t\t\tthis.runEvent('EatItem', source, null, null, item);\n\t\t\t\t\t\tif (item.id === 'leppaberry') source.staleness = 'external';\n\t\t\t\t\t}\n\t\t\t\t\tif (item.onEat) source.ateBerry = true;\n\t\t\t\t} else if (item.id === 'mentalherb') {\n\t\t\t\t\tconst conditions = ['attract', 'taunt', 'encore', 'torment', 'disable', 'healblock'];\n\t\t\t\t\tfor (const firstCondition of conditions) {\n\t\t\t\t\t\tif (source.volatiles[firstCondition]) {\n\t\t\t\t\t\t\tfor (const secondCondition of conditions) {\n\t\t\t\t\t\t\t\tsource.removeVolatile(secondCondition);\n\t\t\t\t\t\t\t\tif (firstCondition === 'attract' && secondCondition === 'attract') {\n\t\t\t\t\t\t\t\t\tthis.add('-end', source, 'move: Attract', '[from] item: Mental Herb');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (item.id === 'whiteherb') {\n\t\t\t\t\tlet activate = false;\n\t\t\t\t\tconst boosts: SparseBoostsTable = {};\n\t\t\t\t\tlet i: BoostName;\n\t\t\t\t\tfor (i in source.boosts) {\n\t\t\t\t\t\tif (source.boosts[i] < 0) {\n\t\t\t\t\t\t\tactivate = true;\n\t\t\t\t\t\t\tboosts[i] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (activate) {\n\t\t\t\t\t\tsource.setBoost(boosts);\n\t\t\t\t\t\tthis.add('-clearnegativeboost', source, '[silent]');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (item.fling && item.fling.status) {\n\t\t\t\t\t\tsource.trySetStatus(item.fling.status, target);\n\t\t\t\t\t} else if (item.fling && item.fling.volatileStatus) {\n\t\t\t\t\t\tsource.addVolatile(item.fling.volatileStatus, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\t// slate 8\n\tfatproof: {\n\t\tname: \"Fat Proof\",\n\t\tshortDesc: \"Ice, Fire attacks against this Pokemon use a halved attack stat; Fire moves 1/2 BP.\",\n\t\tonSourceBasePowerPriority: 18,\n\t\tonSourceBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonSourceModifyAtkPriority: 6,\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\n\t\t\t\tthis.debug('Fat Proof weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonSourceModifySpAPriority: 5,\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\n\t\t\t\tthis.debug('Fat Proof weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect && effect.id === 'brn') {\n\t\t\t\treturn damage / 2;\n\t\t\t}\n\t\t},\n\t},\n\tleviflame: {\n\t\tname: \"Leviflame\",\n\t\tshortDesc: \"30% chance a Pokemon making contact with this Pokemon will be burned. Immune to Ground.\",\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.trySetStatus('brn', target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Leviflame');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\tprophylaxis: {\n\t\tname: \"Prophylaxis\",\n\t\tshortDesc: \"Regenerator + Anticipation.\",\n\t\tonStart(pokemon) {\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || target.fainted) continue;\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\n\t\t\t\t\tif (move.category === 'Status') continue;\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\n\t\t\t\t\t\tmove.ohko\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Prophylaxis');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t},\n\tfeelnopain: {\n\t\tname: \"Feel No Pain\",\n\t\tshortDesc: \"Poison Heal + Levitate\",\n\t\tonDamagePriority: 1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'psn' || effect.id === 'tox') {\n\t\t\t\tthis.heal(target.baseMaxhp / 8);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Feel No Pain');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\terosion: {\n\t\tname: \"Erosion\",\n\t\tshortDesc: \"Draws Electric moves to itself to raise SpA by 1; Electric immunity; summons Sandstorm on entry.\",\n\t\tonStart(source) {\n\t\t\tthis.field.setWeather('sandstorm');\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Electric') {\n\t\t\t\tif (!this.boost({spa: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Erosion');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAnyRedirectTarget(target, source, source2, move) {\n\t\t\tif (move.type !== 'Electric' || ['firepledge', 'grasspledge', 'waterpledge'].includes(move.id)) return;\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\n\t\t\t\tif (this.effectState.target !== target) {\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Erosion');\n\t\t\t\t}\n\t\t\t\treturn this.effectState.target;\n\t\t\t}\n\t\t},\n\t},\n\tstatusabsorbtion: {\n\t\tname: \"Status Absorbtion\",\n\t\tshortDesc: \"This Pokemon is immune to being Poisoned or Burned.\",\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.status === 'psn' || pokemon.status === 'tox' || pokemon.status === 'brn') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Status Absorbtion');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id !== 'psn' && status.id !== 'tox' && status.id !== 'brn') return;\n\t\t\tif ((effect as Move)?.status) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Status Absorbtion');\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t},\n\tlevitability: {\n\t\tname: \"Levitability\",\n\t\tshortDesc: \"STAB moves are boosted an additional 1.5x; immune to Ground.\",\n\t\tonModifyMove(move, pokemon) {\n\t\t\t// /////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\t\tignore = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((move.target === 'allAdjacentFoes' || move.target === 'allAdjacent') && ignore) return;\n\t\t\t// /////////END PLACEHOLDER\n\t\t\tmove.stab = 2;\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Levitability');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\toblivious: {\n\t\tinherit: true,\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Oblivious');\n\t\t\t} else if (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Oblivious');\n\t\t\t} else if (effect.id === 'sinkorswim') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Oblivious');\n\t\t\t}\n\t\t},\n\t},\n\towntempo: {\n\t\tinherit: true,\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Own Tempo');\n\t\t\t} else if (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Own Tempo');\n\t\t\t} else if (effect.id === 'sinkorswim') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Own Tempo');\n\t\t\t}\n\t\t},\n\t},\n\trattled: {\n\t\tinherit: true,\n\t\tonAfterBoost(boost, target, source, effect) {\n\t\t\tif (effect && ['intimidate', 'debilitate', 'sinkorswim', 'scarilyadorable', 'peckingorder'].includes(effect.id)) {\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t}\n\t\t},\n\t},\n\t// new slate\n\tchivalry: {\n\t\tshortDesc: \"For each stat lowered by a foe: +2 Atk, +1 Spe.\",\n\t\tonAfterEachBoost(boost, target, source, effect) {\n\t\t\tif (!source || target.side === source.side) {\n\t\t\t\tif (effect.id === 'stickyweb') {\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Defiant only affects stats lowered by foes.\", true, source.side);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet statsLowered = false;\n\t\t\tfor (const i in boost) {\n\t\t\t\t// @ts-ignore\n\t\t\t\tif (boost[i] < 0) {\n\t\t\t\t\tstatsLowered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (statsLowered) {\n\t\t\t\tthis.add('-ability', target, 'Chivalry');\n\t\t\t\tthis.boost({atk: 2, spe: 1}, target, target, null, true);\n\t\t\t}\n\t\t},\n\t\tname: \"Chivalry\",\n\t},\n\thauntedtech: {\n\t\tshortDesc: \"Moves 60 power or less: 1.5x power. If hit by an attack, 30% chance to disable that move.\",\n\t\tname: \"Haunted Tech\",\n\t\tonBasePowerPriority: 30,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (defender.hasAbility('sturdymold')) return;\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Technician boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (source.volatiles['disable']) return;\n\t\t\tif (!move.isFutureMove) {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.addVolatile('disable', this.effectState.target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tstickyfloat: {\n\t\t// Groundedness implemented in scripts.ts\n\t\tonTakeItem(item, pokemon, source) {\n\t\t\tif (this.suppressingAttackEvents(pokemon) || !pokemon.hp || pokemon.item === 'stickybarb') return;\n\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\n\t\t\tif ((source && source !== pokemon) || this.activeMove.id === 'knockoff') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Sticky Float');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Sticky Float');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Sticky Float\",\n\t\tshortDesc: \"Effects of Sticky Hold + Levitate\",\n\t},\n\tterrorizer: {\n\t\tonModifyMove(move, pokemon) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tdelete move.secondaries;\n\t\t\t\t// Technically not a secondary effect, but it is negated\n\t\t\t\tdelete move.self;\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\n\t\t\t\tmove.hasSheerForce = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.hasSheerForce) return this.chainModify([0x14CD, 0x1000]);\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (source.volatiles['disable']) return;\n\t\t\tif (!move.isFutureMove) {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.addVolatile('disable', this.effectState.target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Terrorizer\",\n\t\tshortDesc: \"Sheer Force + Cursed Body\",\n\t},\n\tdarkhumour: {\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move?.category === 'Status') {\n\t\t\t\tmove.pranksterBoosted = true;\n\t\t\t\treturn priority + 1;\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif ((source && target === source) || move.category !== 'Status') return;\n\t\t\tthis.add('-ability', target, 'Dark Humour');\n\t\t\tthis.boost({atk: 1}, target, target, null, true);\n\t\t},\n\t\tname: \"Dark Humour\",\n\t\tshortDesc: \"Status moves +1 priority. If targeted by a status move, +1 Atk.\",\n\t},\n\tspeedy: {\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tthis.boost({spe: length}, source);\n\t\t\t}\n\t\t},\n\t\tname: \"Speedy\",\n\t\tshortDesc: \"Speed raises by 1 stage if it attacks and KO's another Pokemon.\",\n\t},\n\tultrahealth: {\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tthis.add('-activate', source, 'ability: Ultra Health');\n\t\t\t\tthis.heal(source.baseMaxhp / 3, source, source, effect);\n\t\t\t}\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t\tname: \"Ultra Health\",\n\t\tshortDesc: \"On switching out or landing a KO, heal for 1/3 max HP.\",\n\t},\n\tdustdevil: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Fire') {\n\t\t\t\tmove.accuracy = true;\n\t\t\t\tif (!target.addVolatile('dustdevil')) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Dust Devil');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tpokemon.removeVolatile('dustdevil');\n\t\t},\n\t\tcondition: {\n\t\t\tnoCopy: true, // doesn't get copied by Baton Pass\n\t\t\tonStart(target) {\n\t\t\t\tthis.add('-start', target, 'ability: Dust Devil');\n\t\t\t},\n\t\t\tonModifyAtkPriority: 5,\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('dustdevil')) {\n\t\t\t\t\tthis.debug('Dust Devil boost');\n\t\t\t\t\treturn this.chainModify(1.5);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonModifySpAPriority: 5,\n\t\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('dustdevil')) {\n\t\t\t\t\tthis.debug('Dust Devil boost');\n\t\t\t\t\treturn this.chainModify(1.5);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonEnd(target) {\n\t\t\t\tthis.add('-end', target, 'ability: Dust Devil', '[silent]');\n\t\t\t},\n\t\t},\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('sandstorm')) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'sandstorm') return false;\n\t\t},\n\t\tname: \"Dust Devil\",\n\t\tshortDesc: \"Effects of Sand Rush and Flash Fire.\",\n\t},\n\tsolidskill: {\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif ((target.getMoveHitData(move).typeMod > 0) || move.multihit) {\n\t\t\t\tthis.debug('Solid Skill neutralize');\n\t\t\t\treturn this.chainModify(0.75);\n\t\t\t}\n\t\t},\n\t\tname: \"Solid Skill\",\n\t\tshortDesc: \"3/4 damage from super-effective and multihit moves.\",\n\t},\n\tmodeshift: {\n\t\tonStart(pokemon) {\n\t\t\tif (pokemon.baseSpecies.baseSpecies !== 'Sableior' || pokemon.transformed) return;\n\t\t\tif (pokemon.species.forme !== 'Meteor') {\n\t\t\t\tpokemon.formeChange('Sableior-Meteor');\n\t\t\t} else {\n\t\t\t\tif (pokemon.species.forme === 'Meteor') {\n\t\t\t\t\tpokemon.formeChange(pokemon.set.species);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move?.category === 'Status') {\n\t\t\t\tmove.pranksterBoosted = true;\n\t\t\t\treturn priority + 1;\n\t\t\t}\n\t\t},\n\t\tonBeforeMovePriority: 0.5,\n\t\tonBeforeMove(attacker, defender, move) {\n\t\t\tif (attacker.species.baseSpecies !== 'Sableior' || attacker.transformed) return;\n\t\t\tconst targetForme = (move.category === 'Status' ? 'Sableior-Meteor' : 'Sableior');\n\t\t\tif (attacker.species.name !== targetForme) attacker.formeChange(targetForme);\n\t\t\tif (attacker.canMegaEvo) {\n\t\t\t\tattacker.canMegaEvo = (targetForme === 'Sableior-Meteor' ? 'sableiormeteormega' : 'sableiormega');\n\t\t\t}\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Mode Shift\",\n\t\tshortDesc: \"Status moves +1 priority. Changes to Meteor Form before using a status move.\",\n\t},\n\tlemegeton: {\n\t\t// Ability suppression implemented in sim/pokemon.ts:Pokemon#ignoringAbility\n\t\t// TODO Will abilities that already started start again? (Intimidate seems like a good test case)\n\t\tonPreStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Lemegeton');\n\t\t\tpokemon.abilityData.ending = false;\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target.illusion) {\n\t\t\t\t\tthis.singleEvent('End', this.dex.abilities.get('Illusion'), target.abilityData, target, pokemon, 'lemegeton');\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['slowstart']) {\n\t\t\t\t\tdelete target.volatiles['slowstart'];\n\t\t\t\t\tthis.add('-end', target, 'Slow Start', '[silent]');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonEnd(source) {\n\t\t\t// FIXME this happens before the pokemon switches out, should be the opposite order.\n\t\t\t// Not an easy fix since we cant use a supported event. Would need some kind of special event that\n\t\t\t// gathers events to run after the switch and then runs them when the ability is no longer accessible.\n\t\t\t// (If your tackling this, do note extreme weathers have the same issue)\n\n\t\t\t// Mark this pokemon's ability as ending so Pokemon#ignoringAbility skips it\n\t\t\tsource.abilityData.ending = true;\n\t\t\tfor (const pokemon of this.getAllActive()) {\n\t\t\t\tif (pokemon !== source) {\n\t\t\t\t\t// Will be suppressed by Pokemon#ignoringAbility if needed\n\t\t\t\t\tthis.singleEvent('Start', pokemon.getAbility(), pokemon.abilityData, pokemon);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tlet statName = 'atk';\n\t\t\t\tlet bestStat = 0;\n\t\t\t\tlet s: StatNameExceptHP;\n\t\t\t\tfor (s in source.storedStats) {\n\t\t\t\t\tif (source.storedStats[s] > bestStat) {\n\t\t\t\t\t\tstatName = s;\n\t\t\t\t\t\tbestStat = source.storedStats[s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.boost({[statName]: length}, source);\n\t\t\t}\n\t\t},\n\t\tname: \"Lemegeton\",\n\t\tshortDesc: \"Beast Boost + Neutralizing Gas\",\n\t},\n\t// a\n\tmagicbeast: {\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target === source || move.hasBounced || !move.flags['reflectable']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.useMove(newMove, target, source);\n\t\t\treturn null;\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (target.side === source.side || move.hasBounced || !move.flags['reflectable']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.useMove(newMove, this.effectState.target, source);\n\t\t\treturn null;\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t},\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tlet statName = 'atk';\n\t\t\t\tlet bestStat = 0;\n\t\t\t\tlet s: StatNameExceptHP;\n\t\t\t\tfor (s in source.storedStats) {\n\t\t\t\t\tif (source.storedStats[s] > bestStat) {\n\t\t\t\t\t\tstatName = s;\n\t\t\t\t\t\tbestStat = source.storedStats[s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.boost({[statName]: length}, source);\n\t\t\t}\n\t\t},\n\t\tname: \"Magic Beast\",\n\t\tshortDesc: \"Magic Bounce + Beast Boost.\",\n\t},\n\tsoundneigh: {\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tthis.boost({atk: length}, source);\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (move.target !== 'self' && move.flags['sound']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Sound Neigh');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (move.flags['sound']) {\n\t\t\t\tthis.add('-immune', this.effectState.target, '[from] ability: Sound Neigh');\n\t\t\t}\n\t\t},\n\t\tname: \"Sound Neigh\",\n\t\tshortDesc: \"Chilling Neigh + Soundproof.\",\n\t},\n\tecopy: {\n\t\tonStart(pokemon) {\n\t\t\tthis.field.setTerrain('electricterrain');\n\n\t\t\tif (pokemon.side.foe.active.some(\n\t\t\t\tfoeActive => foeActive && pokemon.isAdjacent(foeActive) && foeActive.ability === 'noability'\n\t\t\t)) {\n\t\t\t\tthis.effectState.gaveUp = true;\n\t\t\t}\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (!pokemon.isStarted || this.effectState.gaveUp) return;\n\t\t\tconst possibleTargets = pokemon.side.foe.active.filter(foeActive => foeActive && pokemon.isAdjacent(foeActive));\n\t\t\twhile (possibleTargets.length) {\n\t\t\t\tlet rand = 0;\n\t\t\t\tif (possibleTargets.length > 1) rand = this.random(possibleTargets.length);\n\t\t\t\tconst target = possibleTargets[rand];\n\t\t\t\tconst ability = target.getAbility();\n\t\t\t\tconst additionalBannedAbilities = [\n\t\t\t\t\t// Zen Mode included here for compatability with Gen 5-6\n\t\t\t\t\t'noability', 'flowergift', 'forecast', 'hungerswitch', 'illusion',\n\t\t\t\t\t'imposter', 'neutralizinggas', 'powerofalchemy', 'receiver', 'trace', 'zenmode',\n\t\t\t\t\t'magicmissile', 'pillage', 'ecopy', 'lemegeton', 'modeshift',\n\t\t\t\t];\n\t\t\t\tif (target.getAbility().isPermanent || additionalBannedAbilities.includes(target.ability)) {\n\t\t\t\t\tpossibleTargets.splice(rand, 1);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthis.add('-ability', pokemon, ability, '[from] ability: E-Copy', '[of] ' + target);\n\t\t\t\tpokemon.setAbility(ability);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tname: \"E-Copy\",\n\t\tshortDesc: \"Sets Electric Terrain, and then copies the foe's Ability.\",\n\t},\n\twetbugs: {\n\t\tonStart(source) {\n\t\t\tfor (const action of this.queue) {\n\t\t\t\tif (action.choice === 'runPrimal' && action.pokemon === source && source.species.id === 'kyottler') return;\n\t\t\t\tif (action.choice !== 'runSwitch' && action.choice !== 'runPrimal') break;\n\t\t\t}\n\t\t\tthis.field.setWeather('raindance');\n\t\t},\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Bug' && attacker.hp <= attacker.maxhp / 3) {\n\t\t\t\tif (defender.hasAbility('sturdymold')) return;\n\t\t\t\tthis.debug('Swarm boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Bug' && attacker.hp <= attacker.maxhp / 3) {\n\t\t\t\tif (defender.hasAbility('sturdymold')) return;\n\t\t\t\tthis.debug('Swarm boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Wet Bugs\",\n\t\tshortDesc: \"Drizzle + Swarm.\",\n\t},\n\thydrauliccannon: {\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 19,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (defender.hasAbility('sturdymold')) return;\n\t\t\tif (move.flags['pulse']) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Hydraulic Cannon\",\n\t\tshortDesc: \"Mega Launcher + Swift Swim.\",\n\t},\n\t// more fix\n\tsolarpower: {\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(spa, pokemon, move) {\n\t\t\t// /////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\t\tignore = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((move.target === 'allAdjacentFoes' || move.target === 'allAdjacent') && ignore) return;\n\t\t\t// /////////END PLACEHOLDER\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonWeather(target, source, effect) {\n\t\t\tif (target.hasItem('utilityumbrella')) return;\n\t\t\tif (effect.id === 'sunnyday' || effect.id === 'desolateland') {\n\t\t\t\tthis.damage(target.baseMaxhp / 8, target, target);\n\t\t\t}\n\t\t},\n\t\tname: \"Solar Power\",\n\t\trating: 2,\n\t\tnum: 94,\n\t},\n\tskilllink: {\n\t\tonModifyMove(move, pokemon) {\n\t\t\t// /////////PLACEHOLDER FOR STURDY MOLD\n\t\t\tlet ignore = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (target.hasAbility('sturdymold')) {\n\t\t\t\t\tignore = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((move.target === 'allAdjacentFoes' || move.target === 'allAdjacent') && ignore) return;\n\t\t\t// /////////END PLACEHOLDER\n\t\t\tif (move.multihit && Array.isArray(move.multihit) && move.multihit.length) {\n\t\t\t\tmove.multihit = move.multihit[1];\n\t\t\t}\n\t\t\tif (move.multiaccuracy) {\n\t\t\t\tdelete move.multiaccuracy;\n\t\t\t}\n\t\t},\n\t\tname: \"Skill Link\",\n\t\trating: 3,\n\t\tnum: 92,\n\t},\n\ttechnician: {\n\t\tonBasePowerPriority: 30,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (defender.hasAbility('sturdymold')) return;\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Technician boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Technician\",\n\t\trating: 3.5,\n\t\tnum: 101,\n\t},\n\tbattletheme: {\n\t\tonBeforeMovePriority: 0.5,\n\t\tonBeforeMove(attacker, defender, move) {\n\t\t\tif (attacker.species.baseSpecies !== 'Meloslash' || attacker.transformed) return;\n\t\t\tif (move.category === 'Status' && move.id !== 'kingsshield') return;\n\t\t\tconst targetForme = ((move.secondaries || move.id === 'kingsshield') ? 'Meloslash' : 'Meloslash-Melee');\n\t\t\tif (attacker.species.name !== targetForme) attacker.formeChange(targetForme);\n\t\t\tif (move.id === 'relicsong') {\n\t\t\t\tmove.willChangeForme = true;\n\t\t\t}\n\t\t},\n\t\tonAfterMoveSecondarySelf(pokemon, target, move) {\n\t\t\tif (move.willChangeForme) {\n\t\t\t\tpokemon.formeChange('Meloslash-Melee');\n\t\t\t}\n\t\t},\n\t\tonModifyMovePriority: -2,\n\t\tonModifyMove(move) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tthis.debug('doubling secondary chance');\n\t\t\t\tfor (const secondary of move.secondaries) {\n\t\t\t\t\tif (secondary.chance) secondary.chance *= 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (move.self?.chance) move.self.chance *= 2;\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Battle Theme\",\n\t\tshortDesc: \"If Meloslash: change forme to Range before using move with secondary, change form to Melee otherwise. Secondary effect chances are doubled.\",\n\t},\n\tflashyjokes: {\n\t\tshortDesc: \"Flash Fire + Prankster.\",\n\t\tname: \"Flashy Jokes\",\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Fire') {\n\t\t\t\tmove.accuracy = true;\n\t\t\t\tif (!target.addVolatile('flashfire')) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Flashy Jokes');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tpokemon.removeVolatile('flashfire');\n\t\t},\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move?.category === 'Status') {\n\t\t\t\tmove.pranksterBoosted = true;\n\t\t\t\treturn priority + 1;\n\t\t\t}\n\t\t},\n\t},\n\tteachingtech: {\n\t\tonBasePowerPriority: 30,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (defender.hasAbility('sturdymold')) return;\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Technician boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (!move || !target || move.category === 'Status') return;\n\t\t\tconsole.log('Teaching Tech: Move BP = ' + move.basePower);\n\t\t\tconst targetAbility = target.getAbility();\n\t\t\tif (targetAbility.isPermanent || targetAbility.id === 'teachingtech') return;\n\t\t\tif (move.basePower <= 60) {\n\t\t\t\tconst oldAbility = target.setAbility('teachingtech', source);\n\t\t\t\tif (oldAbility) {\n\t\t\t\t\tthis.add('-activate', source, 'ability: Teaching Tech');\n\t\t\t\t\tthis.add('-activate', target, 'ability: Teaching Tech');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Teaching Tech\",\n\t\tshortDesc: \"Moves <=60 BP: 1.5x power. If hitting something with such a move: changes their ability to Teaching Tech.\",\n\t},\n\tscrappyarmor: {\n\t\tonModifyMovePriority: -5,\n\t\tonModifyMove(move) {\n\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\n\t\t\tif (move.ignoreImmunity !== true) {\n\t\t\t\tmove.ignoreImmunity['Fighting'] = true;\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate' || effect.id === 'scarilyadorable' || effect.id === 'metalhead' || effect.id === 'creepy' || effect.id === 'ragingrapids') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Scrappy Armor');\n\t\t\t}\n\t\t\tif (effect.id === 'peckingorder') {\n\t\t\t\tdelete boost.def;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Scrappy Armor');\n\t\t\t}\n\t\t\tif (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Scrappy Armor');\n\t\t\t}\n\t\t\tif (effect.id === 'sinkorswim' || effect.id === 'scarilyadorable') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Scrappy Armor');\n\t\t\t}\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.category === 'Physical') {\n\t\t\t\tthis.boost({def: -1, spe: 2}, target, target);\n\t\t\t}\n\t\t},\n\t\tname: \"Scrappy Armor\",\n\t\tshortDesc: \"Scrappy + Weak Armor\",\n\t},\n\tolfactoryarmor: {\n\t\tonFoeTrapPokemon(pokemon) {\n\t\t\tif (pokemon.hasType('Steel') && pokemon.isAdjacent(this.effectState.target)) {\n\t\t\t\tpokemon.tryTrap(true);\n\t\t\t}\n\t\t},\n\t\tonFoeMaybeTrapPokemon(pokemon, source) {\n\t\t\tif (!source) source = this.effectState.target;\n\t\t\tif (!source || !pokemon.isAdjacent(source)) return;\n\t\t\tif (!pokemon.knownType || pokemon.hasType('Steel')) {\n\t\t\t\tpokemon.maybeTrapped = true;\n\t\t\t}\n\t\t},\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (target.getMoveHitData(move).typeMod > 0) {\n\t\t\t\tthis.debug('Prism Armor neutralize');\n\t\t\t\treturn this.chainModify(0.75);\n\t\t\t}\n\t\t},\n\t\tonSourceModifyAtkPriority: 5,\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Steel') {\n\t\t\t\treturn this.chainModify(0.75);\n\t\t\t}\n\t\t},\n\t\tonSourceModifySpAPriority: 5,\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Steel') {\n\t\t\t\treturn this.chainModify(0.75);\n\t\t\t}\n\t\t},\n\t\tname: \"Olfactory Armor\",\n\t\tshortDesc: \"This Pokemon prevents adjacent Steel-type foes from choosing to switch and takes 3/4 damage from Super Effective and Steel-type attacks.\",\n\t},\n\tgutsyjaw: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (pokemon.status) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 19,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['bite']) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Gutsy Jaw\",\n\t\tshortDesc: \"Guts + Strong Jaw\",\n\t},\n\tfinalargument: {\n\t\tonStart(source) {\n\t\t\tthis.field.setTerrain('psychicterrain');\n\t\t},\n\t\tonSwitchOut(source) {\n\t\t\tthis.field.setTerrain('psychicterrain');\n\t\t},\n\t\tname: \"Final Argument\",\n\t\tshortDesc: \"Summons Psychic Terrain when switched in or out.\",\n\t},\n\tmosscoat: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Grass') {\n\t\t\t\tthis.debug('Moss Coat boost');\n\t\t\t\treturn this.chainModify(1.3);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Grass') {\n\t\t\t\tthis.debug('Moss Coat boost');\n\t\t\t\treturn this.chainModify(1.3);\n\t\t\t}\n\t\t},\n\t\tonSourceBasePowerPriority: 18,\n\t\tonSourceBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.id === 'earthquake' || move.id === 'magnitude' || move.id === 'bulldoze') {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonResidualOrder: 5,\n\t\tonResidualSubOrder: 2,\n\t\tonResidual(pokemon) {\n\t\t\tif (this.field.isTerrain('grassyterrain')) return;\n\t\t\tthis.heal(pokemon.maxhp / 16);\n\t\t},\n\t\tonTerrain(pokemon) {\n\t\t\tif (!this.field.isTerrain('grassyterrain')) return;\n\t\t\tthis.heal(pokemon.maxhp / 16);\n\t\t},\n\t\tname: \"Moss Coat\",\n\t\tshortDesc: \"This Pokemon is considered to be under the effects of Grassy Terrain.\",\n\t},\n\ttoxicplay: {\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Toxic Play');\n\t\t\tthis.add('-message', `Hawlazzle breaks the mold!`);\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreAbility = true;\n\t\t},\n\t\tname: \"Toxic Play\",\n\t\tshortDesc: \"Mold Breaker + Corrosion.\",\n\t},\n\tcovertops: {\n\t\tonAfterEachBoost(boost, target, source, effect) {\n\t\t\tif (!source || target.side === source.side) {\n\t\t\t\tif (effect.id === 'stickyweb') {\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Covert Ops only affects stats lowered by foes.\", true, source.side);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet statsLowered = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tstatsLowered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (statsLowered) {\n\t\t\t\tthis.add('-ability', target, 'Covert Ops');\n\t\t\t\tthis.boost({spa: 2}, target, target, null, true);\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.infiltrates = true;\n\t\t},\n\t\tname: \"Covert Ops\",\n\t\tshortDesc: \"Infiltrator + Competitive.\",\n\t},\n\tdeluge: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Water') {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Deluge');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Water') {\n\t\t\t\treturn this.chainModify(1.3);\n\t\t\t}\n\t\t},\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Water') {\n\t\t\t\treturn this.chainModify(1.3);\n\t\t\t}\n\t\t},\n\t\tname: \"Deluge\",\n\t\tshortDesc: \"This Pokemon heals 1/4 of its max HP when hit by Water moves; Water immunity. This Pokemon's Water moves have 1.3x power.\",\n\t},\n\tcontraryboost: {\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tlet success = false;\n\t\t\t\tlet i: BoostName;\n\t\t\t\tfor (i in source.boosts) {\n\t\t\t\t\tif (source.boosts[i] === 0) continue;\n\t\t\t\t\tsource.boosts[i] = -source.boosts[i];\n\t\t\t\t\tsuccess = true;\n\t\t\t\t}\n\t\t\t\tif (!success) return false;\n\t\t\t\tthis.add('-invertboost', source, '[from] ability: Contrary Boost');\n\t\t\t}\n\t\t},\n\t\tname: \"Contrary Boost\",\n\t\tshortDesc: \"Reverses stat changes after attacking and KOing a Pokemon.\",\n\t},\n\titemboost: {\n\t\tonAfterUseItem(item, pokemon) {\n\t\t\tif (pokemon !== this.effectState.target) return;\n\t\t\tpokemon.addVolatile('itemboost');\n\t\t},\n\t\tonTakeItem(item, pokemon) {\n\t\t\tpokemon.addVolatile('itemboost');\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tpokemon.removeVolatile('itemboost');\n\t\t},\n\t\tcondition: {\n\t\t\tonModifySpe(spe, pokemon) {\n\t\t\t\tif (!pokemon.item) {\n\t\t\t\t\treturn this.chainModify(2);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tlet statName = 'atk';\n\t\t\t\tlet bestStat = 0;\n\t\t\t\tlet s: StatNameExceptHP;\n\t\t\t\tfor (s in source.storedStats) {\n\t\t\t\t\tif (source.storedStats[s] > bestStat) {\n\t\t\t\t\t\tstatName = s;\n\t\t\t\t\t\tbestStat = source.storedStats[s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.boost({[statName]: length}, source);\n\t\t\t}\n\t\t},\n\t\tname: \"Item Boost\",\n\t\tshortDesc: \"Unburden + Beast Boost.\",\n\t},\n\tultrascout: {\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || target.fainted) continue;\n\t\t\t\tif (!activated) this.add('-ability', pokemon, 'Ultra Scout');\n\t\t\t\tactivated = true;\n\t\t\t\tlet statName = 'atk';\n\t\t\t\tlet bestStat = 0;\n\t\t\t\tlet s: StatNameExceptHP;\n\t\t\t\tfor (s in target.storedStats) {\n\t\t\t\t\tif (target.storedStats[s] > bestStat) {\n\t\t\t\t\t\tstatName = s;\n\t\t\t\t\t\tbestStat = target.storedStats[s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (statName === 'atk') this.add('-message', `${(target.illusion ? target.illusion.name : target.name)} is most proficient in Attack!`);\n\t\t\t\tif (statName === 'def') this.add('-message', `${(target.illusion ? target.illusion.name : target.name)} is most proficient in Defense!`);\n\t\t\t\tif (statName === 'spa') this.add('-message', `${(target.illusion ? target.illusion.name : target.name)} is most proficient in Special Attack!`);\n\t\t\t\tif (statName === 'spd') this.add('-message', `${(target.illusion ? target.illusion.name : target.name)} is most proficient in Special Defense!`);\n\t\t\t\tif (statName === 'spe') this.add('-message', `${(target.illusion ? target.illusion.name : target.name)} is most proficient in Speed!`);\n\t\t\t}\n\t\t},\n\t\tname: \"Ultra Scout\",\n\t\trating: 1.5,\n\t\t  shortDesc: \"On switch-in, this Pokemon identifies the foe's highest non-HP stat\",\n\t},\n\tscarilyadorable: {\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || !target.isAdjacent(pokemon)) continue;\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Scarily Adorable', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({atk: -1, spe: -1}, target, pokemon, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Scarily Adorable\",\n\t\tshortDesc: \"On switch-in, this Pokemon lowers the Attack and Speed of adjacent opponents by 1 stage.\",\n\t},\n\tsolarboiler: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && (move.type === 'Water' || move.type === 'Fire')) {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Solar Boiler');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonWeather(target, source, effect) {\n\t\t\tif (target.hasItem('utilityumbrella')) return;\n\t\t\tif (effect.id === 'raindance' || effect.id === 'primordialsea') {\n\t\t\t\tthis.heal(target.baseMaxhp / 8);\n\t\t\t}\n\t\t},\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(4);\n\t\t\t}\n\t\t},\n\t\tname: \"Solar Boiler\",\n\t\tshortDesc: \"immune to Water and Fire-type attacks, heals 25% when hit by one; Heals 12.5% per turn in Rain; Has 4x Spe in Sun.\",\n\t},\n\tvoltophyll: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && (move.type === 'Electric' || move.type === 'Fire')) {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Voltophyll');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tname: \"Voltophyll\",\n\t\tshortDesc: \"2x Speed in Sun; Heals 25% when hit by a Fire or Electric move; Fire/Electric immunity\",\n\t},\n\tweatherpower: {\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(spa, pokemon) {\n\t\t\tif (['sunnyday', 'desolateland', 'raindance', 'primordialsea', 'hail', 'sandstorm', 'deltastream'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonWeather(target, source, effect) {\n\t\t\tif (target.hasItem('utilityumbrella')) return;\n\t\t\tif (effect.id === 'sunnyday' || effect.id === 'desolateland' || effect.id === 'raindance' || effect.id === 'primordialsea' || effect.id === 'hail' || effect.id === 'sandstorm' || effect.id === 'deltastream') {\n\t\t\t\tthis.damage(target.baseMaxhp / 8, target, target);\n\t\t\t}\n\t\t},\n\t\tname: \"Weather Power\",\n\t\tshortDesc: \"1.5x SpA while under any weather. User loses 12.5% of its HP in any weather.\",\n\t},\n\tplotarmor: {\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.recoil || move.hasCrashDamage) {\n\t\t\t\tthis.debug('Plot Armor boost');\n\t\t\t\treturn this.chainModify([0x1333, 0x1000]);\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: -100,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (damage >= target.hp && effect && (effect.id === 'recoil' || ((effect.id === 'jumpkick' || effect.id === 'highjumpkick') && source === target))) {\n\t\t\t\tthis.add('-ability', target, 'Plot Armor');\n\t\t\t\treturn target.hp - 1;\n\t\t\t}\n\t\t},\n\t\tname: \"Plot Armor\",\n\t\tshortDesc: \"Reckless + If this Pokemon would faint due to recoil or crash damage, it will instead survive with 1 HP.\",\n\t},\n\treversegear: {\n\t\tname: \"Reverse Gear\",\n\t\tonBoost(boost) {\n      \t\t boost.spe *= -1;\n\t\t},\n\t\tshortDesc: \"Stat boosts to the Speed stat are inversed.\",\n\t},\n\tinnerfocus: {\n\t\tonTryAddVolatile(status, pokemon) {\n\t\t\tif (status.id === 'flinch') return null;\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate' || effect.id === 'scarilyadorable' || effect.id === 'metalhead' || effect.id === 'creepy' || effect.id === 'ragingrapids') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inner Focus');\n\t\t\t}\n\t\t\tif (effect.id === 'peckingorder') {\n\t\t\t\tdelete boost.def;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inner Focus');\n\t\t\t}\n\t\t\tif (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inner Focus');\n\t\t\t}\n\t\t\tif (effect.id === 'sinkorswim' || effect.id === 'scarilyadorable') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inner Focus');\n\t\t\t}\n\t\t},\n\t\tname: \"Inner Focus\",\n\t\trating: 1.5,\n\t\tnum: 39,\n\t},\n\tfairygust: {\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tconst noModifyType = [\n\t\t\t\t'judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'terrainpulse', 'weatherball',\n\t\t\t];\n\t\t\tif (move.type === 'Normal' && !noModifyType.includes(move.id) && !(move.isZ && move.category !== 'Status')) {\n\t\t\t\tmove.type = 'Fairy';\n\t\t\t\tmove.pixilateBoosted = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.pixilateBoosted) return this.chainModify([0x1333, 0x1000]);\n\t\t},\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move?.type === 'Flying' && pokemon.hp === pokemon.maxhp) return priority + 1;\n\t\t},\n\t\tname: \"Fairy Gust\",\n\t\tshortDesc: \"Pixilate + Gale Wings.\",\n\t},\n\tleafstream: {\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (['sunnyday', 'desolateland'].includes(target.effectiveWeather())) {\n\t\t\t\tif ((effect as Move)?.status) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Leaf Guard');\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonTryAddVolatile(status, target) {\n\t\t\tif (status.id === 'yawn' && ['sunnyday', 'desolateland'].includes(target.effectiveWeather())) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Leaf Guard');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonStart(source) {\n\t\t\tfor (const action of this.queue) {\n\t\t\t\tif (action.choice === 'runPrimal' && action.pokemon === source && source.species.id === 'groudon') return;\n\t\t\t\tif (action.choice !== 'runSwitch' && action.choice !== 'runPrimal') break;\n\t\t\t}\n\t\t\tthis.field.setWeather('sunnyday');\n\t\t},\n\t\tname: \"Leaf Stream\",\n\t\tshortDesc: \"Leaf Guard + Summons Sunny Day on switch-in.\",\n\t},\n\tjawofthelaw: {\n\t\tonBasePowerPriority: 19,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['bite']) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender) {\n\t\t\tif (!defender.activeTurns) {\n\t\t\t\tthis.debug('Jaw of the Law boost');\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender) {\n\t\t\tif (!defender.activeTurns) {\n\t\t\t\tthis.debug('Jaw of the Law boost');\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tname: \"Jaw of the Law\",\n\t\tshortDesc: \"Strong Jaw + Stakeout.\",\n\t},\n\tmystic: {\n\t\tonStart(source) {\n\t\t\tthis.field.setTerrain('mistyterrain');\n\t\t},\n\t\t// The rest is implemented in moves.ts\n\t\tname: \"Mystic\",\n\t\tshortDesc: \"Misty Surge + This Pokemon's moves ignore the effects of Misty Terrain.\",\n\t},\n\tpeckingorder: {\n\t\tname: \"Pecking Order\",\n\t\tshortDesc: \"On switch-in, this Pokemon lowers the Defense of adjacent opponents by 1 stage.\",\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || !target.isAdjacent(pokemon)) continue;\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Pecking Order', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({def: -1}, target, pokemon, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tmarblegarden: {\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'recoil') {\n\t\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\n\t\t\t\tif (this.activeMove.id !== 'struggle') return null;\n\t\t\t}\n\t\t},\n\t\tonAllyBoost(boost, target, source, effect) {\n\t\t\tif ((source && target === source)) return;\n\t\t\tlet showMsg = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tdelete boost[i];\n\t\t\t\t\tshowMsg = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries) {\n\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\tthis.add('-block', target, 'ability: Marble Garden', '[of] ' + effectHolder);\n\t\t\t}\n\t\t},\n\t\tonAllySetStatus(status, target, source, effect) {\n\t\t\tif (source && target !== source && effect && effect.id !== 'yawn') {\n\t\t\t\tthis.debug('interrupting setStatus with Marble Garden');\n\t\t\t\tif (effect.id === 'synchronize' || (effect.effectType === 'Move' && !effect.secondaries)) {\n\t\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\t\tthis.add('-block', target, 'ability: Marble Garden', '[of] ' + effectHolder);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryAddVolatile(status, target) {\n\t\t\tif (status.id === 'yawn') {\n\t\t\t\tthis.debug('Marble Garden blocking yawn');\n\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\tthis.add('-block', target, 'ability: Marble Garden', '[of] ' + effectHolder);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Marble Garden\",\n\t\tshortDesc: \"Protects the user from Recoil, and status infliction and stat reduction from other Pok\u00E9mon.\",\n\t},\n\tdevilsadvocate: {\n\t\tonPreStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Devil\\'s Advocate', pokemon.side.foe);\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect && effect.id === 'zpower') return;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tboost[i]! *= -1;\n\t\t\t}\n\t\t},\n\t\tonFoeTryEatItem: false,\n\t\tname: \"Devil's Advocate\",\n\t\tshortDesc: \"Unnerve + Contrary\",\n\t},\n\tsnowglobe: {\n\t\tonStart(source) {\n\t\t\tthis.field.setWeather('hail');\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (this.field.isWeather('hail')) {\n\t\t\t\tif (move.type === 'Rock' || move.type === 'Ground' || move.type === 'Steel') {\n\t\t\t\t\tthis.debug('Snow Globe boost');\n\t\t\t\t\treturn this.chainModify([0x14CD, 0x1000]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'hail') return false;\n\t\t},\n\t\tname: \"Snow Globe\",\n\t\tshortDesc: \"Summons Hail on switch-in. Steel, Ground, and Rock moves deal 1.3x damage in Hail; Hail immunity.\",\n\t},\n\tbugscicle: {\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tconst noModifyType = [\n\t\t\t\t'judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'terrainpulse', 'weatherball',\n\t\t\t];\n\t\t\tif (move.type === 'Bug' && !noModifyType.includes(move.id) && !(move.isZ && move.category !== 'Status')) {\n\t\t\t\tmove.type = 'Ice';\n\t\t\t\tmove.refrigerateBoosted = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.refrigerateBoosted) return this.chainModify([0x1333, 0x1000]);\n\t\t},\n\t\tname: \"Bugscicle\",\n\t\tshortDesc: \"This Pok\u00E9mon's Bug-Type moves become Ice-Type and deal 1.2x damage.\",\n\t},\n\tmagicfist: {\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (!attacker.item) {\n\t\t\t\tthis.debug('Magic Fist boost');\n\t\t\t\treturn this.chainModify([0x1333, 0x1000]);\n\t\t\t}\n\t\t},\n\t\tname: \"Magic Fist\",\n\t\tshortDesc: \"If this Pokemon has no item, its attacks have 1.2x power.\",\n\t},\n\tsandbubbler: {\n\t\tonStart(source) {\n\t\t\tthis.field.setWeather('sandstorm');\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['punch']) {\n\t\t\t\tthis.debug('Sand Bubbler boost');\n\t\t\t\treturn this.chainModify([0x1333, 0x1000]);\n\t\t\t}\n\t\t},\n\t\tname: \"Sand Bubbler\",\n\t\tshortDesc: \"Sand Stream + Iron Fist.\",\n\t},\n\tbombardier: {\n\t\tonBasePowerPriority: 19,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['bullet']) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Bombardier\",\n\t\tshortDesc: \"Bullet and Bomb moves have 1.5x power.\",\n\t},\n\tasonekecleon: {\n\t\tonPreStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'As One');\n\t\t\tthis.add('-ability', pokemon, 'Unnerve', pokemon.side.foe);\n\t\t},\n\t\tonFoeTryEatItem: false,\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tthis.boost({spa: length}, source, source, this.dex.abilities.get('grimneigh'));\n\t\t\t}\n\t\t},\n\t\tonAfterMoveSecondary(target, source, move) {\n\t\t\tif (!target.hp) return;\n\t\t\tconst type = move.type;\n\t\t\tif (\n\t\t\t\ttarget.isActive && move.effectType === 'Move' && move.category !== 'Status' &&\n\t\t\t\ttype !== '???' && !target.hasType(type)\n\t\t\t) {\n\t\t\t\tif (!target.setType(type)) return false;\n\t\t\t\tthis.add('-start', target, 'typechange', type, '[from] ability: Color Change');\n\n\t\t\t\tif (target.side.active.length === 2 && target.position === 1) {\n\t\t\t\t\t// Curse Glitch\n\t\t\t\t\tconst action = this.queue.willMove(target);\n\t\t\t\t\tif (action && action.move.id === 'curse') {\n\t\t\t\t\t\taction.targetLoc = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"As One (Kecleon)\",\n\t\tshortDesc: \"As One (Spectrier) + Color Change.\",\n\t},\n\theavyarmor: {\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tlet showMsg = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tdelete boost[i];\n\t\t\t\t\tshowMsg = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Heavy Armor\", \"[of] \" + target);\n\t\t\t}\n\t\t},\n\t\tonCriticalHit: false,\n\t\tname: \"Heavy Armor\",\n\t\tshortDesc: \"Prevents other Pokemon from lowering this Pokemon's stat stages. This Pokemon cannot be struck by a critical hit.\",\n\t},\n\tmagicwand: {\n\t\tonModifyMove(move) {\n\t\t\tdelete move.flags['contact'];\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.effectType !== 'Move') {\n\t\t\t\tif (effect.effectType === 'Ability') this.add('-activate', source, 'ability: ' + effect.name);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tname: \"Magic Wand\",\n\t\tshortDesc: \"Long Reach + Magic Guard\",\n\t},\n\tsportsshowtime: {\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (move.hasBounced) return;\n\t\t\tconst type = move.type;\n\t\t\tif (type && type !== '???' && source.getTypes().join() !== type) {\n\t\t\t\tif (!source.setType(type)) return;\n\t\t\t\tthis.add('-start', source, 'typechange', type, '[from] ability: Sports Showtime');\n\t\t\t\tthis.heal(source.baseMaxhp / 16);\n\t\t\t}\n\t\t},\n\t\tname: \"Sports Showtime\",\n\t\tshortDesc: \"Changes to the type of its used move and heals 1/16 of its max HP before dealing damage\",\n\t},\n\tfirestarter: {\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.trySetStatus('brn', target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tif (!move || !move.flags['contact'] || move.target === 'self') return;\n\t\t\tif (!move.secondaries) {\n\t\t\t\tmove.secondaries = [];\n\t\t\t}\n\t\t\tmove.secondaries.push({\n\t\t\t\tchance: 30,\n\t\t\t\tstatus: 'brn',\n\t\t\t\tability: this.dex.abilities.get('firestarter'),\n\t\t\t});\n\t\t},\n\t\tname: \"Fire Starter\",\n\t\tshortDesc: \"30% chance to burn opponent when using a contact move or when the opponent makes contact with this Pokemon\",\n\t},\n\t\"parasomnia\": {\n\t\tshortDesc: \"Upon a KO or falling asleep, highest non-HP stat is raised by 1 stage.\",\n\t\tid: \"parasomnia\",\n\t\tname: \"Parasomnia\",\n\t\tonSourceFaint(target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tlet statName = 'atk';\n\t\t\t\tlet bestStat = 0;\n\t\t\t\t/** @type {StatNameExceptHP} */\n\t\t\t\tlet s;\n\t\t\t\tfor (s in source.storedStats) {\n\t\t\t\t\tif (source.storedStats[s] > bestStat) {\n\t\t\t\t\t\tstatName = s;\n\t\t\t\t\t\tbestStat = source.storedStats[s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.boost({[statName]: 1}, source);\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tlet statName = 'atk';\n\t\t\tlet bestStat = 0;\n\t\t\t/** @type {StatNameExceptHP} */\n\t\t\tlet s;\n\t\t\tfor (s in this.effectState.target.storedStats) {\n\t\t\t\tif (this.effectState.target.storedStats[s] > bestStat) {\n\t\t\t\t\tstatName = s;\n\t\t\t\t\tbestStat = this.effectState.target.storedStats[s];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (status.id === 'slp') {\n\t\t\t\tthis.boost({[statName]: 1}, this.effectState.target);\n\t\t\t}\n\t\t},\n\t},\n\twillfulcharge: {\n\t\t onTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Electric') {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Willful Charge');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tif (move.type === 'Electric') {\n\t\t\t\tmove.ignoreDefensive = true;\n\t\t\t\tmove.ignoreEvasion = true;\n\t\t\t}\n\t\t},\n\t\tname: \"Willful Charge\",\n\t\tshortDesc: \"Ignores opponent\u2019s stat changes when doing damage with Electric-type moves and recovers 1/4 max HP when hit by an electric type move; Electric immunity.\",\n\t},\n\tsheerheart: {\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.category === 'Special') return this.chainModify([0x14CD, 0x1000]);\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (boost.spa && boost.spa < 0 || boost.spa > 0) {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Special Attack\", \"[from] ability: Sheer Heart\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Sheer Heart\",\n\t\tshortDesc: \"Special attacks have 1.3x power; stat changes to the Special Attack stat have no effect.\",\n\t},\n\tberrynice: {\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonResidualOrder: 26,\n\t\tonResidualSubOrder: 1,\n\t\tonResidual(pokemon) {\n\t\t\tif (this.field.isWeather(['sunnyday', 'desolateland']) || this.randomChance(1, 2)) {\n\t\t\t\tif (pokemon.hp && !pokemon.item && this.dex.items.get(pokemon.lastItem).isBerry) {\n\t\t\t\t\tpokemon.setItem(pokemon.lastItem);\n\t\t\t\t\tpokemon.lastItem = '';\n\t\t\t\t\tthis.add('-item', pokemon, pokemon.getItem(), '[from] ability: Berry Nice');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonTryHeal(damage, target, source, effect) {\n\t\t\tif (!effect) return;\n\t\t\tif (effect.id === 'berryjuice' || effect.id === 'leftovers') {\n\t\t\t\tthis.add('-activate', target, 'ability: Ripen');\n\t\t\t}\n\t\t\tif ((effect as Item).isBerry) return this.chainModify(2);\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect && (effect as Item).isBerry) {\n\t\t\t\tlet b: BoostName;\n\t\t\t\tfor (b in boost) {\n\t\t\t\t\tboost[b]! *= 2;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSourceModifyDamagePriority: -1,\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (target.abilityData.berryWeaken) {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonTryEatItemPriority: -1,\n\t\tonTryEatItem(item, pokemon) {\n\t\t\tthis.add('-activate', pokemon, 'ability: Berry Nice');\n\t\t},\n\t\tonEatItem(item, pokemon) {\n\t\t\tconst weakenBerries = [\n\t\t\t\t'Babiri Berry', 'Charti Berry', 'Chilan Berry', 'Chople Berry', 'Coba Berry', 'Colbur Berry', 'Haban Berry', 'Kasib Berry', 'Kebia Berry', 'Occa Berry', 'Passho Berry', 'Payapa Berry', 'Rindo Berry', 'Roseli Berry', 'Shuca Berry', 'Tanga Berry', 'Wacan Berry', 'Yache Berry',\n\t\t\t];\n\t\t\t// Record if the pokemon ate a berry to resist the attack\n\t\t\tpokemon.abilityData.berryWeaken = weakenBerries.includes(item.name);\n\t\t},\n\t\tname: \"Berry Nice\",\n\t\tshortDesc: \"Chlorophyll + Harvest + Berries eaten by this Pokemon have their effect doubled.\",\n\t},\n\tswiftretreat: {\n\t\tonEmergencyExit(target) {\n\t\t\tif (!this.canSwitch(target.side) || target.forceSwitchFlag || target.switchFlag) return;\n\t\t\tfor (const side of this.sides) {\n\t\t\t\tfor (const active of side.active) {\n\t\t\t\t\tactive.switchFlag = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttarget.switchFlag = true;\n\t\t\tthis.add('-activate', target, 'ability: Swift Retreat');\n\t\t},\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tname: \"Swift Retreat\",\n\t\tshortDesc: \"Emergency Exit + Swift Swim.\",\n\t},\n\tmagneticwaves: {\n\t\tonModifyTypePriority: -1,\n\t\tonModifyType(move, pokemon) {\n\t\t\tconst noModifyType = [\n\t\t\t\t'judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'terrainpulse', 'weatherball',\n\t\t\t];\n\t\t\tif (move.type === 'Normal' && !noModifyType.includes(move.id) && !(move.isZ && move.category !== 'Status')) {\n\t\t\t\tmove.type = 'Electric';\n\t\t\t\tmove.galvanizeBoosted = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.galvanizeBoosted) return this.chainModify([0x1333, 0x1000]);\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Magnetic Waves');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Magnetic Waves\",\n\t\tshortDesc: \"Galvanize + Levitate.\",\n\t},\n\tfridge: {\n\t\tonTryHeal(damage, target, source, effect) {\n\t\t\tif (!effect) return;\n\t\t\tif (effect.id === 'berryjuice' || effect.id === 'leftovers') {\n\t\t\t\tthis.add('-activate', target, 'ability: Fridge');\n\t\t\t}\n\t\t\tif ((effect as Item).isBerry) return this.chainModify(2);\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect && (effect as Item).isBerry) {\n\t\t\t\tlet b: BoostName;\n\t\t\t\tfor (b in boost) {\n\t\t\t\t\tboost[b]! *= 2;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSourceModifyDamagePriority: -1,\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (target.abilityData.berryWeaken) {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonTryEatItemPriority: -1,\n\t\tonTryEatItem(item, pokemon) {\n\t\t\tthis.add('-activate', pokemon, 'ability: Fridge');\n\t\t},\n\t\tonEatItem(item, pokemon) {\n\t\t\tconst weakenBerries = [\n\t\t\t\t'Babiri Berry', 'Charti Berry', 'Chilan Berry', 'Chople Berry', 'Coba Berry', 'Colbur Berry', 'Haban Berry', 'Kasib Berry', 'Kebia Berry', 'Occa Berry', 'Passho Berry', 'Payapa Berry', 'Rindo Berry', 'Roseli Berry', 'Shuca Berry', 'Tanga Berry', 'Wacan Berry', 'Yache Berry',\n\t\t\t];\n\t\t\t// Record if the pokemon ate a berry to resist the attack\n\t\t\tpokemon.abilityData.berryWeaken = weakenBerries.includes(item.name);\n\t\t},\n\t\tonSourceBasePowerPriority: 18,\n\t\tonSourceBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect && effect.id === 'brn') {\n\t\t\t\treturn damage / 2;\n\t\t\t}\n\t\t},\n\t\tname: \"Fridge\",\n\t\tshortDesc: \"Ripen + Heatproof.\",\n\t},\n\tmonarchyenforcement: {\n\t\tonModifyMove(move, pokemon) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tdelete move.secondaries;\n\t\t\t\t// Technically not a secondary effect, but it is negated\n\t\t\t\tdelete move.self;\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\n\t\t\t\tmove.hasSheerForce = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.hasSheerForce) return this.chainModify([0x14CD, 0x1000]);\n\t\t},\n\t\tonFoeTryMove(target, source, move) {\n\t\t\tconst targetAllExceptions = ['perishsong', 'flowershield', 'rototiller'];\n\t\t\tif (move.target === 'foeSide' || (move.target === 'all' && !targetAllExceptions.includes(move.id))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst dazzlingHolder = this.effectState.target;\n\t\t\tif ((source.side === dazzlingHolder.side || move.target === 'all') && move.priority > 0.1) {\n\t\t\t\tthis.attrLastMove('[still]');\n\t\t\t\tthis.add('cant', dazzlingHolder, 'ability: Monarchy Enforcement', move, '[of] ' + target);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tname: \"Monarchy Enforcement\",\n\t\tshortDesc: \"Sheer Force + Queenly Majesty.\",\n\t},\n\tyakultian: {\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tthis.boost({atk: length}, source);\n\t\t\t}\n\t\t},\n\t\tonStart(source) {\n\t\t\tthis.field.setWeather('hail');\n\t\t},\n\t\tname: \"Yakultian\",\n\t\tshortDesc: \"Chilling Neigh + Snow Warning.\",\n\t},\n\tacceleration: {\n\t\tonResidualOrder: 26,\n\t\tonResidualSubOrder: 1,\n\t\tonResidual(pokemon) {\n\t\t\tif (pokemon.activeTurns) {\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t}\n\t\t},\n\t\tonAfterEachBoost(boost, target, source, effect) {\n\t\t\tif (!source || target.side === source.side) {\n\t\t\t\tif (effect.id === 'stickyweb') {\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Acceleration only affects stats lowered by foes.\", true, source.side);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet statsLowered = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tstatsLowered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (statsLowered) {\n\t\t\t\tthis.add('-ability', target, 'Acceleration');\n\t\t\t\tthis.boost({spe: 2}, target, target, null, true);\n\t\t\t}\n\t\t},\n\t\tname: \"Acceleration\",\n\t\tshortDesc: \"This Pokemon's Speed goes up by 1 stage at the end of every turn. +2 Speed when a stat is lowered.\",\n\t},\n\textremophile: {\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (['sunnyday', 'desolateland', 'hail'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tname: \"Extremophile\",\n\t\tshortDesc: \"Slush Rush + Chlorophyll.\",\n\t},\n\thivemind: {\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tlet showMsg = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tdelete boost[i];\n\t\t\t\t\tshowMsg = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Hivemind\", \"[of] \" + target);\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Bug') {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Hivemind');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Hivemind\",\n\t\tshortDesc: \"This Pokemon is immune to having its stats lowered and Bug-type moves.\",\n\t},\n\tanatidaephobia: {\n\t\tonModifyMovePriority: -5,\n\t\tonModifyMove(move) {\n\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\n\t\t\tif (move.ignoreImmunity !== true) {\n\t\t\t\tmove.ignoreImmunity['Fighting'] = true;\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\n\t\t\t}\n\t\t\tif (!move || !move.type === 'Normal' && !move.type === 'Fighting' || move.target === 'self') return;\n\t\t\tif (!move.secondaries) {\n\t\t\t\tmove.secondaries = [];\n\t\t\t}\n\t\t\tmove.secondaries.push({\n\t\t\t\tchance: 100,\n\t\t\t\tvolatileStatus: 'perishsong',\n\t\t\t\tability: this.dex.abilities.get('anatidaephobia'),\n\t\t\t});\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate' || effect.id === 'scarilyadorable' || effect.id === 'metalhead' || effect.id === 'creepy' || effect.id === 'ragingrapids') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Anatidaephobia');\n\t\t\t}\n\t\t\tif (effect.id === 'peckingorder') {\n\t\t\t\tdelete boost.def;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Anatidaephobia');\n\t\t\t}\n\t\t\tif (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Anatidaephobia');\n\t\t\t}\n\t\t\tif (effect.id === 'sinkorswim' || effect.id === 'scarilyadorable') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Anatidaephobia');\n\t\t\t}\n\t\t},\n\t\tname: \"Anatidaephobia\",\n\t\tshortDesc: \"This Pokemon's Normal and Fighting-type moves can hit Ghost-types and inflict the target with the Perish Song effect.\",\n\t},\n\tpermafrost: {\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (target.getMoveHitData(move).typeMod > 0) {\n\t\t\t\tthis.debug('Permafrost neutralize');\n\t\t\t\treturn this.chainModify(0.75);\n\t\t\t}\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (target.getMoveHitData(move).typeMod > 0) {\n\t\t\t\ttarget.heal(target.baseMaxhp / 16);\n\t\t\t\tthis.add('-heal', target, target.getHealth, '[from] ability: Permafrost');\n\t\t\t}\n\t\t},\n\t\tname: \"Permafrost\",\n\t\tshortDesc: \"When hit by a super effective move, that move deals 3/4 damage and this Pokemon gets healed by 1/16 of its max HP.\",\n\t},\n\tgrassystream: {\n\t\tonStart(source) {\n\t\t\tthis.field.setTerrain('grassyterrain');\n\t\t},\n\t\tonModifyDefPriority: 6,\n\t\tonModifyDef(pokemon) {\n\t\t\tif (this.field.isWeather('sandstorm')) return this.chainModify(1.5);\n\t\t},\n\t\tname: \"Grassy Stream\",\n\t\tshortDesc: \"Sets Grassy Terrain upon switch-in. 1.5x Def under Sandstorm.\",\n\t},\n\t/*\n\telectrolytes: {\n\t\tonResidualOrder: 5,\n\t\tonResidualSubOrder: 4,\n\t\tonResidual(pokemon, length) {\n\t\t\tif (pokemon.status) {\n\t\t\t\tthis.debug('electrolytes');\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Electrolytes');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t\tlet statName = 'atk';\n\t\t\t\tlet bestStat = 0;\n\t\t\t\tlet s: StatNameExceptHP;\n\t\t\t\tfor (s in pokemon.storedStats) {\n\t\t\t\t\tif (pokemon.storedStats[s] > bestStat) {\n\t\t\t\t\t\tstatName = s;\n\t\t\t\t\t\tbestStat = pokemon.storedStats[s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.boost({[statName]: length}, pokemon);\n\t\t\t}\n\t\t},\n\t\tname: \"Electrolytes\",\n\t\tshortDesc: \"When this Pokemon is statused by an opponent, the status is cured at the end of the turn and this Pokemon gains +1 to their highest non-HP stat.\",\n\t},\n*/\n\telectrolytes: {\n\t\tonResidualOrder: 5,\n\t\tonResidualSubOrder: 4,\n\t\tonResidual(pokemon) {\n\t\t\tif (pokemon.hp && pokemon.status) {\n\t\t\t\tif (!pokemon.statusData.source || !pokemon.statusData.source.side || pokemon.statusData.source.side === pokemon.side) return;\n\t\t\t\tthis.debug('Electrolytes');\n\t\t\t\tlet statName = 'atk';\n\t\t\t\tlet bestStat = 0;\n\t\t\t\tlet s: StatNameExceptHP;\n\t\t\t\tfor (s in pokemon.storedStats) {\n\t\t\t\t\tif (pokemon.storedStats[s] > bestStat) {\n\t\t\t\t\t\tstatName = s;\n\t\t\t\t\t\tbestStat = pokemon.storedStats[s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.boost({[statName]: 1}, pokemon);\n\t\t\t\tpokemon.cureStatus();\n\t\t\t}\n\t\t},\n\t\t  onSourceAfterFaint(length, target, source, effect) {\n\t\t\t  if (effect && effect.effectType === 'Move') {\n\t\t\t\t  let statName = 'atk';\n\t\t\t\t  let bestStat = 0;\n\t\t\t\t  let s: StatNameExceptHP;\n\t\t\t\t  for (s in source.storedStats) {\n\t\t\t\t\t  if (source.storedStats[s] > bestStat) {\n\t\t\t\t\t\t  statName = s;\n\t\t\t\t\t\t  bestStat = source.storedStats[s];\n\t\t\t\t\t  }\n\t\t\t\t  }\n\t\t\t\t  this.boost({[statName]: length}, source);\n\t\t\t  }\n\t\t  },\n\t\tname: \"Electrolytes\",\n\t\trating: 4,\n\t\t  shortDesc: \"When this Pokemon is statused by or KOes an opponent, the status is cured at the end of the turn and this Pokemon gains +1 to their highest non-HP stat.\",\n\t},\n\tworkability: {\n\t\tonModifyMove(move) {\n\t\t\tmove.stab = 2;\n\t\t},\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Steel') {\n\t\t\t\tthis.debug('Workability boost');\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Steel') {\n\t\t\t\tthis.debug('Workability boost');\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tname: \"Workability\",\n\t\tshortDesc: \"This Pokemon's STAB boost is 2x instead of 1.5x. Steel-type moves are considered STAB for this Pokemon\",\n\t},\n\tdeusexmachina: {\n\t\tonStart(pokemon) {\n\t\t\tif (pokemon.baseSpecies.baseSpecies !== 'Wishirupti' || pokemon.level < 20 || pokemon.transformed) return;\n\t\t\tif (pokemon.hp > pokemon.maxhp / 4) {\n\t\t\t\tif (pokemon.species.id === 'wishirupti') {\n\t\t\t\t\tpokemon.formeChange('Wishirupti-School');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (pokemon.species.id === 'wishiruptischool') {\n\t\t\t\t\tpokemon.formeChange('Wishirupti');\n\t\t\t\t\tpokemon.setBoost({atk: 6});\n\t\t\t\t\tthis.add('-setboost', pokemon, 'atk', 12, '[from] ability: Deus Ex Machina');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonResidualOrder: 27,\n\t\tonResidual(pokemon) {\n\t\t\tif (\n\t\t\t\tpokemon.baseSpecies.baseSpecies !== 'Wishirupti' || pokemon.level < 20 ||\n\t\t\t\tpokemon.transformed || !pokemon.hp\n\t\t\t) return;\n\t\t\tif (pokemon.hp > pokemon.maxhp / 4) {\n\t\t\t\tif (pokemon.species.id === 'wishirupti') {\n\t\t\t\t\tpokemon.formeChange('Wishirupti-School');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (pokemon.species.id === 'wishiruptischool') {\n\t\t\t\t\tpokemon.formeChange('Wishirupti');\n\t\t\t\t\tpokemon.setBoost({atk: 6});\n\t\t\t\t\tthis.add('-setboost', pokemon, 'atk', 12, '[from] ability: Deus Ex Machina');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Deus Ex Machina\",\n\t\tshortDesc: \"Schooling effects. When this Pokemon enters Solo form, it gains +12 Attack.\",\n\t},\n\tneutralizinggas: {\n\t\t// Ability suppression implemented in sim/pokemon.ts:Pokemon#ignoringAbility\n\t\t// TODO Will abilities that already started start again? (Intimidate seems like a good test case)\n\t\tonPreStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Neutralizing Gas');\n\t\t\tpokemon.abilityData.ending = false;\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target.illusion) {\n\t\t\t\t\tthis.singleEvent('End', this.dex.abilities.get('Illusion'), target.abilityData, target, pokemon, 'neutralizinggas');\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['slowstart']) {\n\t\t\t\t\tdelete target.volatiles['slowstart'];\n\t\t\t\t\tthis.add('-end', target, 'Slow Start', '[silent]');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (source.species.baseSpecies !== 'Weezlord-Galar') return;\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tlet statName = 'atk';\n\t\t\t\tlet bestStat = 0;\n\t\t\t\tlet s: StatNameExceptHP;\n\t\t\t\tfor (s in source.storedStats) {\n\t\t\t\t\tif (source.storedStats[s] > bestStat) {\n\t\t\t\t\t\tstatName = s;\n\t\t\t\t\t\tbestStat = source.storedStats[s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.boost({[statName]: length}, source);\n\t\t\t}\n\t\t},\n\t\tonEnd(source) {\n\t\t\t// FIXME this happens before the pokemon switches out, should be the opposite order.\n\t\t\t// Not an easy fix since we cant use a supported event. Would need some kind of special event that\n\t\t\t// gathers events to run after the switch and then runs them when the ability is no longer accessible.\n\t\t\t// (If your tackling this, do note extreme weathers have the same issue)\n\n\t\t\t// Mark this pokemon's ability as ending so Pokemon#ignoringAbility skips it\n\t\t\tsource.abilityData.ending = true;\n\t\t\tfor (const pokemon of this.getAllActive()) {\n\t\t\t\tif (pokemon !== source) {\n\t\t\t\t\t// Will be suppressed by Pokemon#ignoringAbility if needed\n\t\t\t\t\tthis.singleEvent('Start', pokemon.getAbility(), pokemon.abilityData, pokemon);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Neutralizing Gas\",\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\n\t\tshortDesc: \"While this Pokemon is active, Abilities have no effect. Weezlord: +1 to highest stat upon KO\",\n\t\trating: 5,\n\t\tnum: 256,\n\t},\n\tundercut: {\n\t\tonBasePowerPriority: 30,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tthis.chainModify(0.75);\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Technician boost');\n\t\t\t\treturn this.chainModify(1.875);\n\t\t\t}\n\t\t},\n\t\tname: \"Undercut\",\n\t\tshortDesc: \"This Pokemon's moves of 80 power or less have 1.40625x power, but its moves higher than 80 power have 0.75x power.\",\n\t},\n\theatgenerator: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\n\t\t\t\tthis.debug('Heat Generator');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\n\t\t\t\tthis.debug('Heat Generator');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t\tname: \"Heat Generator\",\n\t\tshortDesc: \"Regenerator + Blaze\",\n\t},\n\tflamingskin: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Water') {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Flaming Skin');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonFoeBasePowerPriority: 17,\n\t\tonFoeBasePower(basePower, attacker, defender, move) {\n\t\t\tif (this.effectState.target !== defender) return;\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\treturn this.chainModify(1.25);\n\t\t\t}\n\t\t},\n\t\tonWeather(target, source, effect) {\n\t\t\tif (target.hasItem('utilityumbrella')) return;\n\t\t\tif (effect.id === 'raindance' || effect.id === 'primordialsea') {\n\t\t\t\tthis.heal(target.baseMaxhp / 8);\n\t\t\t} else if (effect.id === 'sunnyday' || effect.id === 'desolateland') {\n\t\t\t\tthis.damage(target.baseMaxhp / 8, target, target);\n\t\t\t}\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.trySetStatus('brn', target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Flaming Skin\",\n\t\tshortDesc: \"Dry Skin + Flame Body\",\n\t},\n\tetativel: {\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect && effect.id === 'zpower') return;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tboost[i]! *= -1;\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Etativel');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Etativel\",\n\t\tshortDesc: \"Contrary + Levitate\",\n\t},\n\tclutchfactor: {\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.category === 'Special' && attacker.hp <= attacker.maxhp / 3) {\n\t\t\t\tthis.debug('Clutch Factor boost boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Clutch Factor\",\n\t\tshortDesc: \"Special Attacks are boosted by 1.5x at 1/3 HP or less.\",\n\t},\n\tstickysurge: {\n\t\tonTakeItem(item, pokemon, source) {\n\t\t\tif (this.suppressingAttackEvents(pokemon) || !pokemon.hp || pokemon.item === 'stickybarb') return;\n\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\n\t\t\tif ((source && source !== pokemon) || this.activeMove.id === 'knockoff') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Sticky Surge');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonStart(source) {\n\t\t\tthis.field.setTerrain('electricterrain');\n\t\t},\n\t\tname: \"Sticky Surge\",\n\t\tshortDesc: \"Sticky Hold + Electric Surge.\",\n\t},\n\tselfsacrifice: {\n\t\tonFaint(pokemon) {\n\t\t\tpokemon.side.addSlotCondition(pokemon, 'selfsacrifice');\n\t\t},\n\t\tcondition: {\n\t\t\tonStart(pokemon, source) {\n\t\t\t\tthis.effectState.hp = source.maxhp / 4;\n\t\t\t},\n\t\t\tonSwap(target) {\n\t\t\t\tif (!target.fainted) {\n\t\t\t\t\tconst damage = this.heal(this.effectState.hp, target, target);\n\t\t\t\t\tif (damage) this.add('-heal', target, target.getHealth, '[from] ability: Self Sacrifice', '[of] ' + this.effectState.source);\n\t\t\t\t\ttarget.side.removeSlotCondition(target, 'selfsacrifice');\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tname: \"Self Sacrifice\",\n\t\tshortDesc: \"When this Pokemon faints, the replacement is healed by 1/4 of this Pokemon's max HP\",\n\t},\n\tlighthearted: {\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move?.category === 'Status') {\n\t\t\t\tmove.pranksterBoosted = true;\n\t\t\t\treturn priority + 1;\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Lighthearted');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Lighthearted\",\n\t\tshortDesc: \"Prankster + Levitate\",\n\t},\n\ttigerpit: {\n\t\tonFoeTrapPokemon(pokemon) {\n\t\t\tif (!pokemon.isAdjacent(this.effectState.target)) return;\n\t\t\tif (pokemon.isGrounded() || !pokemon.hasAbility('feelnopain') || !pokemon.hasAbility('magneticwaves') ||\n            !pokemon.hasAbility('stickyfloat') || !pokemon.hasAbility('etativel') || !pokemon.hasAbility('lighthearted') ||\n            !pokemon.hasAbility('leviflame') || !pokemon.hasAbility('levitability') || !pokemon.hasAbility('feelsomepain') || !pokemon.hasAbility('aerialbreak') || !pokemon.hasAbility('floatguise') || !pokemon.hasAbility('clearlyfloating') || !pokemon.hasAbility('hoverboard') || !pokemon.hasAbility('levimetal') || !pokemon.hasAbility('levistatic')) {\n\t\t\t\tpokemon.tryTrap(true);\n\t\t\t}\n\t\t},\n\t\tonFoeMaybeTrapPokemon(pokemon, source) {\n\t\t\tif (!source) source = this.effectState.target;\n\t\t\tif (!source || !pokemon.isAdjacent(source)) return;\n\t\t\tif (pokemon.isGrounded(!pokemon.knownType) || !pokemon.hasAbility('feelnopain') || !pokemon.hasAbility('magneticwaves') ||\n            !pokemon.hasAbility('stickyfloat') || !pokemon.hasAbility('etativel') || !pokemon.hasAbility('lighthearted') ||\n            !pokemon.hasAbility('leviflame') || !pokemon.hasAbility('levitability') || !pokemon.hasAbility('feelsomepain') || !pokemon.hasAbility('aerialbreak') || !pokemon.hasAbility('floatguise') || !pokemon.hasAbility('clearlyfloating') || !pokemon.hasAbility('hoverboard') || !pokemon.hasAbility('levimetal') || !pokemon.hasAbility('levistatic')) { // Negate immunity if the type is unknown\n\t\t\t\tpokemon.maybeTrapped = true;\n\t\t\t}\n\t\t},\n\t\tonSourceModifyAccuracyPriority: 7,\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\n\t\t\tif (!target.isGrounded() || target.hasAbility('feelnopain') || target.hasAbility('magneticwaves') ||\n            target.hasAbility('stickyfloat') || target.hasAbility('etativel') || target.hasAbility('lighthearted') ||\n            target.hasAbility('leviflame') || target.hasAbility('levitability') || target.hasAbility('feelsomepain') || target.hasAbility('aerialbreak') || target.hasAbility('floatguise') || target.hasAbility('clearlyfloating') || target.hasAbility('hoverboard') || target.hasAbility('levimetal') || target.hasAbility('levistatic')) {\n\t\t\t\treturn accuracy * 0.8;\n\t\t\t}\n\t\t},\n\t\tname: \"Tiger Pit\",\n\t\tshortDesc: \"(Bugged) Prevents grounded foes from switching. 0.8x Accuracy against airborne foes.\",\n\t},\n\tvengefulshift: {\n\t\tonResidualOrder: 5,\n\t\tonResidualSubOrder: 4,\n\t\tonResidual(pokemon, source) {\n\t\t\tif (pokemon.status) {\n\t\t\t\tif (!source || source === pokemon) return;\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Vengeful Shift');\n           \tthis.useMove(\"Psycho Shift\", pokemon);\n\t\t\t}\n\t\t},\n\t\tname: \"Vengeful Shift\",\n\t\tshortDesc: \"(Not coded) If statused by a foe, this Pokemon attempts to transfer its status to a foe at the end of each turn.\",\n\t},\n\ttoughskin: {\n\t\tonDamagingHitOrder: 1,\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tthis.damage(source.baseMaxhp / 8, source, target);\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\treturn this.chainModify(1.2);\n\t\t\t}\n\t\t},\n\t\tname: \"Tough Skin\",\n\t\tshortDesc: \"Foes making contact with this Pokemon lose 1/8 of their max HP. This Pokemon's contact moves have 1.2x power.\",\n\t},\n\thydraulicpress: {\n\t\tonModifyWeight(weighthg) {\n\t\t\treturn this.trunc(weighthg / 2);\n\t\t},\n\t\tonModifyMove(move, pokemon) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tdelete move.secondaries;\n\t\t\t\t// Technically not a secondary effect, but it is negated\n\t\t\t\tdelete move.self;\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\n\t\t\t\tmove.hasSheerForce = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.hasSheerForce) return this.chainModify([0x14CD, 0x1000]);\n\t\t},\n\t\tname: \"Hydraulic Press\",\n\t\tshortDesc: \"Sheer Force + Light Metal.\",\n\t},\n\tparroting: {\n\t\t// implemented in runMove in scripts.js\n\t\tname: \"Parroting\",\n\t\tshortDesc: \"After another Pokemon uses a status move, this Pokemon uses the same move.\",\n\t},\n\t/*\n\tlifedrain: {\n\t\tonPrepareHit(source, target, move, basePower) {\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.heal(source.baseMaxhp / 8);\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 30,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Life Drain boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: 1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'psn' || effect.id === 'tox') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tname: \"Life Drain\",\n\t\tshortDesc: \"Moves with \u226460 BP have 1.5x power and heal this Pokemon by 12.5%; Immune to poison damage.\",\n\t},\n*/\n\tlifedrain: {\n\t\tonBasePowerPriority: 30,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Life Drain boost');\n\t\t\t\tmove.lifeDrain = true;\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: 1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'psn' || effect.id === 'tox') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonAfterMove(target, source, move) {\n\t\t\tif (move.lifeDrain) this.heal(target.baseMaxhp / 8);\n\t\t},\n\t\tname: \"Life Drain\",\n\t\tshortDesc: \"Moves with \u226460 BP have 1.5x power and heal this Pokemon by 12.5%; Immune to poison damage.\",\n\t},\n\tmetalhead: {\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || !target.isAdjacent(pokemon)) continue;\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Metalhead', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonModifyWeightPriority: 1,\n\t\tonModifyWeight(weighthg) {\n\t\t\treturn weighthg * 2;\n\t\t},\n\t\tname: \"Metalhead\",\n\t\tshortDesc: \"Intimidate + Heavy Metal\",\n\t},\n\tabsorbant: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && (move.type === 'Water' || move.type === 'Ground')) {\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Absorbant');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Absorbant\",\n\t\tshortDesc: \"This Pokemon heals 1/4 of its max HP when hit by Water or Ground moves; Water & Ground immunity.\",\n\t},\n\twaterpressure: {\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Water Pressure');\n\t\t},\n\t\tonDeductPP(target, source) {\n\t\t\tif (target.side === source.side) return;\n\t\t\treturn 1;\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.type === 'Water') {\n\t\t\t\tthis.boost({def: 2});\n\t\t\t}\n\t\t},\n\t\tname: \"Water Pressure\",\n\t\tshortDesc: \"Pressure + Water Compaction\",\n\t},\n\tmusclemass: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk) {\n\t\t\treturn this.modify(atk, 1.5);\n\t\t},\n\t\tonModifySpe(spe, pokemon) {\n\t\t\treturn this.chainModify(0.67);\n\t\t},\n\t\tname: \"Muscle Mass\",\n\t\tshortDesc: \"This Pokemon has 1.5x Attack and 0.67x Speed\",\n\t},\n\tidiotsavant: {\n\t\tonStart(pokemon) {\n\t\t\tlet totaldef = 0;\n\t\t\tlet totalspd = 0;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || target.fainted) continue;\n\t\t\t\ttotaldef += target.getStat('def', false, true);\n\t\t\t\ttotalspd += target.getStat('spd', false, true);\n\t\t\t}\n\t\t\tif (totaldef && totaldef >= totalspd) {\n\t\t\t\tthis.boost({spa: 1});\n\t\t\t} else if (totalspd) {\n\t\t\t\tthis.boost({atk: 1});\n\t\t\t}\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.volatiles['confusion']) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Idiot Savant');\n\t\t\t\tpokemon.removeVolatile('confusion');\n\t\t\t}\n\t\t},\n\t\tonTryAddVolatile(status, pokemon) {\n\t\t\tif (status.id === 'confusion') return null;\n\t\t},\n\t\tonHit(target, source, move) {\n\t\t\tif (move?.volatileStatus === 'confusion') {\n\t\t\t\tthis.add('-immune', target, 'confusion', '[from] ability: Idiot Savant');\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate' || effect.id === 'scarilyadorable' || effect.id === 'metalhead' || effect.id === 'creepy' || effect.id === 'ragingrapids') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Idiot Savant');\n\t\t\t}\n\t\t\tif (effect.id === 'peckingorder') {\n\t\t\t\tdelete boost.def;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Idiot Savant');\n\t\t\t}\n\t\t\tif (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Idiot Savant');\n\t\t\t}\n\t\t\tif (effect.id === 'sinkorswim' || effect.id === 'scarilyadorable') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Idiot Savant');\n\t\t\t}\n\t\t},\n\t\tname: \"Idiot Savant\",\n\t\tshortDesc: \"Own Tempo + Download\",\n\t},\n\trebootsystem: {\n\t\tonSwitchOut(pokemon) {\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Reboot System\",\n\t\tshortDesc: \"RKS System + Regenerator\",\n\t},\n\tgracefulhealing: {\n\t\tonAfterMove(target, source, move) {\n\t\t\tif (move.secondaries) this.heal(target.baseMaxhp / 8);\n\t\t},\n\t\tname: \"Graceful Healing\",\n\t\tshortDesc: \"Restores 12.5% max HP when using a move with secondary effects.\",\n\t},\n\therbivore: {\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Grass') {\n\t\t\t\tif (!this.boost({atk: 2})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Herbivore');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (target === this.effectState.target || target.side !== source.side) return;\n\t\t\tif (move.type === 'Grass') {\n\t\t\t\tthis.boost({atk: 2}, this.effectState.target);\n\t\t\t}\n\t\t},\n\t\tname: \"Herbivore\",\n\t\tshortDesc: \"This Pokemon's Attack is raised 2 stage if hit by a Grass move; Grass immunity.\",\n\t},\n\tdiamondcore: {\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Diamond Core');\n\t\t},\n\t\tonDeductPP(target, source) {\n\t\t\tif (target.side === source.side) return;\n\t\t\treturn 1;\n\t\t},\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.ohko) {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Diamond Core');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: -100,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\n\t\t\t\tthis.add('-ability', target, 'Diamond Core');\n\t\t\t\treturn target.hp - 1;\n\t\t\t}\n\t\t},\n\t\tname: \"Diamond Core\",\n\t\tshortDesc: \"Pressure + Sturdy\",\n\t},\n\tcombustion: {\n\t\tonResidualOrder: 26,\n\t\tonResidualSubOrder: 1,\n\t\tonResidual(pokemon) {\n\t\t\tlet combustion = null;\n\t\t\tlet statDrop: BoostName;\n\t\t\tfor (statDrop in pokemon.boosts) {\n\t\t\t\tif (pokemon.boosts[statDrop] < 0) combustion = true;\n\t\t\t}\n\t\t\tif (pokemon.activeTurns && !combustion) {\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t}\n\t\t},\n\t\tname: \"Combustion\",\n\t\tshortDesc: \"If this Pokemon has no negative stat changes, +1 Speed at the end of the turn.\",\n\t},\n\tscouttyping: {\n\t\tonStart(pokemon) {\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || target.fainted) continue;\n\t\t\t\tif (target.item) {\n\t\t\t\t\tthis.add('-item', target, target.getItem().name, '[from] ability: Scout Typing', '[of] ' + pokemon, '[identify]');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (move.hasBounced) return;\n\t\t\tconst type = move.type;\n\t\t\tif (type && type !== '???' && source.getTypes().join() !== type) {\n\t\t\t\tif (!source.setType(type)) return;\n\t\t\t\tthis.add('-start', source, 'typechange', type, '[from] ability: Scout Typing');\n\t\t\t}\n\t\t},\n\t\tname: \"Scout Typing\",\n\t\tshortDesc: \"Frisk + Protean\",\n\t},\n\tgutsguard: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (pokemon.status) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifyDefPriority: 6,\n\t\tonModifyDef(def, pokemon) {\n\t\t\tif (pokemon.status) {\n\t\t\t\treturn this.chainModify(1.25);\n\t\t\t}\n\t\t},\n\t\tname: \"Guts Guard\",\n\t\tshortDesc: \"When statused, this Pokemon Attack is boosted 1.5x and it takes 0.75x damage.\",\n\t},\n\tanesthesia: {\n\t\tonAnyModifyBoost(boosts, pokemon) {\n\t\t\tconst unawareUser = this.effectState.target;\n\t\t\tif (unawareUser === pokemon) return;\n\t\t\tif (unawareUser === this.activePokemon && pokemon === this.activeTarget) {\n\t\t\t\tboosts['def'] = 0;\n\t\t\t\tboosts['spd'] = 0;\n\t\t\t\tboosts['evasion'] = 0;\n\t\t\t}\n\t\t\tif (pokemon === this.activePokemon && unawareUser === this.activeTarget) {\n\t\t\t\tboosts['atk'] = 0;\n\t\t\t\tboosts['def'] = 0;\n\t\t\t\tboosts['spa'] = 0;\n\t\t\t\tboosts['accuracy'] = 0;\n\t\t\t}\n\t\t},\n\t\tonAllyTryAddVolatile(status, target, source, effect) {\n\t\t\tif (['attract', 'disable', 'encore', 'healblock', 'taunt', 'torment'].includes(status.id)) {\n\t\t\t\tif (effect.effectType === 'Move') {\n\t\t\t\t\tconst effectHolder = this.effectState.target;\n\t\t\t\t\tthis.add('-block', target, 'ability: Anesthesia', '[of] ' + effectHolder);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Anesthesia\",\n\t\tshortDesc: \"Aroma Veil + Unaware\",\n\t},\n\tstabilizer: {\n\t\tonBasePowerPriority: 30,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Stabilizer boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonDamagingHit(damage, target, source, move, basePower) {\n\t\t\tif (move.basePower <= 60) {\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t}\n\t\t},\n\t\tname: \"Stabilizer\",\n\t\tshortDesc: \"Moves with \u226460 BP have 1.5x power. +1 Speed when hit by a move with \u226460 BP.\",\n\t},\n\theadtohead: {\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'recoil') {\n\t\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\n\t\t\t\tif (this.activeMove.id !== 'struggle') return null;\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (move.target !== 'self' && (move.recoil || move.hasCrashDamage)) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Head-To-Head');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Head-To-Head\",\n\t\tshortDesc: \"This Pokemon is immune to recoil and recoil moves.\",\n\t},\n\tclearlyfloating: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Clearly Floating');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tlet showMsg = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tdelete boost[i];\n\t\t\t\t\tshowMsg = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Clearly Floating\", \"[of] \" + target);\n\t\t\t}\n\t\t},\n\t\tname: \"Clearly Floating\",\n\t\tshortDesc: \"Clear Body + Levitate\",\n\t},\n\tslowmage: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (pokemon.item) {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (pokemon.item) {\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Slow Mage\",\n\t\tshortDesc: \"If this Pokemon is holding an item, its Attack and Speed are halved.\",\n\t},\n\tunseenmagic: {\n\t\tonTryHitPriority: 1,\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target === source || move.hasBounced || !move.flags['reflectable']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.useMove(newMove, target, source);\n\t\t\treturn null;\n\t\t},\n\t\tonAllyTryHitSide(target, source, move) {\n\t\t\tif (target.side === source.side || move.hasBounced || !move.flags['reflectable']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\n\t\t\tnewMove.hasBounced = true;\n\t\t\tnewMove.pranksterBoosted = false;\n\t\t\tthis.useMove(newMove, this.effectState.target, source);\n\t\t\treturn null;\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tif (move.flags['contact']) delete move.flags['protect'];\n\t\t},\n\t\tname: \"Unseen Magic\",\n\t\tshortDesc: \"Magic Bounce + Unseen Fist\",\n\t},\n\tgulprock: {\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (target.transformed || target.isSemiInvulnerable()) return;\n\t\t\tif (['cramotricitygulping', 'cramotricitygorging'].includes(target.species.id)) {\n\t\t\t\tthis.damage(source.baseMaxhp / 4, source, target);\n\t\t\t\tif (target.species.id === 'cramotricitygulping') {\n\t\t\t\t\tthis.boost({def: -1}, source, target, null, true);\n\t\t\t\t} else {\n\t\t\t\t\tsource.trySetStatus('par', target, move);\n\t\t\t\t}\n\t\t\t\ttarget.formeChange('cramotricity', move);\n\t\t\t}\n\t\t},\n\t\t// The Dive part of this mechanic is implemented in Dive's `onTryMove` in moves.ts\n\t\tonSourceTryPrimaryHit(target, source, effect) {\n\t\t\tif (\n\t\t\t\teffect && effect.id === 'surf' && source.hasAbility('gulprock') &&\n\t\t\t\tsource.species.name === 'Cramotricity' && !source.transformed\n\t\t\t) {\n\t\t\t\tconst forme = source.hp <= source.maxhp / 2 ? 'cramotricitygorging' : 'cramotricitygulping';\n\t\t\t\tsource.formeChange(forme, effect);\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 8,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.name === 'Surf' || move.name === 'Dive') {\n\t\t\t\treturn this.chainModify(1.3);\n\t\t\t}\n\t\t},\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (move.name === 'Surf' || move.name === 'Dive') {\n\t\t\t\tthis.debug('Gulp Rock weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Gulp Rock\",\n\t\tshortDesc: \"Gulp Missile + Surf & Dive deal 1.3x and this Pokemon takes 50% damage from Surf and Dive.\",\n\t},\n\tflyingraijin: {\n\t\tonModifyMove(move) {\n\t\t\tmove.infiltrates = true;\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Electric') {\n\t\t\t\tif (!this.boost({spa: 1})) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Flying Raijin');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonAnyRedirectTarget(target, source, source2, move) {\n\t\t\tif (move.type !== 'Electric' || ['firepledge', 'grasspledge', 'waterpledge'].includes(move.id)) return;\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\n\t\t\t\tif (this.effectState.target !== target) {\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Flying Raijin');\n\t\t\t\t}\n\t\t\t\treturn this.effectState.target;\n\t\t\t}\n\t\t},\n\t\tname: \"Flying Raijin\",\n\t\tshortDesc: \"Infiltrator + Lightning Rod\",\n\t},\n\tzenmode: {\n\t\tonResidualOrder: 27,\n\t\tonResidual(pokemon) {\n\t\t\tif (pokemon.baseSpecies.baseSpecies !== 'Darmanitan-Prime' || pokemon.transformed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (pokemon.hp <= pokemon.maxhp / 2 && !['Zen'].includes(pokemon.species.forme)) {\n\t\t\t\tpokemon.addVolatile('zenmode');\n\t\t\t} else if (pokemon.hp > pokemon.maxhp / 2 && ['Zen'].includes(pokemon.species.forme)) {\n\t\t\t\tpokemon.addVolatile('zenmode'); // in case of base Darmanitan-Zen\n\t\t\t\tpokemon.removeVolatile('zenmode');\n\t\t\t}\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tif (!pokemon.volatiles['zenmode'] || !pokemon.hp) return;\n\t\t\tpokemon.transformed = false;\n\t\t\tdelete pokemon.volatiles['zenmode'];\n\t\t\tif (pokemon.species.baseSpecies === 'Darmanitan-Prime' && pokemon.species.battleOnly) {\n\t\t\t\tpokemon.formeChange(pokemon.species.battleOnly as string, this.effect, false, '[silent]');\n\t\t\t}\n\t\t},\n\t\tcondition: {\n\t\t\tonStart(pokemon) {\n\t\t\t\tif (!pokemon.species.name.includes('Galar')) {\n\t\t\t\t\tif (pokemon.species.id !== 'darmanitanprimezen') pokemon.formeChange('Darmanitan-Prime-Zen');\n\t\t\t\t}\n\t\t\t},\n\t\t\tonEnd(pokemon) {\n\t\t\t\tif (['Zen'].includes(pokemon.species.forme)) {\n\t\t\t\t\tpokemon.formeChange(pokemon.species.battleOnly as string);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\n\t\tname: \"Zen Mode\",\n\t\trating: 0,\n\t\tnum: 161,\n\t},\n\texoskeleton: {\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.status === 'psn' || pokemon.status === 'tox') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Exoskeleton');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id !== 'psn' && status.id !== 'tox') return;\n\t\t\tif ((effect as Move)?.status) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Exoskeleton');\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Exoskeleton');\n\t\t\tthis.add('-message', `Pingar breaks the mold!`);\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreAbility = true;\n\t\t},\n\t\tname: \"Exoskeleton\",\n\t\tshortDesc: \"Mold Breaker + Immunity\",\n\t},\n\tbulletpecks: {\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.flags['bullet'] || move.name === 'Crunch' || move.name === 'Crush Claw' || move.name === 'Fire Lash' || move.name === 'Grav Apple' || move.name === 'Iron Tail' || move.name === 'Leer' || move.name === 'Liquidation' || move.name === 'Octolock' || move.name === 'Razor Shell' || move.name === 'Rock Smash' || move.name === 'Screech' || move.name === 'Secret Power' || move.name === 'Shadow Bone' || move.name === 'Tail Whip' || move.name === 'Thunderous Kick' || move.name === 'Tickle') {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Bulletpecks');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Bulletpecks\",\n\t\tshortDesc: \"This Pokemon is immune to ballistic moves and moves that lower Defense.\",\n\t},\n\tfloatguise: {\n\t\tonDamagePriority: 1,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (\n\t\t\t\teffect && effect.effectType === 'Move' &&\n\t\t\t\t['mimikyu', 'mimikyutotem', 'rotokyu'].includes(target.species.id) && !target.transformed\n\t\t\t) {\n\t\t\t\tthis.add('-activate', target, 'ability: Float Guise');\n\t\t\t\tthis.effectState.busted = true;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\tonCriticalHit(target, source, move) {\n\t\t\tif (!target) return;\n\t\t\tif (!['mimikyu', 'rotokyu'].includes(target.species.id) || target.transformed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst hitSub = target.volatiles['substitute'] && !move.flags['authentic'] && !(move.infiltrates && this.gen >= 6);\n\t\t\tif (hitSub) return;\n\n\t\t\tif (!target.runImmunity(move.type)) return;\n\t\t\treturn false;\n\t\t},\n\t\tonEffectiveness(typeMod, target, type, move) {\n\t\t\tif (!target) return;\n\t\t\tif (!['mimikyu', 'rotokyu'].includes(target.species.id) || target.transformed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst hitSub = target.volatiles['substitute'] && !move.flags['authentic'] && !(move.infiltrates && this.gen >= 6);\n\t\t\tif (hitSub) return;\n\n\t\t\tif (!target.runImmunity(move.type)) return;\n\t\t\treturn 0;\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (['mimikyu', 'rotokyu'].includes(pokemon.species.id) && this.effectState.busted) {\n\t\t\t\tconst speciesid = pokemon.species.id === 'rotokyu' ? 'Rotokyu-Busted' : 'Mimikyu-Busted';\n\t\t\t\tpokemon.formeChange(speciesid, this.effect, true);\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 8, pokemon, pokemon, this.dex.species.get(speciesid));\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Float Guise');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Float Guise\",\n\t\tshortDesc: \"Disguise + Levitate\",\n\t},\n\tragingrapids: {\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || !target.isAdjacent(pokemon)) continue;\n\t\t\t\tif (!activated) {\n\t\t\t\t\tthis.add('-ability', pokemon, 'Raging Rapids', 'boost');\n\t\t\t\t\tactivated = true;\n\t\t\t\t}\n\t\t\t\tif (target.volatiles['substitute']) {\n\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t} else {\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonAfterMoveSecondary(target, source, move) {\n\t\t\tif (!source || !target.hp || !move.totalDamage) return;\n\t\t\tconst lastAttackedBy = target.getLastAttackedBy();\n\t\t\tif (!lastAttackedBy) return;\n\t\t\tconst damage = move.multihit ? move.totalDamage : lastAttackedBy.damage;\n\t\t\tif (target.hp <= target.maxhp / 3 && target.hp + damage > target.maxhp / 3) {\n\t\t\t\tthis.boost({atk: -1}, source, target, null, true);\n\t\t\t}\n\t\t},\n\t\tname: \"Raging Rapids\",\n\t\tshortDesc: \"Lowers the foe's Attack by 1 on switch-in and when this Pokemon falls under 1/3 max HP.\",\n\t},\n\tultrapresto: {\n\t\tonSourceAfterFaint(length, target, source, effect) {\n\t\t\tif (effect && effect.effectType === 'Move') {\n\t\t\t\tlet statName = 'atk';\n\t\t\t\tlet bestStat = 0;\n\t\t\t\tlet s: StatNameExceptHP;\n\t\t\t\tfor (s in source.storedStats) {\n\t\t\t\t\tif (source.storedStats[s] > bestStat) {\n\t\t\t\t\t\tstatName = s;\n\t\t\t\t\t\tbestStat = source.storedStats[s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.boost({[statName]: length}, source);\n\t\t\t}\n\t\t},\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (!move || !target) return;\n\t\t\tif (target !== source && move.category !== 'Status') {\n\t\t\t\tif (source.item || source.volatiles['gem'] || move.id === 'fling') return;\n\t\t\t\tconst yourItem = target.takeItem(source);\n\t\t\t\tif (!yourItem) return;\n\t\t\t\tif (!source.setItem(yourItem)) {\n\t\t\t\t\ttarget.item = yourItem.id; // bypass setItem so we don't break choicelock or anything\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.add('-item', source, yourItem, '[from] ability: Ultra Presto', '[of] ' + target);\n\t\t\t}\n\t\t},\n\t\tname: \"Ultra Presto\",\n\t\tshortDesc: \"Magician + Beast Boost\",\n\t},\n\tundying: {\n\t\tonAfterMoveSecondary(target, source, move) {\n\t\t\tif (!source || source === target || !target.hp || !move.totalDamage) return;\n\t\t\tconst lastAttackedBy = target.getLastAttackedBy();\n\t\t\tif (!lastAttackedBy) return;\n\t\t\tconst damage = move.multihit ? move.totalDamage : lastAttackedBy.damage;\n\t\t\tif (target.hp <= target.maxhp / 2 && target.hp + damage > target.maxhp / 2) {\n\t\t\t\tthis.boost({spa: 1});\n\t\t\t\tthis.heal(target.baseMaxhp / 3);\n\t\t\t}\n\t\t},\n\t\tname: \"Undying\",\n\t\tshortDesc: \"When this Pokemon falls below 50% HP from an attack, it gains +1 SpA and heals 33% of its maximum HP.\",\n\t},\n\taerialbreak: {\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Aerial Break');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Aerial Break');\n\t\t\tthis.add('-message', `Vikadrill controls the skies!`);\n\t\t},\n\t\tname: \"Aerial Break\",\n\t\tshortDesc: \"This Pokemon is immune to Ground-type moves and ignores ability-based Ground immunities\",\n\t},\n\tcharybdis: {\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(spa) {\n\t\t\treturn this.chainModify(1.5);\n\t\t},\n\t\tname: \"Charybdis\",\n\t\tshortDesc: \"This Pokemon's Special Attack is 1.5x.\",\n\t},\n\tfrozendish: {\n\t\tonPrepareHit(source, target, move) {\n\t\t\tif (source.hasType(move.type)) {\n\t\t\t\tthis.heal(source.baseMaxhp / 16);\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.stab = 2;\n\t\t},\n\t\tname: \"Frozen Dish\",\n\t\tshortDesc: \"This Pokemon's STAB bonus is 2x instead of 1.5x. Heals 1/16 of its max HP when using a STAB move.\",\n\t},\n\tspeedbreak: {\n\t\tname: \"Speed Break\",\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Speed Break');\n\t\t\tthis.add('-message', `Changes to the Speed stat are inverted!`);\n\t\t},\n\t\tonAnyBoost(boost, target, source, effect) {\n\t\t\tif (boost.spe) {\n      \t\t boost.spe *= -1;\n\t\t\t}\n\t\t},\n\t\tshortDesc: \"While this Pokemon is active, Speed is lowered when boosted and vice versa for all Pokemon.\",\n\t},\n\tcreepy: {\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move?.category === 'Status') {\n\t\t\t\tmove.pranksterBoosted = true;\n\t\t\t\treturn priority + 1;\n\t\t\t}\n\t\t},\n\t\tonAfterMove(target, source, move) {\n\t\t\tif (!move || !source) return;\n\t\t\tif (move.category === 'Status') {\n\t\t\t\tlet activated = false;\n\t\t\t\tfor (const target of this.effectState.target.side.foe.active) {\n\t\t\t\t\tif (!target || !target.isAdjacent(this.effectState.target)) continue;\n\t\t\t\t\tif (!activated) {\n\t\t\t\t\t\tthis.add('-ability', this.effectState.target, 'Creepy', 'boost');\n\t\t\t\t\t\tactivated = true;\n\t\t\t\t\t}\n\t\t\t\t\tif ((target.volatiles['substitute'] || target.hasType('Dark'))) {\n\t\t\t\t\t\tthis.add('-immune', target);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.boost({atk: -1}, target, this.effectState.target, null, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Creepy\",\n\t\tshortDesc: \"This Pokemon's Status moves have priority raised by 1 and lower the foe's Attack by 1, but Dark types are immune.\",\n\t},\n\ttoxiclook: {\n\t\tname: \"Toxic Look\",\n\t\tonModifyDamage(damage, source, target, move) {\n\t\t\tif (target.getMoveHitData(move).typeMod < 0) {\n\t\t\t\tthis.debug('Toxic Look boost');\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.trySetStatus('psn', target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshortDesc: \"Tinted Lens + Poison Point\",\n\t},\n\tultraimpulse: {\n\t\tshortDesc: \"If this Pokemon is statused, its highest stat is 1.5x; ignores burn halving physical damage.\",\n\t\tname: \"Ultra Impulse\",\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tlet statName = 'atk';\n\t\t\tlet bestStat = 0;\n\t\t\t/** @type {StatNameExceptHP} */\n\t\t\tlet s;\n\t\t\tfor (s in this.effectState.target.storedStats) {\n\t\t\t\tif (this.effectState.target.storedStats[s] > bestStat) {\n\t\t\t\t\tstatName = s;\n\t\t\t\t\tbestStat = this.effectState.target.storedStats[s];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pokemon.status && statName === 'atk') {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifyDefPriority: 6,\n\t\tonModifyDef(def, pokemon) {\n\t\t\tlet statName = 'atk';\n\t\t\tlet bestStat = 0;\n\t\t\t/** @type {StatNameExceptHP} */\n\t\t\tlet s;\n\t\t\tfor (s in this.effectState.target.storedStats) {\n\t\t\t\tif (this.effectState.target.storedStats[s] > bestStat) {\n\t\t\t\t\tstatName = s;\n\t\t\t\t\tbestStat = this.effectState.target.storedStats[s];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pokemon.status && statName === 'def') {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(spa, pokemon) {\n\t\t\tlet statName = 'atk';\n\t\t\tlet bestStat = 0;\n\t\t\t/** @type {StatNameExceptHP} */\n\t\t\tlet s;\n\t\t\tfor (s in this.effectState.target.storedStats) {\n\t\t\t\tif (this.effectState.target.storedStats[s] > bestStat) {\n\t\t\t\t\tstatName = s;\n\t\t\t\t\tbestStat = this.effectState.target.storedStats[s];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pokemon.status && statName === 'spa') {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpDPriority: 6,\n\t\tonModifySpD(spd, pokemon) {\n\t\t\tlet statName = 'atk';\n\t\t\tlet bestStat = 0;\n\t\t\t/** @type {StatNameExceptHP} */\n\t\t\tlet s;\n\t\t\tfor (s in this.effectState.target.storedStats) {\n\t\t\t\tif (this.effectState.target.storedStats[s] > bestStat) {\n\t\t\t\t\tstatName = s;\n\t\t\t\t\tbestStat = this.effectState.target.storedStats[s];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pokemon.status && statName === 'spd') {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tlet statName = 'atk';\n\t\t\tlet bestStat = 0;\n\t\t\t/** @type {StatNameExceptHP} */\n\t\t\tlet s;\n\t\t\tfor (s in this.effectState.target.storedStats) {\n\t\t\t\tif (this.effectState.target.storedStats[s] > bestStat) {\n\t\t\t\t\tstatName = s;\n\t\t\t\t\tbestStat = this.effectState.target.storedStats[s];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pokemon.status && statName === 'spe') {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t},\n\tdemagnetize: {\n\t\tname: \"Demagnetize\",\n\t\tonBeforeMove(attacker, defender, move) {\n\t\t\tif (defender.hasType('Steel')) {\n\t\t\t\tdefender.addVolatile('demagnetize');\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.infiltrates = true;\n\t\t},\n\t\tcondition: {\n\t\t\tduration: 1,\n\t\t\tonStart(pokemon) {\n\t\t\t\tpokemon.setType(pokemon.getTypes(true).map(type => type === \"Steel\" ? \"???\" : type));\n\t\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.types.join('/'));\n\t\t\t},\n\t\t\tonSwitchOut(pokemon) {\n\t\t\t\tpokemon.removeVolatile('demagnetize');\n\t\t\t},\n\t\t\tonFaint(pokemon) {\n\t\t\t\tpokemon.removeVolatile('demagnetize');\n\t\t\t},\n\t\t\tonEnd(pokemon) {\n\t\t\t\tlet types = pokemon.baseSpecies.types;\n\t\t\t\ttypes = pokemon.baseSpecies.types;\n\t\t\t\tif (pokemon.getTypes().join() === types.join() || !pokemon.setType(types)) return;\n\t\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.types.join('/'));\n\t\t\t},\n\t\t},\n\t\tshortDesc: \"This Pokemon ignores the opponent's Steel-typing, Substitute, and screens when attacking\",\n\t},\n\teverywitchway: {\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.effectType !== 'Move') {\n\t\t\t\tif (effect.effectType === 'Ability') this.add('-activate', source, 'ability: ' + effect.name);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\n\t\t\t\tdelete boost.accuracy;\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Every Witch Way\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreEvasion = true;\n\t\t},\n\t\tname: \"Every Witch Way\",\n\t\tshortDesc: \"Magic Guard + Keen Eye\",\n\t},\n\tsheerluck: {\n\t\tonModifyMove(move, pokemon) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tdelete move.secondaries;\n\t\t\t\t// Technically not a secondary effect, but it is negated\n\t\t\t\tdelete move.self;\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\n\t\t\t\tmove.hasSheerForce = true;\n\t\t\t}\n\t\t\tif (move.critRatio > 1) {\n\t\t\t\tmove.willCrit = false;\n\t\t\t\tmove.hasSheerForce = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.hasSheerForce) return this.chainModify([0x14CD, 0x1000]);\n\t\t},\n\t\tname: \"Sheer Luck\",\n\t\tshortDesc: \"Sheer Force + Moves with an increased critical hit ratio deal 1.3x damage but can't critically hit.\",\n\t},\n\tbigpower: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk) {\n\t\t\treturn this.chainModify(1.5);\n\t\t},\n\t\tname: \"Big Power\",\n\t\tshortDesc: \"This Pokemon's Attack is boosted 1.5x.\",\n\t},\n\tlevimetal: {\n\t\tonModifyWeight(weighthg) {\n\t\t\treturn this.trunc(weighthg / 2);\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Levimetal');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Levimetal\",\n\t\tshortDesc: \"Light Metal + Levitate\",\n\t},\n\twaterbender: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Water') {\n\t\t\t\tthis.debug('Waterbender boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Water') {\n\t\t\t\tthis.debug('Waterbender boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Waterbender\",\n\t\tshortDesc: \"This Pokemon's Water-type moves deal 1.5x damage.\",\n\t},\n\thoverboard: {\n\t\tonModifySpe(spe) {\n\t\t\tif (this.field.isTerrain('electricterrain')) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Hoverboard');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Hoverboard\",\n\t\tshortDesc: \"Levitate + Surge Surfer\",\n\t},\n\tfeverbreaker: {\n\t\tonStart(pokemon) {\n\t\t\tthis.add('-ability', pokemon, 'Fever Breaker');\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreAbility = true;\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.status === 'brn') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Fever Breaker');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id !== 'brn') return;\n\t\t\tif ((effect as Move)?.status) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Fever Breaker');\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tname: \"Fever Breaker\",\n\t\tshortDesc: \"Mold Breaker + Water Veil\",\n\t},\n\tspitefulwishcraft: {\n\t\tonAfterEachBoost(boost, target, source, effect) {\n\t\t\tif (!source || target.side === source.side) {\n\t\t\t\tif (effect.id === 'stickyweb') {\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Spiteful Wishcraft only affects stats lowered by foes.\", true, source.side);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet statsLowered = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tstatsLowered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (statsLowered) {\n\t\t\t\tthis.add('-ability', target, 'Spiteful Wishcraft');\n\t\t\t\tthis.boost({atk: 2}, target, target, null, true);\n\t\t\t\tsource.addVolatile('disable', this.effectState.target);\n\t\t\t}\n\t\t},\n\t\tname: \"Spiteful Wishcraft\",\n\t\tshortDesc: \"If this Pokemon has a stat lowered, it gains +2 Attack and disables the foe's last move\",\n\t},\n\tgnawrly: {\n\t\tonBasePowerPriority: 30,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Technician boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t\tif (move.flags['bite']) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Gnawrly\",\n\t\tshortDesc: \"Technician + Strong Jaw, in that order.\",\n\t},\n\n\n\t// LC Only Abilities\n\t\"aurevoir\": { // this one looks like EXACTLY the character limit\n\t\tshortDesc: \"Switches out when it reaches 1/2 or less of its max HP and restores 1/3 of its max HP.\",\n\t\tonEmergencyExit(target) {\n\t\t\tif (!this.canSwitch(target.side) || target.forceSwitchFlag || target.switchFlag) return;\n\t\t\tfor (const side of this.sides) {\n\t\t\t\tfor (const active of side.active) {\n\t\t\t\t\tactive.switchFlag = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.effectState.exiting = true;\n\t\t\ttarget.switchFlag = true;\n\t\t\tthis.add('-activate', target, 'ability: Au Revoir');\n\t\t},\n\t\tonSwitchOut(pokemon) {\n\t\t\tif (this.effectState.exiting === true) {\n\t\t\t\tthis.effectState.exiting = undefined;\n\t\t\t} else {\n\t\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\n\t\t\t}\n\t\t},\n\t\tid: \"aurevoir\",\n\t\tname: \"Au Revoir\",\n\t},\n  \t\"clearcleaner\": { // Functional!\n\t\tshortDesc: \"On switch-in, Screens end for both sides. Other Pokemon cannot lower its stat stages.\",\n\t\tonStart(pokemon) {\n\t\t\tlet activated = false;\n\t\t\tfor (const sideCondition of ['reflect', 'lightscreen', 'auroraveil']) {\n\t\t\t\tif (pokemon.side.getSideCondition(sideCondition)) {\n\t\t\t\t\tif (!activated) {\n\t\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Clear Cleaner');\n\t\t\t\t\t\tactivated = true;\n\t\t\t\t\t}\n\t\t\t\t\tpokemon.side.removeSideCondition(sideCondition);\n\t\t\t\t}\n\t\t\t\tif (pokemon.side.foe.getSideCondition(sideCondition)) {\n\t\t\t\t\tif (!activated) {\n\t\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Clear Cleaner');\n\t\t\t\t\t\tactivated = true;\n\t\t\t\t\t}\n\t\t\t\t\tpokemon.side.foe.removeSideCondition(sideCondition);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tlet showMsg = false;\n\t\t\tfor (const i in boost) {\n\t\t\t\t// @ts-ignore\n\t\t\t\tif (boost[i] < 0) {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tdelete boost[i];\n\t\t\t\t\tshowMsg = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (showMsg && !(/** @type {ActiveMove} */(effect)).secondaries && effect.id !== 'octolock') {\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Clear Cleaner\", \"[of] \" + target);\n\t\t\t}\n\t\t},\n\t\tid: \"clearcleaner\",\n\t\tname: \"Clear Cleaner\",\n\t},\n\t\"unamused\": { // Functional!\n\t\tshortDesc: \"Ignores stat changes. Summons Sandstorm when taking or dealing damage.\",\n\t\tid: \"unamused\",\n\t\tname: \"Unamused\",\n\t\tonAnyModifyBoost(boosts, pokemon) {\n\t\t\tconst unawareUser = this.effectState.target;\n\t\t\tif (unawareUser === pokemon) return;\n\t\t\tif (unawareUser === this.activePokemon && pokemon === this.activeTarget) {\n\t\t\t\tboosts['def'] = 0;\n\t\t\t\tboosts['spd'] = 0;\n\t\t\t\tboosts['evasion'] = 0;\n\t\t\t}\n\t\t\tif (pokemon === this.activePokemon && unawareUser === this.activeTarget) {\n\t\t\t\tboosts['atk'] = 0;\n\t\t\t\tboosts['def'] = 0;\n\t\t\t\tboosts['spa'] = 0;\n\t\t\t\tboosts['accuracy'] = 0;\n\t\t\t}\n\t\t},\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (this.field.getWeather().id !== 'sandstorm') {\n\t\t\t\tthis.field.setWeather('sandstorm', this.effectState.target);\n\t\t\t}\n\t\t},\n\t\tonSourceHit(target, source, move) {\n\t\t\tif (!move || !target) return;\n\t\t\tif (target !== source && move.category !== 'Status') {\n\t\t\t\tif (this.field.getWeather().id !== 'sandstorm') {\n\t\t\t\t\tthis.field.setWeather('sandstorm', this.effectState.target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\t\"unbullet\": { // Functional!\n\t\tshortDesc: \"Speed doubles if it uses an item; immunity to ballistic moves.\",\n\t\tid: \"unbullet\",\n\t\tname: \"Unbullet\",\n\t\tonAfterUseItem(item, pokemon) {\n\t\t\tif (pokemon !== this.effectState.target) return;\n\t\t\tpokemon.addVolatile('unburden');\n\t\t},\n\t\tonTakeItem(item, pokemon) {\n\t\t\tpokemon.addVolatile('unburden');\n\t\t},\n\t\tonEnd(pokemon) {\n\t\t\tpokemon.removeVolatile('unburden');\n\t\t},\n\t\teffect: {\n\t\t\tonModifySpe(spe, pokemon) {\n\t\t\t\tif (!pokemon.item) {\n\t\t\t\t\treturn this.chainModify(2);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.flags['bullet']) {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Unbullet');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n\t\"nocturnalflash\": {\n\t\tshortDesc: \"Attacks have 1.3x power and a 30% chance to Poison if it moves last.\",\n\t\tid: \"nocturnalflash\",\n\t\tname: \"Nocturnal Flash\",\n\t\tonBasePower(basePower, pokemon) {\n\t\t\tlet boosted = true;\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (this.queue.willMove(target)) {\n\t\t\t\t\tboosted = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boosted) {\n\t\t\t\tthis.debug('Nocturnal Flash boost');\n\t\t\t\treturn this.chainModify([0x14CD, 0x1000]);\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move, pokemon) {\n\t\t\tlet boosted = true;\n\t\t\tfor (const target of this.getAllActive()) {\n\t\t\t\tif (target === pokemon) continue;\n\t\t\t\tif (this.queue.willMove(target)) {\n\t\t\t\t\tboosted = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!move || move.target === 'self') return;\n\t\t\tif (!boosted) return;\n\t\t\tif (!move.secondaries) {\n\t\t\t\tmove.secondaries = [];\n\t\t\t}\n\t\t\tmove.secondaries.push({\n\t\t\t\tchance: 30,\n\t\t\t\tstatus: 'psn',\n\t\t\t\tability: this.dex.abilities.get('nocturnalflash'),\n\t\t\t});\n\t\t},\n\t},\n\t\"fatalend\": {\n\t\tshortDesc: \"Punching moves 1.5x.\",\n\t\tid: \"fatalend\",\n\t\tname: \"Fatal End\",\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['punch']) {\n\t\t\t\tthis.debug('Fatal End boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t},\n\t\"faustianpact\": {\n\t\tshortDesc: \"Swaps abilities with target before landing a contact move.\",\n\t\tid: \"faustianpact\",\n\t\tname: \"Faustian Pact\",\n\t\t// Effect coded directly in scripts.ts.\n\t\t// It's hitchhiking on Spectral Thief's \"hitStepStealBoosts\" effect,\n\t\t// since I don't think I can add new scripts *specifically to the battle step order*\n\t\t// and Spectral Thief has basically the same place in the hitstep, so it probably is fine there.\n\t},\n\t\"abysmalsurge\": { // Seems functional\n\t\tshortDesc: \"Fire attacks have 45% brn chance; other attacks have 35% brn chance.\",\n\t\tid: \"abysmalsurge\",\n\t\tname: \"Abysmal Surge\",\n\t\tonModifyMove(move) {\n\t\t\tif (!move || move.target === 'self') return;\n\t\t\tif (!move.secondaries) {\n\t\t\t\tmove.secondaries = [];\n\t\t\t}\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\tmove.secondaries.push({\n\t\t\t\t\tchance: 45,\n\t\t\t\t\tstatus: 'brn',\n\t\t\t\t\tability: this.dex.abilities.get('abysmalsurge'),\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmove.secondaries.push({\n\t\t\t\t\tchance: 35,\n\t\t\t\t\tstatus: 'brn',\n\t\t\t\t\tability: this.dex.abilities.get('abysmalsurge'),\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\tunusual: {\n\t\tonSourceModifyDamage(damage, source, target, move) {\n\t\t\tif (source.hasType(move.type)) {\n\t\t\t\tthis.debug('Unusual weaken');\n\t\t\t\treturn this.chainModify(0.67);\n\t\t\t}\n\t\t\tif (source.hasType(move.type) && (source.hasAbility('versatility') || source.hasAbility('levitability') || source.hasAbility('workability'))) {\n\t\t\t\tthis.debug('Unusual weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t\tif (move.type === 'Steel' && source.hasAbility('workability')) {\n\t\t\t\tthis.debug('Unusual weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Unusual\",\n\t\tshortDesc: \"The opponent's STAB bonus is ignored when targeting this Pokemon.\",\n\t},\n\ttoxincoat: {\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tconst r = this.random(100);\n\t\t\t\tif (r < 15) {\n\t\t\t\t\tsource.setStatus('par', target);\n\t\t\t\t} else if (r < 30) {\n\t\t\t\t\tsource.setStatus('psn', target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Toxin Coat\",\n\t\tshortDesc: \"30% chance of poison or paralysis on others making contact with this Pokemon.\",\n\t},\n\twetfilling: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (pokemon.status || ['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Wet Filling\",\n\t\tshortDesc: \"1.5x when statused or in the rain; Ignores burn Attack drop.\",\n\t},\n\tnoproprioception: {\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate' || effect.id === 'scarilyadorable' || effect.id === 'metalhead' || effect.id === 'creepy') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: No Proprioception');\n\t\t\t}\n\t\t\tif (effect.id === 'peckingorder') {\n\t\t\t\tdelete boost.def;\n\t\t\t\tthis.add('-immune', target, '[from] ability: No Proprioception');\n\t\t\t}\n\t\t\tif (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: No Proprioception');\n\t\t\t}\n\t\t\tif (effect.id === 'sinkorswim' || effect.id === 'scarilyadorable') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: No Proprioception');\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move, pokemon) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tdelete move.secondaries;\n\t\t\t\t// Technically not a secondary effect, but it is negated\n\t\t\t\tdelete move.self;\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\n\t\t\t\tmove.hasSheerForce = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.hasSheerForce) return this.chainModify([0x14CD, 0x1000]);\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.volatiles['attract']) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: No Proprioception');\n\t\t\t\tpokemon.removeVolatile('attract');\n\t\t\t\tthis.add('-end', pokemon, 'move: Attract', '[from] ability: No Proprioception');\n\t\t\t}\n\t\t\tif (pokemon.volatiles['taunt']) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: No Proprioception');\n\t\t\t\tpokemon.removeVolatile('taunt');\n\t\t\t\t// Taunt's volatile already sends the -end message when removed\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'attract') return false;\n\t\t},\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.id === 'attract' || move.id === 'captivate' || move.id === 'taunt') {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: No Proprioception');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"No Proprioception\",\n\t\tshortDesc: \"Sheer Force + Oblivious\",\n\t},\n\troughtime: {\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.volatiles['confusion']) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Rough Time');\n\t\t\t\tpokemon.removeVolatile('confusion');\n\t\t\t}\n\t\t},\n\t\tonTryAddVolatile(status, pokemon) {\n\t\t\tif (status.id === 'confusion') return null;\n\t\t},\n\t\tonHit(target, source, move) {\n\t\t\tif (move?.volatileStatus === 'confusion') {\n\t\t\t\tthis.add('-immune', target, 'confusion', '[from] ability: Rough Time');\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate' || effect.id === 'scarilyadorable' || effect.id === 'metalhead' || effect.id === 'creepy') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Rough Time');\n\t\t\t}\n\t\t\tif (effect.id === 'peckingorder') {\n\t\t\t\tdelete boost.def;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Rough Time');\n\t\t\t}\n\t\t\tif (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Rough Time');\n\t\t\t}\n\t\t\tif (effect.id === 'sinkorswim' || effect.id === 'scarilyadorable') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Rough Time');\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\treturn this.chainModify([0x14CD, 0x1000]);\n\t\t\t}\n\t\t},\n\t\tname: \"Rough Time\",\n\t\tshortDesc: \"Tough Claws + Own Tempo\",\n\t},\n\tbigeyes: {\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tif (boost.def && boost.def < 0) {\n\t\t\t\tdelete boost.def;\n\t\t\t\tif (!(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Defense\", \"[from] ability: Big Eyes\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\n\t\t\t\tdelete boost.accuracy;\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Big Eyes\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.ignoreEvasion = true;\n\t\t},\n\t\tname: \"Big Eyes\",\n\t\tshortDesc: \"Keen Eye + Big Pecks\",\n\t},\n\tsoundsensitive: {\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (['allAdjacent', 'allAdjacentFoes', 'all'].includes(move.target)) {\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t}\n\t\t},\n\t\tonAfterBoost(boost, target, source, effect) {\n\t\t\tif (effect && ['intimidate', 'debilitate', 'sinkorswim', 'scarilyadorable', 'peckingorder'].includes(effect.id)) {\n\t\t\t\tthis.boost({spe: 1});\n\t\t\t}\n\t\t},\n\t\tname: \"Sound Sensitive\",\n\t\tshortDesc: \"+1 Speed when hit by a spread move or Intimidated\",\n\t},\n\tfeelsomepain: {\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.status === 'psn' || pokemon.status === 'tox') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Feel Some Pain');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id !== 'psn' && status.id !== 'tox') return;\n\t\t\tif ((effect as Move)?.status) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Feel Some Pain');\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Feel Some Pain');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Feel Some Pain\",\n\t\tshortDesc: \"Immunity + Levitate\",\n\t},\n\tversatility: {\n\t\tonModifyMove(move, pokemon) {\n\t\t\tmove.stab = 2;\n\t\t\tif (move.secondaries) {\n\t\t\t\tdelete move.secondaries;\n\t\t\t\t// Technically not a secondary effect, but it is negated\n\t\t\t\tdelete move.self;\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\n\t\t\t\tmove.hasSheerForce = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.hasSheerForce) return this.chainModify([0x14CD, 0x1000]);\n\t\t},\n\t\tname: \"Versatility\",\n\t\tshortDesc: \"Sheer Force + Adaptability\",\n\t},\n\tthickskull: {\n\t\tonModifyMove(move, pokemon) {\n\t\t\tif (move.secondaries) {\n\t\t\t\tdelete move.secondaries;\n\t\t\t\t// Technically not a secondary effect, but it is negated\n\t\t\t\tdelete move.self;\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\n\t\t\t\tmove.hasSheerForce = true;\n\t\t\t}\n\t\t},\n\t\tonBasePowerPriority: 21,\n\t\tonBasePower(basePower, pokemon, target, move) {\n\t\t\tif (move.hasSheerForce) return this.chainModify([0x14CD, 0x1000]);\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'recoil') {\n\t\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\n\t\t\t\tif (this.activeMove.id !== 'struggle') return null;\n\t\t\t}\n\t\t},\n\t\tname: \"Thick Skull\",\n\t\tshortDesc: \"Sheer Force + Rock Head\",\n\t},\n\tfreehealthcare: {\n\t\tonResidualOrder: 5,\n\t\tonResidualSubOrder: 4,\n\t\tonResidual(pokemon) {\n\t\t\tif (pokemon.status) {\n\t\t\t\tthis.debug('freehealthcare');\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Free Healthcare');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t}\n\t\t},\n\t\tname: \"Free Healthcare\",\n\t\tshortDesc: \"This Pokemon's status is cured at the end of every turn.\",\n\t},\n\tairheaded: {\n\t\tonStart(pokemon) {\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || target.fainted) continue;\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\n\t\t\t\t\tif (move.category === 'Status') continue;\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\n\t\t\t\t\t\tmove.ohko\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Airheaded');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonModifyPriority(priority, pokemon, target, move) {\n\t\t\tif (move?.type === 'Flying' && pokemon.hp === pokemon.maxhp) return priority + 1;\n\t\t},\n\t\tname: \"Airheaded\",\n\t\tshortDesc: \"Anticipation + Gale Wings\",\n\t},\n\tinsidejob: {\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate' || effect.id === 'scarilyadorable' || effect.id === 'metalhead' || effect.id === 'creepy') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inside Job');\n\t\t\t}\n\t\t\tif (effect.id === 'peckingorder') {\n\t\t\t\tdelete boost.def;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inside Job');\n\t\t\t}\n\t\t\tif (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inside Job');\n\t\t\t}\n\t\t\tif (effect.id === 'sinkorswim' || effect.id === 'scarilyadorable') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inside Job');\n\t\t\t}\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.volatiles['attract']) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Inside Job');\n\t\t\t\tpokemon.removeVolatile('attract');\n\t\t\t\tthis.add('-end', pokemon, 'move: Attract', '[from] ability: Inside Job');\n\t\t\t}\n\t\t\tif (pokemon.volatiles['taunt']) {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Inside Job');\n\t\t\t\tpokemon.removeVolatile('taunt');\n\t\t\t\t// Taunt's volatile already sends the -end message when removed\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'attract') return false;\n\t\t},\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.id === 'attract' || move.id === 'captivate' || move.id === 'taunt') {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Inside Job');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonModifyMove(move) {\n\t\t\tmove.infiltrates = true;\n\t\t},\n\t\tname: \"Inside Job\",\n\t\tshortDesc: \"Oblivious + Infiltrator\",\n\t},\n\tsandcastles: {\n\t\tonStart(pokemon, source) {\n\t\t\tthis.field.setWeather('sandstorm');\n\t\t\tfor (const target of pokemon.side.foe.active) {\n\t\t\t\tif (!target || target.fainted) continue;\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\n\t\t\t\t\tif (move.category === 'Status') continue;\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\n\t\t\t\t\t\tmove.ohko\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Sandcastles');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Sandcastles\",\n\t\tshortDesc: \"Summons sand on switch-in and when shuddering.\",\n\t},\n\tresilientfat: {\n\t\tonSourceModifyAtkPriority: 6,\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\n\t\t\t\tthis.debug('Resilient Fat weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonSourceModifySpAPriority: 5,\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\n\t\t\t\tthis.debug('Resilient Fat weaken');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.ohko) {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Resilient Fat');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonDamagePriority: -100,\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\n\t\t\t\tthis.add('-ability', target, 'Resilient Fat');\n\t\t\t\treturn target.hp - 1;\n\t\t\t}\n\t\t},\n\t\tname: \"Resilient Fat\",\n\t\tshortDesc: \"Thick Fat + Sturdy\",\n\t},\n\tnumskull: {\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tif (boost.def && boost.def < 0) {\n\t\t\t\tdelete boost.def;\n\t\t\t\tif (!(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Defense\", \"[from] ability: Numskull\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonDamage(damage, target, source, effect) {\n\t\t\tif (effect.id === 'recoil') {\n\t\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\n\t\t\t\tif (this.activeMove.id !== 'struggle') return null;\n\t\t\t}\n\t\t},\n\t\tname: \"Numskull\",\n\t\tshortDesc: \"Big Pecks + Rock Head\",\n\t},\n\tboulderfists: {\n\t\tonBasePowerPriority: 23,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tif (move.flags['punch']) {\n\t\t\t\tthis.debug('Boulder Fists boost');\n\t\t\t\treturn this.chainModify([0x1333, 0x1000]);\n\t\t\t}\n\t\t},\n\t\tonAfterMove(target, source, move) {\n\t\t\tif (move.flags['punch']) {\n\t\t\t\tthis.boost({def: -1, spe: 2});\n\t\t\t}\n\t\t},\n\t\tname: \"Boulder Fists\",\n\t\tshortDesc: \"This Pokemon's punching moves have 1.2x and give it -1 Def & +2 Spe.\",\n\t},\n\tcherrybomb: {\n\t\tonTryHit(pokemon, target, move) {\n\t\t\tif (move.flags['bullet']) {\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Cherry Bomb');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (['sunnyday', 'desolateland'].includes(target.effectiveWeather())) {\n\t\t\t\tif ((effect as Move)?.status) {\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Cherry Bomb');\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tonTryAddVolatile(status, target) {\n\t\t\tif (status.id === 'yawn' && ['sunnyday', 'desolateland'].includes(target.effectiveWeather())) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Cherry Bomb');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Cherry Bomb\",\n\t\tshortDesc: \"Bulletproof + Leaf Guard\",\n\t},\n\trumenramming: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (pokemon.status) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifyDefPriority: 5,\n\t\tonModifyDef(pokemon) {\n\t\t\tif (pokemon.status) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Rumen Ramming\",\n\t\tshortDesc: \"1.5x Attack and Defense when statused; Ignores Attack burn drop\",\n\t},\n\tplaincool: {\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tthis.heal(target.baseMaxhp / 16);\n\t\t\tthis.add('-heal', target, target.getHealth, '[from] ability: Plain Cool');\n\t\t\tif (effect && effect.id === 'zpower') return;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tboost[i]! *= 2;\n\t\t\t}\n\t\t},\n\t\tname: \"Plain Cool\",\n\t\tshortDesc: \"This Pokemon's stat changes are doubled. Heals 1/16 of its HP when a stat is changed.\",\n\t},\n\tcursedduck: {\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (source.volatiles['disable']) return;\n\t\t\tif (!move.isFutureMove) {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.addVolatile('disable', this.effectState.target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonModifyMovePriority: -5,\n\t\tonModifyMove(move) {\n\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\n\t\t\tif (move.ignoreImmunity !== true) {\n\t\t\t\tmove.ignoreImmunity['Fighting'] = true;\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (effect.id === 'intimidate' || effect.id === 'scarilyadorable' || effect.id === 'metalhead' || effect.id === 'creepy') {\n\t\t\t\tdelete boost.atk;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Cursed Duck');\n\t\t\t}\n\t\t\tif (effect.id === 'peckingorder') {\n\t\t\t\tdelete boost.def;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Cursed Duck');\n\t\t\t}\n\t\t\tif (effect.id === 'debilitate') {\n\t\t\t\tdelete boost.spa;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Cursed Duck');\n\t\t\t}\n\t\t\tif (effect.id === 'sinkorswim' || effect.id === 'scarilyadorable') {\n\t\t\t\tdelete boost.spe;\n\t\t\t\tthis.add('-immune', target, '[from] ability: Cursed Duck');\n\t\t\t}\n\t\t},\n\t\tname: \"Cursed Duck\",\n\t\tshortDesc: \"Scrappy + Cursed Body.\",\n\t},\n\tswiftmetal: {\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonModifyWeightPriority: 1,\n\t\tonModifyWeight(weighthg) {\n\t\t\treturn weighthg * 2;\n\t\t},\n\t\tname: \"Swift Metal\",\n\t\tshortDesc: \"Swift Swim + Heavy Metal\",\n\t},\n\tpoisoncontrol: {\n\t\tonBasePowerPriority: 30,\n\t\tonBasePower(basePower, attacker, defender, move) {\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\n\t\t\tif (basePowerAfterMultiplier <= 60) {\n\t\t\t\tthis.debug('Poison Control boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonUpdate(pokemon) {\n\t\t\tif (pokemon.status === 'psn' || pokemon.status === 'tox') {\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Poison Control');\n\t\t\t\tpokemon.cureStatus();\n\t\t\t}\n\t\t},\n\t\tonSetStatus(status, target, source, effect) {\n\t\t\tif (status.id !== 'psn' && status.id !== 'tox') return;\n\t\t\tif ((effect as Move)?.status) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Poison Control');\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tname: \"Poison Control\",\n\t\tshortDesc: \"Technician + Immunity\",\n\t},\n\talluminiumbody: {\n\t\tonModifyWeight(weighthg) {\n\t\t\treturn this.trunc(weighthg / 2);\n\t\t},\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk) {\n\t\t\treturn this.modify(atk, 1.5);\n\t\t},\n\t\tonSourceModifyAccuracyPriority: 7,\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\n\t\t\tif (move.category === 'Physical' && typeof accuracy === 'number') {\n\t\t\t\treturn accuracy * 0.8;\n\t\t\t}\n\t\t},\n\t\tname: \"Alluminium Body\",\n\t\tshortDesc: \"Light Metal + Hustle\",\n\t},\n\tswarmrush: {\n\t\tonModifySpe(spe, pokemon) {\n\t\t\tif (this.field.isWeather('sandstorm')) {\n\t\t\t\treturn this.chainModify(2);\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (type === 'sandstorm') return false;\n\t\t},\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Bug' && attacker.hp <= attacker.maxhp / 3) {\n\t\t\t\tthis.debug('Swarm boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonModifySpAPriority: 5,\n\t\tonModifySpA(atk, attacker, defender, move) {\n\t\t\tif (move.type === 'Bug' && attacker.hp <= attacker.maxhp / 3) {\n\t\t\t\tthis.debug('Swarm boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tname: \"Swarm Rush\",\n\t\tshortDesc: \"Swarm + Sand Rush\",\n\t},\n\tcourageous: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk, pokemon) {\n\t\t\tif (pokemon.status) {\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t},\n\t\tonBoost(boost, target, source, effect) {\n\t\t\tif (source && target === source) return;\n\t\t\tif (boost.def && boost.def < 0) {\n\t\t\t\tdelete boost.def;\n\t\t\t\tif (!(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Defense\", \"[from] ability: Courageous\", \"[of] \" + target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tname: \"Courageous\",\n\t\tshortDesc: \"Big Pecks + Guts\",\n\t},\n\tsuperhustle: {\n\t\tonModifyAtkPriority: 5,\n\t\tonModifyAtk(atk) {\n\t\t\treturn this.modify(atk, 1.5);\n\t\t},\n\t\tonSourceModifyAccuracyPriority: 7,\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\n\t\t\tif (move.category === 'Physical' && typeof accuracy === 'number') {\n\t\t\t\treturn accuracy * 0.8;\n\t\t\t}\n\t\t},\n\t\tonModifyCritRatio(critRatio) {\n\t\t\treturn critRatio + 1;\n\t\t},\n\t\tname: \"Super Hustle\",\n\t\tshortDesc: \"Hustle + Super Luck\",\n\t},\n\tlevistatic: {\n\t\tonDamagingHit(damage, target, source, move) {\n\t\t\tif (move.flags['contact']) {\n\t\t\t\tif (this.randomChance(3, 10)) {\n\t\t\t\t\tsource.trySetStatus('par', target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonTryHit(target, source, move) {\n\t\t\tif (target !== source && move.type === 'Ground' && !source.hasAbility('aerialbreak') && !target.volatiles['smackdown']) {\n\t\t\t\tthis.add('-immune', target, '[from] ability: Levistatic');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Levistatic\",\n\t\tshortDesc: \"Levitate + Static\",\n\t},\n\tpolarattraction: {\n\t\tonFoeTrapPokemon(pokemon) {\n\t\t\tif (pokemon.status === 'par' && pokemon.isAdjacent(this.effectState.target)) {\n\t\t\t\tpokemon.tryTrap(true);\n\t\t\t}\n\t\t},\n\t\tonFoeMaybeTrapPokemon(pokemon, source) {\n\t\t\tif (!source) source = this.effectState.target;\n\t\t\tif (!source || !pokemon.isAdjacent(source)) return;\n\t\t\tif (!pokemon.status === 'par') {\n\t\t\t\tpokemon.maybeTrapped = true;\n\t\t\t}\n\t\t},\n\t\tname: \"Polar Attraction\",\n\t\tshortDesc: \"Traps paralyzed opponents.\",\n\t},\n\tflawedjaw: {\n\t\tonTryMove(pokemon, target, move) {\n\t\t\tif (move.flags['bite']) {\n\t\t\t\tthis.attrLastMove('[still]');\n\t\t\t\tthis.add('-fail', pokemon);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tname: \"Flawed Jaw\",\n\t\tshortDesc: \"This pok\u00E9mon cannot use Biting moves.\",\n\t},\n\tsubvergent: {\n\t\tonAfterEachBoost(boost, target, source, effect) {\n\t\t\tif (!source || target.side === source.side) {\n\t\t\t\tif (effect.id === 'stickyweb') {\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Subvergent only affects stats lowered by foes.\", true, source.side);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet statsLowered = false;\n\t\t\tlet i: BoostName;\n\t\t\tfor (i in boost) {\n\t\t\t\tif (boost[i]! < 0) {\n\t\t\t\t\tstatsLowered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (statsLowered) {\n\t\t\t\tthis.add('-ability', target, 'Subvergent');\n\t\t\t\tthis.boost({atk: 2}, target, target, null, true);\n\t\t\t\tconst stats: BoostName[] = [];\n\t\t\t\tconst boost: SparseBoostsTable = {};\n\t\t\t\tlet statPlus: BoostName;\n\t\t\t\tfor (statPlus in target.boosts) {\n\t\t\t\t\tif (statPlus === 'accuracy' || statPlus === 'evasion') continue;\n\t\t\t\t\tif (target.boosts[statPlus] < 6) {\n\t\t\t\t\t\tstats.push(statPlus);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst randomStat: BoostName | undefined = stats.length ? this.sample(stats) : undefined;\n\t\t\t\tif (randomStat) boost[randomStat] = 2;\n\t\t\t\tthis.boost(boost);\n\t\t\t}\n\t\t},\n\t\tname: \"Subvergent\",\n\t\tshortDesc: \"Raises Atk and a random (non Acc/Eva) stat by 2 when its stats are lowered by an opponent.\",\n\t},\n};\n\n"],
  "mappings": "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",
  "names": ["target", "boost"]
}
